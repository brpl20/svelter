 This week's episode is sponsored by Extrastatic. Extrastatic is a hosting service for Speckle Blogs. Speckle Blogs combine the simple conventions of Jekyll with the incredible power of Svelte. Check it out at Extrastatic.com. Welcome to Svelte Radio. I think that's just sort of my default response for quite a while. Just working, buried in work. But it's all good, it's all positive. Still hiring some people and getting on boarded and trying to run a team which is not something I profess as a skill, but it's what you learn on the job, I guess, because you have to. Yeah, learning those management skills, eh? Exactly. Exactly. So where are you guys at? What have you guys been doing over at Bianc? I mean, there's loads of stuff around sort of, I guess, being able to serve bigger and bigger customers. Just features for enterprise and et cetera in tech is the same sort of thing. The bigger the customer, the more sort of, I would say esoteric, I'm not sure it's esoteric, but basically the demands they have are quite high. So building things for them is quite a diversion from where we started, but then that's kind of the joy of startups. That's how pivoting works, isn't it? You just kind of keep swapping stuff around to meet the market that you find yourself in rather than the market you were aiming for, I suppose. Product market fit? Yeah, exactly. I don't know if it qualifies as that, but essentially it's just the people interested in our platform are different to the people we imagine would be interested in our platform. So whilst we're still serving the ones we're aiming at, we now have a whole set of new things to aim for that we hadn sort of expected or really factored in and starts off with a very simplistic idea and you end up with a lot of tech down the way and so keeping on top of that has become right ever more important and i think we do a pretty good job of it which is good it's an easy one we're still actually on sapper as well a lot of our stuff still on sapper there's a few spellcaps but yeah so i'm looking forward to migrating those because obviously i'm seeing all this really exciting stuff going on in kit and not being able to actually use it. So, yeah. Exciting times for you then. What about you? Yeah, so I've been a lecturer on Svelte, or like a conference talk at a smaller company, like a consulting agency here in Stockholm. They seem to like it. A lot of people showed up. Yeah, Svelte seems to be blowing up. Yeah. You didn't fancy banging the old Tory drum? The what? The Tory drum. The alternative to Electron. Yeah, no. Other than that, I've been mostly working on the Svelte Summit stuff. It's a lot of stuff to do. I just picked the venue that we're going to be at at the fall event, so that's nice. I don't have to worry about that anymore. I always felt kind of guilty when we're doing this purely community-wise, not being able to help as much as I would like to because of other commitments. And I think now it's your full-time job. I'm just saying, well, yeah, there you go, Kev. This is what you signed up for. Yeah, I brought this upon myself, right? So yeah, we just picked the venue, tweeted out some bits about tickets that you can buy. So that's always fun. And yeah, we have two confirmed speakers so far. so rich harris uh is one and penguin the almighty uh penguin will do a talk hopefully i've never i've never seen him speak live i've always wanted to never seen him speak live actually apart from obviously like talking directly to him but i've never seen him give a talk is what i mean yeah you know how what he sounds like in person then oh i know what he sounds like in person yeah we still do our maintainers meetings every month or so yeah that's true yeah interesting that you you just moved your window so you weren't staring at the desk. Was that from an external monitor to an internal monitor, by any chance, or vice versa? Vice versa. Right so interesting thing before you did that when it was on the other monitor there was loads of screen tearing and your face kept flicking off screen and going to green constantly And I was wondering what it was And you moved the window and it now perfect So another Mac monitor thing. Yeah, that is weird. Really weird. It's probably my weird camera setup as well. I have this DSLR thing, right? Oh, of course. It goes through all these weird contraptions on the way. Oh, there it is again, right? Yeah, that was it. Yeah, what did you do? I don't know, nothing. Yeah, anyway, so Svelte Summit. Yeah, so we have the spring event coming up in just like three weeks. So that's going to be exciting. And a couple of days before that, we have the Svelte London meetup that was just announced, right? Yes. So that's going to be kind of a pre-party thing. It is. we are trying to do the Svelte London meetup with a bit more, like a more regular cadence. Yeah. Because I think it's better for everyone. It gives more predictability to schedules. People can actually plan to do talks and stuff. And they know if they didn't do a talk for meeting A, they won't miss the next one kind of thing. It allows the venues to be more prepared. Yeah. So I think it's nice now that we've got enough people that this can happen because, again, when it's just me, it's just me trying to spread myself across too many things. which is definitely something that I apparently do. But yeah, so it's good that now there's other people who can sort of take up the slack when I'm not available or vice versa or just randomly get COVID, whatever I decide to do on the day. That has happened. Yeah. All right. So should we get into the meat of the topic of the podcast? Meat of the podcast? That's a weird thing to say. Let's do it. Yeah, so let's talk about page endpoints. What are page endpoints? Yeah, well, so I haven't looked at them in any depth because I haven't actually had to use them yet because we don't use endpoints a lot as a whole because our API is separate. But essentially it's a way of reducing the boilerplate. You don't have to write the load function anymore, right? Yeah, exactly. You can just serve the data straight from there and then ta-da, it's in your page magically. It just kind of inherits a lot of data, which I think is definitely in the right direction for Svelte. I know we had a lot of features and we have a lot of The API surface area whether we like it or not will always grow And I think the layouts thing we talk about next is an example of that But yeah essentially this is actually almost reducing API surface area It's almost simplifying removing boilerplate. So I think it's a really strong thing for Svelte to have. Yeah, when I started using Svelte and Sapper back in 2019, I was pretty new at the time. I always wondered, why do I have to write this fetching logic twice? Because that's basically what you have to do to get the SSR functionality. I just wanted to fetch it once in the load, or what was it called? Preload? It was in the preload, yeah. Yeah, I always wanted to just write it there, but then you can't fetch stuff from a database or whatever in there, so it would always just break. yeah yes exactly so so this is a way of basically just getting rid of that load stuff and then being able to fetch stuff from a database and it just auto generates the like a simple load function for you i guess in the in the background yeah it's a lot more like meteor was back in this heyday you know you've got like almost a database access directly in the browser it's not quite like that of course but it's it's it brings us close to that which means it's easy to manage that data anyway so yeah I quite like the idea of it although like I said I probably won't use it but maybe there's something I can do with my external API in this anyway who knows so the thing I was thinking about when I saw this the first time is sometimes you have these situations where you want to refresh data right so you want to you go to page and you load let's say 10 messages and then you want to have a button that says refresh or something like that. How do you do that? Do you just have to reload the page to run the... Do you get my conundrum here? Yeah, I do because you don't have that fetching logic in the page anymore. Yeah, because before that you could just fetch the endpoint in your regular script tag. I guess maybe you'd end up using sort of, I don't know, maybe a timeout or something. I'm not sure. Like I said, I haven't dug into it. I haven't really looked into it. I mean, I haven't tried out how it works and what it actually does in terms of the browser. Yeah, it's interesting.

 Because I have a similar sort of thing with pagination. We use the fact that changing the query will actually cause the load method. Well, I'm still even separate, like I said, but the preload method to run again, which will then fetch more results. But it's interesting because, yeah, I don't know how this would work alongside that. So I think in that case, you'd probably just have a param with the page, probably. And that would just refresh the page. But then there are situations like You don't want to reload the whole page, right? You kind of just want to reload some parts of the data, I guess, is the thing. I guess if you're partially updating data, you're not going to be running the preload method anyway, or the load method. You're going to be using a basic in-browser fetch to get any data, as and when. It's a good conundrum. It should be like a new section, it should be called Kev's Conundrums. That's a good idea. We could just have a bunch of different sections. That's probably what most podcasts do. Yeah, exactly. I'll tell you what, though, it's interesting because it would be a good section because it's almost like there are a million different approaches to everything that people do. And it's interesting, like on Twitter, you post it and what are you doing or whatever else. People can then respond with, well, this is how I do it, this is what I do. Yeah, it might be good to have that. Because I think pagination is one that, there's a million ways to do pagination. I've chosen one that kind of works the way I want it to. I don't know if it's perfect. It seems to work. But I do also know that SharedState, I've got a store that runs in preload, aka load, and that is actually server-side. Therefore, the state is global to the whole application and all its users. So that is probably not a great place to have a store. so I don't think anyone would run into it because one, it only stores the actual last page anyway but it's interesting to wonder effectively if two people looked at it at the same time would they get cross wires? Yeah and it's an easy gotcha, actually one that's been raised a few times, it's an easy gotcha which is that stores on the server side are global to the app. Same as they are on the front end but you're only global to the app, to the client, right? Yeah, because there's only one client Yeah I wonder if the serverless approach helps in this case Probably not right Because you still have kind of server instances running very short amounts of time on edges and then if two clients end up going to the same instance, I don't know. Yes, I mean serverless isn't serverless, right? Serverless is basically server management-less, I guess is a better way of putting it. So you would have the same issue. you might be lucky and hit different clients at different endpoints, but ultimately, yeah. As Lambda spins up and sits there 15 minutes, in that 15 minutes, if you've got this global piece of state, then everyone's interacting with it. So I don't know. Something to think about. Something for Kev's conundrums is what it is. Yeah, maybe we could reach out on Twitter and ask what kind of questions do people want answers to and then we could discuss whatever question that we find interesting. Read this right in. Exactly. Yeah, I like that. All right. So there's also named layouts. This is a new one. And this is a weird one in a sense. It's nice, but it's a bit confusing to me. So it seems like we're moving a lot of the logic out of the actual code into the file system, in a sense. Kind of. I guess before we start talking about it, maybe we can describe what it is. Yeah. Do you want to give it a go? Oh, I can give it a go. Yeah, I can give it a go. So essentially, one of the premises of Saperone and one of the premises that is SvelteKit is that file system-based routing is the way that routing is done. There's no routing config files. There's no way to actually interact with the router or add routes or anything else by config. Because it's sort of conventional configuration, it would get very confusing if you could actually augment it in the site. It took me a while to get on board with that because I liked describing all the file. I quite liked routing in that manner, but I'm sort of on board now with file system-based routing. But obviously file systems have a lot of restrictions in what characters you can use. And so that definitely makes it quite complicated to give the power of a configuration based file system without doing one of two things I guess one is making some really crazy file names And the second is to basically export properties from pages, right? I think that, you know, again, to keep it sort of simple in one place and to keep it file system based, we've gone with the approach of making this whole thing expressify the file names and so adding a at adding an at character so the problem we're trying to solve of course is that with a file system it's hierarchical so if you have a layout at the top level and you're two levels one level two levels down you're inheriting all the layouts from the parents and it means that if you have a specific url structure in your site it really it really sort of determines your layout and you can't do much about that there's no way you can turn that layout off other than stick it in a component and import it where you need it which is a bit messy so yeah what this solves therefore is allowing you to be nested somewhere down in a stack and essentially remove erasing layout skip a layout that's come from the hierarchy that it lives in so you could say i actually want to use a different layout from somewhere else on this one specific page um it's kind of hard to think of an example for that because for example one of the ways i use hierarchical layouts is uh i have a slash user on our site and under there you've got create password reset password login sign up whatever else i want those layouts to be consistent i want to have this big sidebar and some boxes on the other side and that makes sense but i have definitely seen an instance where i want to have a completely different layout for one page even though it sits in that logical url structure And so this provides a way to do that. And yeah, the syntax is a little difficult to get your head around to start with, but I think ultimately we spent a long time coming up with that structure. And so I think that really, I think we've come to the best conclusion possible. Yeah, it seems. So I was going to give the example of a, like you'll have a, say a marketing or like a landing page, and then you'll have a user accounts page where the layout for the marketing pages or the, yeah, I guess you'd call them marketing pages would be completely different maybe with a specific kind of navigation bar at the top but then once you signed up or signed in you have a completely different user experience in that you might have a like the navigation might be on the left side or whatever instead of the top, then you could probably use this. So maybe you'd call that layout maybe something like internal or admin or user or naming is hard. No, naming is hard. Naming is extremely hard, yeah. That's it. I think there are very limited, I say limited, it's rare that you need this functionality, but when you do, you're really kind of stuck. Yeah, before this it was very hard to, because you'd have to import different components and then depending on what the route was, you'd have to do an if statement and then do they use different layout components depending on where you're at. Yeah, so this is pretty nice. I haven't yet completely wrapped my head around all of this. I'm not sure what the, is there stuff you can't do with it? Is there stuff that you can do with this that you can't do with other ways of doing layouts? Yeah, I guess we'll see. So I saw the talk that Rich did at the New York meetup a couple days ago. He also showed something called typed params, which is also in the file system. So you know where you do the id square bracket kind of thing? Yeah. So if you do that and then you do id equals integer, for example. I think there's a match.js file somewhere as well. So if you do, I don't remember exactly, it's a function, right, that you just get the parameter and then you just check if it's following the logic. The format, yeah, it's parameters and matches, and matches can be more complex functions. The reason for this was because we used to have fall-through routes where if it didn't match a bunch of stuff, it would fall through. And that's fine, but sometimes it's not the most ideal way because you're ultimately looking for more specificity, I guess, in what you're looking for in a URL. And so yeah, you now have these files, you can export these parameters which have more complex matching logic. They were going to be called validators, but then I actually pointed out they don't validate anything. They're not, they're not. If you think about routers in a traditional sense,

 validation is a specific concept that means a specific thing. And it's not really that. It's more like a matcher because you're essentially matching a URL against a set of possible pages. And if it doesn't match any of those, then it comes up with a 404 kind of thing. I wonder if you could take this further. Because I remember, I think it's Elixir that has a concept of pattern matching is pretty big in functional programming. And I think they have the concept of where if you match something that ends up being an integer, you'll get one thing, and if it ends up matching into being a string, you'll get another kind of page. Yeah, that's essentially how you can do it. It's like a redgex, right? Yeah, but I wonder, that's probably not something you could do right now in SvelteKit, because you'd either have, either it's an integer, like in this case, or it's an error. because it would just error out if you're trying to go to an ID page that contains a string rather than just numbers. You'd have to do it manually at a endpoint that redirects people or you'd have to do some sort of fall through and the fall through is your other type of parameter, I guess. It would be ugly. It's not as clean for sure. Maybe you could do ID equals integer and then the pipe. and then you just match it to different things, and depending on what kind of thing you match it to, you can do different things in the analysis. Well, this is an example now. I don't know where we landed up with that, but I think that, as before, you could always use a regex in the file name to match specific things. Oh, right. I don't think we've lost that functionality. Okay. So you can effectively say it could be this or it could be that. But again, you definitely can because you can use the matches. And then now you've just got a function. And you say, either does or doesn't match this. Yeah, so this is a pretty new concept. I hadn't heard about it before I watched the talk, so I'm going to play around with that. Yeah, it's an interesting one. Not sure what I'm going to use it for yet, but we'll see. Well, I'll tell you actually one interesting way of using it is we change ID structure now and then, and we do have a different type of thing for an older ID. and so we can actually use that to say that this type of user whilst it is in the same path their URL matches an older style of ID therefore we should call some legacy endpoint or whatever or indicate some way that it's a legacy user. So it's used for that kind of thing too. That kind of makes sense. Like if your user is registered before... Yeah. Maybe not registered. Well, if it's an older kind of user, So you don't migrate a legacy type plan, maybe a bunch of sites have those now. The reason for doing this, obviously, is because people bookmark things, and I don't want to destroy everyone's bookmarks by having a legacy URL and a new URL in place of the old URL that doesn't work with their account and stuff. So it's a way of saying I can differentiate and almost it's completely transparent to the user. Yeah, that's pretty nice. Yeah. I think that that's pretty much it for the new features. Is there anything else? Yeah, there's a lot of stuff going on. prior to 1.0. I think one thing we, I believe we merged last night, I can't remember if we did or not, but it's a SvelteKit colon reload parameter. So it's a lot like the old rel external or download attribute on anchor links. If it has SvelteKit colon reload, it basically will follow the link as if it were just a regular HTML link and Sapper, sorry, SvelteKit will not intercept that and handle it as an SBA link. So it's just kind of unifying that behavior. So that's nice for downloading files. Well, downloading files, you can use a download attribute, which will do that for you anyway. But yeah, if you want consistency, you can use the reload as well. Yeah, it's a bunch of kind of, I call it low-hanging fruit, but things that have been not merged for a while, kind of been sitting there that I think are now going in because we're kind of trying to do the final run-up to 1.0 with a bit of luck and make sense to get some of these things decided and out of the way. so yeah, it's all that fun and games yeah is it time for 1.0 soon? I mean, it's always time for 1.0, right? yeah it's always time yeah, I mean, that's it so it's important to get these little decisions made because once you hit 1.0 those decisions are a bit set in stone, aren't they? yeah, for sure alright, yeah, I guess that's the topics for this week That's the crux of it. Yeah. So we now have the infamous section Unpopular Opinions Unpopular opinions Do you have one This is very weird, Anthony. I didn't expect this. I know, I didn't expect it either. I'm sure I've got some. I've sort of pushed them down deep inside and let them rot. Yeah, I don't really have any. I have one. Go ahead. I can go. So yeah, AWS is a headache. Oof, it's not that unpopular. Yeah, that's probably just semi-popular depending on who you ask, I guess. I mean, isn't this the entire premise of the cell, NetDefy, you name it? AWS is a headache. Yeah, it is what it is. Somebody went and built a multi-billion dollar company around AWS being a headache. That's pretty cool that someone could do that. Yeah, that's my opinion. It's a headache. Yeah. Do you have any picks? My pick's got to be this weird sound card that I've bought. Didn't you pick that last week? Did I pick it last week? Probably did, didn't I? Well, pick it again. I would pick it again if I could. It is really good. No, I don't know if I was using it last week. I think I got it, but I hadn't set it up, maybe. Well, pick it then. Well, I'm picking it. This is me picking it right now. Tell me about it. The D-Pushing D8. Yeah, I mean, it's super cheap. It's got loads of inputs, like eight inputs. It's got some fancy special effects. Wait, so you can have eight microphones? Yeah, you can have eight microphones. You can have eight microphones, you can have a computer, you can have anything you want. it's got some effects hang on let's try the effects is this the effect yeah there's a few different random effects I can do like a hallway type thing oh wow I've got it on max I can turn that down reverb is number 13 that's a reverb and I can make it a really short reverb or really long reverb That's beautiful. It's beautiful. I imagine you'll use that a lot. I use it in meetings when I get bored. People know I bored because I using it in a meeting That the cue to end the meeting Yeah All right so that your pick What was it called Depusheng D-E-P-U-S-H-E-N-G. D-E-H. Depusheng. Depusheng. I think it's one of these, like a Chinese factory using a sort of Western sounding name that's constructed from words that sound, I don't know, maybe music-y, I'm not quite sure. It doesn't end up sounding English at all No It's essentially like one of these Amazon things There's actually quite a few on there There's some really tempting options that have got flashy lights and color fading across the top of them around the same price range But this one I liked because it's got some very, very Oh no, this one I chose because of the XLR inputs It's got a phantom powered XLR built in which is great. And it costs the same price as my standalone Phantom Power Box. So how they do at that price range, I just don't know, but they do. You don't want to know. I don't want to know. No, I probably don't want to know, actually. Let's not mention that. Yeah. Yeah. All right. Cool. I've got a pick as well. So I recently started renting a desk at an office. so I just started sitting there going there last week, Monday and this is like an old agency I used to work at and I know a lot of the people that work there so it's pretty nice to sit and talk to actual people and just have micro pauses between work sessions I can definitely recommend meeting people in person I don't go there every day but a couple of days a week is nice And do you have to pay for rent for the whole week or do you just pay for two days? No, so I pay for it for the whole time So your pick is meeting, is actual human interaction Yes Do you guys have an office? in London? We do use WeWorks, we just use like, Oh, right. Yep. Lowest common denominator stuff, but essentially like we were going to get an office, but COVID happened. Then we had people who are all sort of scattered about the place and so we're like, well, realistically,

 It doesn't work for everybody. We were paying a lot of money and not everyone would come in all the time. So we're just kind of winging it for now and having a few people here and there. It would be nice to maybe have a permanent office soon. But we're not doing anything about it just yet. I think a lot of people we hired actually are probably one of their big pulls for the job was actually the remote working thing anyway. Yeah, I can imagine. some companies are starting to do this thing where you do like we need you to come in at least three days a week for some reason even though everything's been working fine completely fine with everyone being remote all the time it's an odd thing it is, it's one of those things I do like being at home now it gives me a lot of freedom to get stuff done that I need to get done work hours which work better for me Yeah, I mean that makes complete sense to me as well. It just a thing where it weird when you start forcing people into doing stuff that doesn work for you I don know Anyway that my pick Human interaction at offices Nice. All right. Yeah, so that's this week. Is there anything else we want to touch upon? Probably not. No, I think we're good. Yeah, all right. Yeah, so this is, by the way, for everyone listening, so this is the first week where we're doing, we've switched to a more regular recording time. So we're recording once a week at a set time and we're doing it with or without all the hosts because it's very hard to make things happen when we're all scattered about and we have different things going on. Yeah, we've sometimes waited months for everyone to be available. Yep, yep. So yeah, I think this is going to be nice. So sometimes you might not hear me, Sometimes you might not hear Anthony. Sometimes you might not hear Sean, like today. But you'll hopefully at least hear two of us. All right. Cool. All right. That's it then. Thanks for listening and talk to you all next week. Bye. Bye.