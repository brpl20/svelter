 Hey friends, are you using TypeScript with SvelteKit? In that case you're probably familiar with having to do something like this, where you have to import the type on the backend for your load function on the server, and this gets really confusing quick, do you need page server load, do you need page load, or whatever, and then on your frontend to get full type safety, you import page data and then this is typed for you, which is really great, so you can do something like this, and then you can say data message. Well this is kind of really cool to have this kind of time safety, but couldn't the framework do more for you? And as of recently, it can. You no longer need to use type annotations for special SwellKit values. Let's remove all of this. We can remove this import, remove page data, and now if I save it, you should see when I hover over it, it's still typed. So we can change message to title, and it should update, and if you have some problem with your language server, you can just press Ctrl P, pointy boy, restart language server or whatever. And this is going to give you a warning. Hey, this doesn't exist. And this is great. So press Ctrl Shift F in your editor or whatever. And you can just start searching for types. And you can remove this sort of thing for everything in your code base All right So basically that it Just do that that in your codebase and you going to be good Another benefit you might not realize immediately is that you no longer have to use arrow functions because in TypeScript to type a function you have to use an arrow function, or if you've seen in the SvelkyDocs example, you can use Satisfy, so you can turn your arrow function into a regular function. So you can say export function load, now you can remove this, and awesome. But for the rest of you who are more curious, let's go over the blog post. Alright, so here is the post that was put out of Svelte on March 9th in the year of our lord 2023. It says by sprinkling type annotations into your SvelteKit apps you can get full type safety across the network. So as we've already seen, but if you're using VS Code, you can now just upgrade the SvelteKit extension, which is already done automatically, to the latest version and that's it. You don't have to update your SvelteKit version or whatever, this works now by the language tools handling the types for you. So here it has a recap how the generated types work, so you might be familiar with this, which we've already seen using the types, and basically how type generation works in Svelte, for every route directory has a hidden types.dts file with route specific types, so here are your types that have a typo here, right, and then it really warns you that you've done something wrong, and here you get the types back on your frontend. So here is how it worked When running the dev server of the build types are auto thanks to the file system routing So SwellKit is able to infer things like the correct parameters or whatever And the result is outputted into a types.dts file for each route, which looks like this. So for example, you have a route, and then it creates all of these types for you. But you don't really see those types. You might be wondering, okay, where are those types in my project? And basically, SwellKit uses this really cool feature of TypeScript called root directories. So instead of those types being generated for all your routes inside your actual routes where they're located, which would be a complete mess, as they say here, you don't actually write into your source directory, that would be messy, you know, who likes messy code, instead we use a typing feature called root directories, which let us map virtual directories to real ones. So by setting root directories to the project root, the default is .swellkit slash type, so you don't really see this folder, which is always safe to delete, right? and this is your output folder of all the generated types. And then it mirrors the route structure inside to get the desired behavior. So for example, on this, this looks like here's your project where you have source, all your types, and then it generates the types inside .swellkit, so you have type source routes, and then for each individual route, it's mapped to this. And basically, this is how TypeScript sees, so it sees like that file is actually there, which is something really awesome and I didn't know about. All right, so how does this really How did they make this work? So here they talk about type safety without types If you wondering yes this works for all exported types from SwellKit files from your plus page layout server hooks and etc Everything that uses this types for actions and etc., you can just remove it. And they say here to use this feature with VS Code inside the latest version of the Svelte for VS Code extension, and it also works for other IDEs because of the Svelte language server. Okay, so here's the interesting part. How does this work? Basically, it's really fascinating if I understand this right. Basically, how you have your .svelte file or whatever your language server on the fly replaces that file so basically when typescript looks at your file it's not looking at your file but it's instead looking at the type definition of it so in both we auto insert the correct types at the correct position and tell typescript to use our virtual augmented file instead of the original untyped file so that's what typescript looks at when it's doing type checking in your project and it also works for swell check if you're checking for errors and etc, so you don't have to worry about that. Alright so I hope you appreciated this shorter video, don't forget to like and subscribe and you can also find my Patreon if you want to support me. So thank you for watching and catch you in the next one. Peace! you