 Alright, hi there. So in this video I'm going to create a full stack CRUD application in just 50 lines of code. And let's see how long it takes. So first thing I'm going to do is go to userbase.com and I'm also going to open Netlify.com because we're going to use that later. So userbase, we're going to try it free and I'm going to create a new account. So full name, so this is just going to be a throwaway account. And password, okay. Create Great admin. Cool. So I have this admin. Now let's start a Svelte project. I'm going to change directory into here. Dget Svelte.js slash template. SunStack. All right, so I'm really loving this stack. I'm calling it SunStack, Svelte or Sapper, user base, and Netlify for deploying and its other goodies it gives you. Okay, so it's installing. While it's doing that, I will open that up in VS Code. Okay, so user base is for logging users in, authentication. It's also a database. I'll make another video on it, but for now I'm just trying to make a crud app as quick as I can. And if I had a faster computer, that would help a lot. Okay, so I grabbed the ID from there. Here in source, app.svelte, I'm going to give it all of this. Okay. Come on. Okay, scripts, const app id equals this here. Okay, so to use user base, going to open the docs. And installation, I'm just going to grab it from the SDK. And full disclosure, I'm going to do some sort of cheap moves to get it to 50 lines of code. Okay, we don't need these. Okay. I bet so, okay, so we got the app ID and we're going to grab off the window const user base equals window dot user base. So that um so what I just put in there or what I use that it going to add user base to the window So I going to open my terminal command J and then npm run dev Okay so first thing we going to do is have a login So let's create that. It's going to be a form. Oh man, I'm not getting autocomplete. Okay, form. It's going to be a label, id equals, sorry, for equals username. There we go. User name. And there's going to be an input type equals text, and the ID equals username. And we're going to bind this to a variable called username. Let me put that up here. Username, and we're also going to have a password. Cool. And I'll copy paste this and then just change username to password. There we go. Okay. So this HTML writing is a bit slow, but I'll get to it in a minute. Okay. So we got a password and then username is going to be password. And this is going to be type password. Okay, cool. So we're going to have two buttons. Okay, here we go. Get into the better stuff. So I'm just going to have sign in and I'm going to have a button for sign up. And when I click them, on click equals, one is going to be sign in, one is going to be sign up. And they need to be type equals button, that way they don't submit the form. So I'm kind of, you know, I'm not really doing this the right way, but because I want two buttons in here, one sign in, one sign up, just to simplify things, I'm not going to submit the form. So, okay, and here we go. I'm going to be a little cheap here with this function. So sign in equals, it's going to be user base dot sign in. And all we need is username, password, and that's going to sign in the user. Awesome. And we're going to have sign up equals this user base dot sign up username and password. And that's all. Okay, so I'm going to change this a little bit. Okay, wait. sign in, what's wrong with that? Sign up. Okay, nothing wrong. So we're going to, so to use user base we need to initialize it So right here user base dot init and then you going to pass in app ID So rather than having this here I going to get rid of that and put it right there Okay, and userbase.init.then. So if there is a user logged in, we destructure it out. And I'm going to set this to, I'm going to have a user object equals user. So initially the user object is null. So if nobody's logged in, it's null. And then if they are logged in and they load the page, it'll automatically set that user to the user. Okay. So we got username and password, sign in, sign up. We've got both of our buttons. Okay. Let's see how it's looking. Okay. So username, password, I'm just going to add a break right there. Okay. Uh, username, password, sign in, sign up. Okay. So one thing I want to do is I'm going to use the await. And here we're going to have auth promise. So basically we want to show a loading screen when they load it up and it's checking, oh, are they logged in or not? It's going to be loading. And then we also want that loading screen if they sign in or sign up right after they do it. So I'm going to create something called let auth promise equal, actually, I can just set this here, auth promise. Okay, so while it's booting up, there will be this promise while it's initializing. So we're going to wait this auth promise. And I'm just going to say loading. And then we don't care about the response, so I'll just underscore. And then And down here, I'm going to have catch error. So I'm just going to say error. So this isn't going to be very pretty. It's just going to be functional. You can add your own designs. And close the await. Okay, so loading and error. And put this in Cool auth promise So another thing we want to do so if when they sign in or when they sign up we want to have an auth promise as well So auth promise equals this auth promise equals that. Okay, and then the other thing I'm going to add on right here is that once they sign up, we can do .then and it'll pass us the user object. So user goes to, it'll say user object equals user. So our user object is what we're using in the code here. Cool. So that is all we need for sign in and sign up. So the only thing is with a free account, you only get three users and one app. So no users yet. Hopefully this works. Username, I'm going to do a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a a. Okay. Sign up. Loading. Okay. So cool. So they're now logged in. I get this. Um, it's just that we're only showing this form all the time. So rather than always showing the form, we're going to say if not user object. So if nobody's logged in, we'll show the form. And then otherwise, um, otherwise we're going to say, oh man, we're going to say hi, user object dot username. Okay, so hopefully this is working. Let's see. Cool. So there's hiAA because I'm logged in. So next we're going to add a logout. I'm going to call it sign out just to keep everything consistent. Okay, so again, it's auth promise equals userbase. And here we can just say sign out. Cool. And then I'm going to add a then here. So once they've signed out, I'm going to set the user object to null. Oops. Like this. Okay. And And then so when they're logged in here in their login state, I'm going to add a button on click equals sign out. Uh, and I'll call it log out. And I'm just going to add a style here. Um, position absolute top 10 pixels and right.

 to put it up in the right corner out of the way. Okay. And I'm just going to add this for now. Here, console.log, so you can see what this user object is. Okay. So loading, hi, a logout. I'm going to open the terminal or not the terminal, the adeptools. Okay. This is the object. So auth token, creation date, payment mode, user ID, user name. So I'm just using this for now. Okay, and if I log out, it is null again, and I'm logged out. So now I can sign in with a... And there I am, signed in. Okay, cool. So we got auth working. I don't know how long that took, but now we're going to add the database, the to-do list. So this is all... Okay, this is kind of like init stuff. And then here, this is like auth stuff. And now we're going to come down and do database stuff. So DB stuff. Okay. And I'm going to delete all these lines to get down to the 50. But for now, I'll write it like this. Okay. So DB stuff. We've got our... Okay. What do we need? We need to-dos is going to be a list. And we need a new to-do. So there's going to be an input for new to-do. And we're going to bind to this new to-do. And whenever a new todo is created, we'll be using this right here. Okay. So one thing we need to do, we're gonna have a reactive statement. If user objects, so if they're logged in, we're going to connect to the database. So that is just user base dot, crap, I forget. Is it create? No. Okay. I'm going to check the docs. Docs. So they've got this great quick start. Is it creating? No, it's not connect. Using the database. So, database name, open database. Okay, we're opening this, right. Open database. So there's going to be a database name, and there's going to be a change handler. So here I'm going to say const database name equals todos. So that going to be passed here database name and then a change handler Function change handler So for this it just going to be so whenever something gets added or updated, this change handler is going to pass all the items from this database into here. So I'm going to say to-dos equals items. So whenever the database updates, it'll update into this to-dos, and I'll have all my to-dos. Okay, cool. So we've connected to the database and now we need to have our credit operations. So first would be create to-do. So let's see, come down here, we got sign out. Now we need to create to-do. So input type equals text. I'm going to say id equals new to do and we're binding the value to the new to do like that. And I will give it a label new to do for new to do. Okay, cool. So on click, so this button add to do onclick equals add to do. So we're going to define that up here. Function add to do. So we're going to use new to do, which is up here. And I guess for now, I'll just do that. So for this, it's user base dot insert item. It's going to be the database name, comma, item. And the item is going to be this new to do. And then I'm going to set new to do immediately to empty. And another thing we're going to do is have a let to do promise. So right here we're going to set to do promise. So whenever some crudon loading, so new to do, it's right here. So await to do promise loading to do. So this isn't the greatest use. This won't be the greatest user experience, but this will work for now. And then down here we going to do something similar So you know I am just doing this so I can get more lines in but I kind of like this syntax because I don have to worry about the loading and the error state I just kind of have my await and then what it's awaiting down here. Okay, so to-do promise. So on-click add to-do. It'll add that to-do. Okay, that should work. One thing we need to do though is show all of our to-dos. So each to-dos as... Okay, so a to-do is going to have two things, or anything that you put in the database is going to have two things. One is going to be item and one is going to be item ID. I'm also going to have index. Okay, and each. So here we're going to show, so I am going to do this. I'm going to have an input type equals text. Actually for now, just to show you, I'm going to just do item. And just so you see the item ID, I'll put that there too. Okay, so we'll be able to see all of the to-dos. So remember when we userbase.insertItem, this will insert the item, it'll put it here as a promise, and then once that promise resolves, there'll be this change handler here that triggers because the database has been updated, but it'll resolve and then it'll show us all of our to-do stuff again. Okay, I feel like maybe there will be an error here, but let's see. to do something. Okay, database not open. Okay, so my issue was this one here, open database. I just misspelled here, database. And another thing I want to do is, while it's connecting to the database, we want to have this to-do promise so it blocks any interaction. What is wrong with that? To-do promise. That should work. Okay, so So come back here, loading, cool. So new to do, something. Okay, there it is. Close something and that's its ID here. And if we come here to admin panel, we refresh, oh, I should have showed you this before. So you can see the users, but you can't see any of their data. So that's one kind of cool thing about this. So it very secure for them and no one can access their data but them Okay So let make this look a little better Okay There we go Uh button add to do so items So we don't want to show the item ID. Okay. So what I'm going to do is kind of similar to my other to do video. I'm going to have this here, an input and bind the value. So this is a bit wonky, but I'm going to bind the value to dos at index dot item. And then I'm going to have a button on click equals delete item or delete to do. And I'm going to pass in the item ID here. Okay. I'm kind of doing two things at once. So I'm going to put an X for delete. Um, and let me see, do a break there. Okay. So, um, this here is for when I want to update it and this is for deleting. So I've already done the creating. and now I'm going to delete todo. It's going to get passed in the item ID and this is fairly simple. Todo promise equals userbase.deleteItem database name and then item ID. Okay and that's all there is to it. That'll delete it for you. So let's see if this is looking any better. I need another break somewhere. I don't want that to do. Yeah. Okay. So it's calling all of our to do's. We got them here. If I add another one, that to do, now I have it there. Let's try to delete it. And there we go. Let's delete it. Okay, cool. So that is all working. Finally, we need to update. So this isn't, like I said, the greatest user experience, but basically what we're going to do is on blur, it's going to update it. So on blur, update, update todo. Okay, and for this I'm going to pass in the index. This is a bit different. Passing in the index so that I can access, since it's bound, okay, I hope this makes sense. I'm, okay, so I got the index. So this is the index inside of todo's. So I'm using

 the index. So I can get the item and the item ID equals todos at index. So since I'm binding it to its position in the todos list, if I go over here and I type something new like that, then it's going to update in this todos list. So I'm grabbing it from the todos list and it's been updated there. So now I just need to grab out this updated item and item ID, and to-do promise is going to equal userbase.updateItem, database name, item ID, and item. So this is the updated item, right? And it's just a string. Hope that makes sense. Okay, so we got add to-do, delete to-do, update to-do. Okay, is that everything? Let's try it out. See if there's any bugs. Okay, loading. So I logged in as AAA I add a new to Cool so I have hello Let say I want it to be hello there Cool and it updates hello there So if I refresh something hello there I can log out and I can 123 123 log back in Yes, my password's bad. And I have my data there. Okay, cool. I think that's everything. So that is a to-do list. And I know I said 50 lines of code, but it is, is, let's see, we're going to delete all this, delete these lines, delete the comment. Okay, that's 51. There's some other thing I must've done to get it down to 50. So I can just, this is just one line function. So let's say I do that. I think, oh, I could put two do promise on the same line as this. It doesn't really matter. Anyway. Okay. 50 lines of code. Actually, sorry, just because I want it to be exactly 50, I'll put to-do promise on this line. Okay. So obviously that doesn't mean much, right? Because I'm putting stuff on one line, it's maybe less readable. But anyway 50 lines of code that pretty cool Let me zoom out So this is everything and we have a CRUD application with authentication using the SunStack So, oh, I need to deploy it to Netlify also. So let me end this here, npm run build. And then I just need to drag and drop my public. Oh wait, I don't really want to go through my finder and login, email, spell dummy. And then I just need to drag and drop this public folder into here. So I guess I'll open my finder. Um, there we go. Uploading deploying and let see if this works Okay I going to make a new user Okay starting from scratch Let say I someone I come to this link I going to be BBBBBBBBBBBBBBBBBB I'm going to sign up. Here I am signing up, making my to-dos, eat breakfast. Cool, I can eat breakfast, I can eat lunch, and I can actually, actually I don't want to eat breakfast. I deleted that? Okay, something weird happened there. I want to eat supper though, that's for sure. And I want to actually eat, not supper, dinner. Cool. And then I can refresh, it's still there. I can log out. BBB, BBB, BBB, BBB, BBB. I can sign in and my stuff is still there. Okay, cool. So we deployed. I don't know how long that took. I guess I will put it in the title and you'll just see on the video how long that took. But I think a bit maybe over 30, 40, 50 minutes. Okay, that's everything. Please like and subscribe. Let me know if you want to learn more about Userbase and Svelte. Okay, bye.