 I didn't print much slides today, I have no slides. So I'm Jean-Yves and you will discover the links directly. So, are you on the right route? This is the question. So let's click on next and we will play a game right now. To play this game, we need everyone to stand up. Again, you need everyone to stand up, please. Previous, next, next, everyone stand up. So let's go to the first question. The question, are you on the right route? So let's pretend that we have this route system here. We are here. You see on the top here, question zero, zero. We are here. If we have a href slash q01, will you arrive? If you think that, yes, raise your hand. If you think that no, keep your hand down. If I click on the link, will we arrive? Okay, I click. Yes! Who had the hands down? You can sit down now. You can sit down. Okay, next question. We are now on question 01 slash next. We are now here. Will we arrive? Let's have a look. Raise the hand. Or not. Will we arrive? 404. Who has the rain down? Come on, it's already finished. Come on. I was expecting a lot more people up, so maybe you should go up again. I don't know. Okay, we will continue. So I will go to next two. You didn't notice, oh no, I will not go to next two, sorry. My routing system is a bit complicated. One second, next. Okay, so you didn't notice, but here it was a O. And here it was a zero. Everyone down, very good. What I will show after will help you a lot. So will you arrive? No. Okay, so now let's go to next. The next two, sorry. Is it next two? No, it's not next two. Zero. It's zero. Okay Okay we can maybe reset Will we arrive A bit more complex question now We are on question 01 slash next plus page dot svelte You can see on top And we want to go to qxx bracket id Will we arrive Yeah, we don't care about that. Ah, yeah, sure. Next two, yes, I should have updated the slide. It's a slight mistake, not a problem. Can we go there? Yes or no? We don't know. I click. Yes, you are on the first parameter called first, because when you put brackets like this, it's a parameter and when you click there, you go to the first parameter first. Okay, let's go to the next one. Will we arrive? No, now we go to the question why, why? double id. Does this exist or not? Will we arrive and then we don't even have the double id. Will we arrive? Some people have no hands at all. Never mind. Yes, we arrive because double bracket means it's an optional parameter. Next one. It's almost finished. Okay, now we go to a bit more interesting stuff. So we have some layout, we have some optional folders. I don't know if you are aware of this in Svelte. We go in a new layout, plus layout.svelte, demo layout, page, at new.svelte. Yeah, it's possible to do all this in SvelteKit. So will we arrive? No, we don't arrive. Why we don't arrive? I think I'll go to two. because I forgot the slash demo. And now if I go to the slash demo, yes, because when we have the at new, it specifies the name of the layout you want to use in your page. Okay, next. And now it's the final question. Will we arrive to know how many winners? So one, two, three, four, five. It was zero, but let's go to final. Will we arrive? And the five, come on. Up, down, up, down, up, down, up. Four or four or down. Why why why why we were not arriving there Exactly uppercase H lower case H So now let fix it because it not funny right So we go here and we fix it here and we put a capital H here. And we put a capital H here. Save. And now if we go back to five, we will arrive. Yes. Bravo. Five people were there. I mean, not really five, but whatever. Why I show you this game? you this game because I want to introduce you to a very cool plugin. A cool plugin called... Exactly. Everyone, me also. So everyone, what are you doing in your application? You go in your slash lib and you create a file called route and like this all the time you go to this file route and you know exactly what you're doing. But this file you have to manually maintain it, right? So the idea is to be lazy and just add a Vick plugin that maintains this file for you. So I come here, I already installed it, but here I will just declare it, KitRoute. Everything is imported, save. And when I save this, you will see that at the bottom it's telling me, oh, KitRoute created a file for me. And this file is here, sourcelib route.ts. So we can have a small look into it. and you start seeing question zero, question one, question one next. He's looking at all my file structure and creating everything for you. Like this, you don't need to maintain this file. Okay, so now if we go back to our winner stuff here, instead of having hard coded at-rep, I don't know if it's a capital H or not, I will just remove all that. Let's remove and I will do, if I manage, route, importing from solarlib. And if I open here now the quote, it's proposing me all what is available. And there was one called, you know how many winners? And if I do this now I cannot have a problem, which is pretty nice. And you saw that, or maybe you didn't see, but just before I had a query parameter here. And we want to teach our which is static, we want to teach him, look at the query parameter please. And to do that, I will go back to my config and I can configure this object here So if I open here I can have a lot of configuration and one of them is called pages And we want to configure that on some pages we have some search params So if I open here, I can configure a few pages. And if I control space, oh yes, control space is something that JavaScript developer doesn't know. But in TypeScript, we can have auto completion. And this helps quite a lot, right? And if I control space here, I don't know the name of all my pages in my app. But to overcome this, you can come and add one crazy type here called kit. If I manage to type it, kit underscore route, yes. Import it from also the same place. And now if I go to page, control space, now he knows also my page. So I know how to configure all my pages. And I said I want to configure my page called new how many winners. and now I open here again the object and I want to say I have on this route an explicit search parameter. My explicit search parameter that I forgot to type, okay, will be named number, it was nb, okay, and here again I open and I want to say it's required because I want to specify the number of users at who1. If I go back now to my page, little, little underlined thing that you cannot go there. You have to put the number. Let's add the number. So I go here, open an object, control space, number, here. And we can say five. Or we can say, actually number, but okay, let's say five. And now if we go back, whatever, it goes to five because we have the number. So now automatically you cannot have a problem with routes at all. And that's it. That was my talk. Any questions? It's so easy. I don't know again. What if I change this, how many winners open it? Yeah, let's do this. How many winners, I don't want to do too crazy things, are here. So it's regenerating my file. Of course, I'm still on the page, so it's showing me a 404.

 But in the background, it's generating my file. And now I have still this one on the line red, which is pretty cool. Like this, I know that I need to change something. Another cool thing is that I can come here and do this PMPM check. This is a command to run on all your files to see if it's valid your files. And this is telling me, oh, in this file, because I don't want to go and check in each file, is it underlined red? You know, and then it's telling me on this file, this does not exist. So I come here and I will control space. No suggestion, of course. It should have a suggestion. Okay, you know what, it's probably a restart, yeah? No, it's not like it. You see, I restart always everything. It's my TypeScript server, which is not answering, so I don't know why it's not doing. We're in the TypeScript file, do we start the TypeScript? Yay. Yeah, come on No I really thought I don't reload right Come on You could go into the routes.ts file and restart the server. Restart the server. But this should restart everything, no? Yeah, this should. Enix and culture, blah, blah, blah. Ah, very good. Okay, it's too tricky one. But it's telling me also, you see? I configure that I have an explicit route on this one, which doesn't exist anymore. So even very good to have this. Okay, save. I don't know why. Oh, okay. So this is, sorry, this is a Mac issue. I closed all VS code. So if the way it had set it as an explicit route. Yeah, it would have worked, yes, exactly. Okay, so I closed this. I have PNP and dev again. Okay, that's that. So I have this guy here still. I go one back. Save this file. Control space I have it here save this file Will you write Yes Okay so we can rename this So if you have to rename the folder you have to rename your root in VIT and you have to rename No, no. So here it's a bit special. We rename something very special to say, okay, we have an explicit param now here. I would say yeah it's a very special case, but if not, yeah you need to place to update at the two places which is kind of normal. So maybe why we go in this direction? Now there is a direction that this will go into SvelteKit core, so you don't even need to install this magnificent this brilliant plugin, vid plugin kit route, because it will be native in SvelteKit core. So there is already in Zeldkit core a function called resolve root. Maybe some of you used it already, but this resolve root is a string. So you do what you want. So you have no type check. And right now there is a pull request open by me to have this one in the core. And we are discussing this kind of things because this kind of thing is not so nice to to have the configuration to do manually. But where do you put search param? So this is a question open today to the core team where do we put this information to say there is a search bar arm and you can even be crazy here because i didn't show all the possibilities but you can put a type here and you can say it's type number or number or it's number number but i can put number or a for example. I can do this and like this it will type check that it's A or its number. So all this kind of thing, how to make it into the Zveikit core as well. So these are questions open. Yes, there was another question. First of all, it's very funny that the plugin passes its own output as its own input with the type. I like it too. If not, it was two files. Okay, so my question was about button size. Because I wonder if all the routes are now going to end up in your button. Yes. But if you don't like this behavior, we have a way to do format. because some people don like this format of things So let put here I can put variables And now my kit route will not be one big object with all the routes but it will be individual objects So if you are very keen on this, you can do this. But then if you want to import 20 imports, you have 20 imports on top of your file. And people are like, oh no, it's too much. Okay, then you decide. It's a fail-off, yeah. Yeah, but here you can switch from one to the other, so it's cool. Okay, third thing, I have a very cool idea that maybe will not work, but maybe it will. You could have a type reference inside your plugin that points to the user's routes, TS5, potentially. Routes? What? Okay, so inside the VeeTpluginClickRoute, like, package, you have a type definition that points outwards somehow to the user's routes of TS file that the VeeTplugin creates. That way, you wouldn't have to, you wouldn't need to pass in, like, a generic. You mean this generic? Yeah. This is not a generic, huh? No. This is... The package self-references the TS file that it generates. Yes. Does that make sense? I mean, you could try eventually. It would be funny. Yeah, I see what you mean, but... It's weird. I agree. I think this is more, this is less magic, so it's probably better. Actually, you can also tune the path of this file. Right, okay. So, yeah, but well, we can have fun, yeah. Another idea that I started developing, actually, is to not have this, because we like all, probably to have a vid config quite light. And when you start to have a big project and you want to really specify such param, you start to have a long file. So actually this bit of configuration, I also put it in the root.ts. And then you see at the beginning there is like a ESLin disabled and do not edit this file manually. And before this comment, you can put the the configuration of the plugin and it will read and rewrite the the file again and i decided that maybe it was too complicated so i removed it um yeah so yeah how do you generate further for the rod plan how do you generate the code I don know exactly how to Is it just like a string or do you build an AST No, right now it's just a string. It's just I write the whole thing. It's enough because we have a file structure. So to get the information is really easy. And yeah, writing is very easy too. When it's got to be a bit tricky is that you can do also in Svelteet. I don't know if you know this, but you can do like demo and then you can do. Param p equals int to say that it will be an integer. And then this integer, you can have actually a folder called params. And in param, you can have a file called int.ts. And this will validate that it's an integer. And my plugin is inferring from the function you're returning in here. And for this, I needed to do this AST. But it's the only place I need the AST. So by default you don't need to explicitly type the type, it will infer from your project. That's another stupid idea. An extra S does this, so I highly advance against it. But you could export, like I don't know if that's even possible in Svap. Everything is possible. Can you export stuff from a Svap? Currently, yes. Yes, with the script module, yeah, but it's not recommended. Yeah. So I don't know if that's possible, maybe you could do like export const browse config equals and then something, and you could like parse the file or do static code analysis on the file to generate the curve from parameter. Yeah, exactly. So this is what is proposed today in the SvelteKit core. So it's not even hacking at but like here I would put, you know, in the plus page dot yes, because usually we do it like this. And here we have already this export count SSR equals to two, false. This is already existing. And the idea is to come here and say, search for arm and then say, okay, I have number. I guess you specify that on your plus page here,

 You expect to have this one or it's optional or it's and then you start growing growing your requirement and then everything is going It's a much yeah, it's good and bad because if you have only such time you need to create two files So it's a bit but okay. This is organized No, no, no, no, of course not it's a it's a it's in a universal for page now Yeah, but so at my level, at the library level, I could go for this. Yeah, of course. But in the core... You're a deep guy, you can do whatever you want. Exactly. So even there is an issue open saying that you should read the file and look at search params because people type search params. So I could... But it's a lot of effort. And then what do you do with this search params? Do you want to get all not all the first one the last one Not all so it very it not required Also yeah So that why I think the good thing is to have the config and it good enough for now yeah you know if you said it's proposed in the core library to add this um like like you showed now that you can configure the search grounds in the in the ps5 um do you think it will be also in the load function you can get the oh yeah of course so the whole idea is that if you define it here you don't get only params in the load function but you get also search params yeah yeah this will be a one goal yes maybe the maybe i should give you the link to the issue so that you vote up why is not happening it was very nice to see how quickly we went from all that developed this until I think even the comments on Twitter. Successful. Maybe all of us will leave a comment We should They they would think okay it urgent It not a kind of space So let's... Just a few. I have a few projects running, yes. I think it's still here. No, it's now page two already. No, no, no, let's do it. Preload? No, it's not this. Actually, but maybe you had other questions in the meantime? It's already have a bit of, so it's this one. 11386. Yes. We should put the thumbs down there. Yeah, exactly. One more question because like a URL can have the same search params multiple times Yes. Is there like a way to type that as well? Yeah, so you can say that it's an array and the array will go into a lot of such params. Actually, I didn't know this before writing the library. So if you have multiple IDs, you can do IDs and then put an array one and then two and then three and it will write down this. And this is the latest feature added to this as someone just contributed to it. Yeah? Oh no, sorry, I don't have a good number. No? This is what I'm thinking for. Other questions? No? No? Then I guess we are done for this time, this meetup. We can go.