 so um yeah uh fine end to the well not really an end to the evening but the end of the talks i'll be talking about dates an intersection of a romantic story and dates in javascript so first a little bit about myself I'm husband and father of four kids I originally started learning robotics and then made my hobby into into my profession and started web development about eight well seven and a half years ago i'm currently a web enthusiast at womb doing their e-commerce stuff i'm also a musician because we have four kids full-time job being married to an awesome wife that's just not enough and i'm also one of the founders of Svelte Society Vienna so it can it it never gets boring so about this talk time flies so the inspiration for this talk comes from life with an I've meant to change that typo in there it's day of typos um i last week i celebrated my 15 year anniversary anniversary and yeah celebrated that by getting sick instead of taking my vacation and i want to talk about the hidden time section on my website we'll get to that shortly and we'll take a look on what used to or is still on moment js on the live website but has already been reflected to svelte 5 runes and what i learned by dealing with dates so we can already jump into the demo because it's a lightning talk so for whoever is curious on my website there is this little section here which links to the hidden time section so what are we going to build we want to calculate some different times I want to have a date checker. So I already have some boilerplate on the screen. We have the elapsed seconds, minutes, hours, days, weeks, months, quarters, years from my wedding day. So I want to stay up to date on how many seconds did elapse since I said yes. So it's actually really easy. So we have a state, which is the date right now. We have the derived time, which gets the milliseconds from the current now. And because now always changes and never stays still, I have an interval that just increases it with an effect. So the way we can implement the seconds is actually really easy. We can do another derived. And this derived is the difference. Let's do it like that. between the now time and the wedding time and because we are on milliseconds and want to go to seconds we need to divide by 1000 and just to check if we are doing that nicely yeah we should see that but we have some comma seconds so let's clean that up a little bit we can do one two and my floor should be just fine and now we're we're all good so now we we have the seconds and we can keep track of what is going on. So happy second anniversary. Yeah. And the next step is actually also really easy. Yeah, of course. Minutes. So any guess what we do with the minutes derived value like any shout outs it's really interactive today divided by 60 awesome so excellent and to yeah let's also show the value let's add the second little thingy here again my floor of course so people can start thinking about the next step what's it gonna be so minutes turns somehow into hours what's it gonna be 60 minutes good so we can also add those hours those are quite some hours so the jump to days shouldn't be too hard I guess how many hours in a day? 24, excellent it's in the docs yeah, so now we have our days jumping two weeks oh yeah ours thank you live coding so days turn to weeks and no longer 24 i guess seven all agreed excellent so let's enable weeks down here as well for months it gets a little bit more complicated quarters is actually really easy because that's the amount of months divided by something four let's see if anyone remembers so let's do the easy one first let's do the years, the full years. So to not make this unnecessarily long, I have the map, a little helper here. So years. because javascript is fun is again we take the the time we differentiate it create a new time get the full year and we subtract 170 the magical number of years because those are the years where the counting of the epoch time started so we now have our 15 years for months one would think it's actually pretty easy because months is years times four ish plus some extra but it's actually not that easy so for months we'll we'll take a quick look right away so we have the years times 12 and then oh yeah we do something similar for the date we take the the time that we have now we have we subtracted with the goal time and then we get the month so we get this month we get zero months because the month difference is not available and then we have this little month adjust where we pass in the date so the month adjust is actually a pretty funny little thing because it's a little bit less complicated than it actually should be so if we take a look at the days inside of the month we kind of need to figure out did the day already pass or will it pass sometime in the future so if the days in the now are still smaller than the date that is to come we don have an offset but if the nowadays like if we compare the 13th and 15th we need to we have already passed one month and we need to add it if it's on the same day i just did the calculation or the check for the hours but theoretically you would need to go down and see okay did the hours already pass on the day and if the hours have not if the hours have passed did the seconds pass or the minutes pass and so on in until the milliseconds if you wanted to do that so there's quite some fun juggling of the dates that need to happen for forgetting the numbers that we actually want and care about. So me as a developer who's dabbled in quite some, a lot of different technologies, like also doing some stuff with C Sharp, having a really nice date library is something that javascript doesn't have out of the box but it's like a fun experience to do this yourself from time to time and get a deeper understanding of the language that you're working with just for completeness sakes let's copy this little line of code with the bug that i had on my website for i don't know how many years i divided into trimesters not quarters yeah so now we kind of have a full completed date calculation and yeah if we wanted to we could also add an input field and like adjust this little input date with whatever value we want and it would automatically recalculate all of the seconds to years that have passed since date and time in the past so yeah let's continue with thank you so much for listening and this little excursion into dates and i hope you enjoyed the talk and yeah great that you were here enjoy the rest of the evening any date questions yes maybe it's a stupid question but i've never never used myself and you use you as derived the right yes not really so um you see only the seconds change and the way uh derived like this the uh technology behind those state management uh in in stealth five to come so you see preview work in progress expect bugs is signals and with signals they kind of they keep track of if the value change so even though seconds is recalculated it doesn't recalculate everything it only recalculates if there is actually a change but in case everything could change yeah so theoretically you would have I mean probably not because spreadsheets kind of work the same so of course there is a limit but signals are really really performant in what do and they solve it really nice and for most of the use cases you probably don't even need to derive derive derive that's a really really edge casey thing but it's fun yes it's the fun way yeah that shouldn't be too hard it's just maths and stupid time definitions I think it's very obvious. Yes? I have a question. Isn't it correct for the days to put daylight savings time? Because there could be days that are 23 hours, and then we had this day. But I already day sold but the day was yeah um i'm not like i i think like new date so if you did uh i'm defining a new date i think the new date itself um takes into consideration daylight saving time so you would have a jump in the date enough so it's the definition of the day oh yeah okay okay yeah yeah uh Just being on the first of the month and after three months. Everyone will think it's very easy. No, it's not. It's so hard to just have three months. Yeah. Monster stupid. After the talk, you can change the time on your computer. to the 27th of October 2.59 in the morning. And we'll see what happens. Yeah. It is. well actually so fun fun thing aside but i actually have two versions on my website it's the gleich hei√üen and hochzeit which means the state wedding and the church wedding so i have two dates already no need for more yeah just with prevent this i think they is one and have you considered using it for it like would it be in spain or um i'm not 100 sure but i think um the um when i did the refactor at that point in time um i think that date reactive primitive was not available yet would have dropped it again okay oh yeah renamed yeah probably yeah yeah would make sense Also, we've seen that API charts about dates. Do you know about the coming, the replacement kind of the date that is temporal? Temporal. I saw some stuff. It looks promising. It's not here. Hopefully, if there's news, you can do it. If you can use it. Could you go, you tried the date? performance are really traumatic dramatically bad I was displaying a calendar and then you read it and then you go and go and go and go and then it was one second and I found out that it's just because of the new temporal instead of moving the plate so it was healing the water so it's not there so it was not nothing behind but uh yeah i really want to give a try when when you have this Thank you so much and enjoy!