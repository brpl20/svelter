 So before we can start writing any tests we need to set up the project. And this is going to be the hardest part because we need to install a bunch of packages that configure just with TypeScript because the project we're using uses TypeScript. I think a lot of tutorials make this mistake that they make you install 100 packages without explaining anything so you really don't know if you should install it, maybe that's outdated, etc. So you should always read the documentation even if you follow along a tutorial because you might find out things change or broke and you can save yourself a lot of pain that way. So I also want to mention that I'm using pnpm, that's an efficient package manager and npm alternative, but if you're using npm it's alright because all the api is the same, so just replace pnpm with npm and you should be good. So the first thing we're going to do is clone the repository, I usually don't use the integrated terminal of vs call because it really has some weird visual glitches so if you see something like that consider it a feature and not a bug. Okay, so yeah so let's do that so if you look it's on the left side so let's just install the packages in advance because really dislike when tutorials break the flow constantly you do one step then you go back then you install 10 packages and then you repeat so yeah let's install everything at once we can even copy the install and developer dependencies flag because i just need to change this to pnpm and then if you're pasting something to a terminal and you have weird garbled text it's usually because you have to use the special paste so you have to say ctrl shift v and then you're going to get what you actually copied but obviously depends on your terminal and this is going to install everything we need for this section so yeah let's just press enter so we can press ctrl l to clear the terminal and we can open our project to see how it looks like so i'm saying pnp around f and this is the type of visual glitches i'm talking about and i forget about it so yeah uh yeah so let's just refresh let's move it over here we don't need this anymore so this is our to-do application that we built previously using swelt and that works fine i don't want to put anyone under the illusion that i know everything and things come easy to me because this took me a while to figure out and you're going to learn how i figure it out and i think this is the most important part about sharing the process and learning how to learn instead of just giving you instructions and then they completely fail on you if you're watching this later so here in the post I go through the Jest instructions which we can see on getting started and here Jest really gives you nice and easy instructions so I installed Jest and then I was like oh I need TypeScript what am I going to do next here is TypeScript and then you do these steps add the Babel configuration etc but then it also says you need Babel and then you like ping pong and this is the constant process you going and it trial and error to be honest and then you install this and then i continue further and i say how the documentation says we should create a babel config at the root of our project so let's do that quickly so we have to create babel config that ends with the common js modules because inside of our package json we're using es modules which is the import syntax if you're familiar with that but we don't have to go into that right now so yeah so let's just copy those settings and just using the regular babel preset environment and the preset for typescript so you can transpile it right and then i'm a bit salty here so i say this is great because if you just follow steps from testing library this wouldn't be mentioned even though they recommend jest so you would be sad and confused because if you look at the let's see we're here right So if you look at the testing library setup, here they tell you how to set up your environment, right? But this wouldn't work at all, right? Because you're missing like a bunch of things for Tyscript and etc. So yeah, so you would be super confused and you would start looking up videos and tutorials, right? And they would also be outdated. And another thing I wanted to focus on, we're here in the Swell testing library, but here is all your instructions for your other libraries. So you have React, Reason, Native, Vue, Marco, Angular, Preact, and etc. Since we already have some packages from installing Jest, we can get to one specific to Svelte testing library from reading the setup from the Svelte testing library documentation. And that's exactly what I showed you just for now. So let me explain some of the packages for you. The Svelte Jester one is used to compile Svelte components before they're used in Jest, because Jest wouldn't know how to read or use those files, right? And then you have ts-jest, which is required for Tyscript. We're using Babel Jest and it's required because we're using the ESModules import syntax which Babel has to transpile. And then we have the JestDOM package from Testing Library that adds more useful assertions for Jest. And we looked at that earlier. And the documentation also said that we need Svelte preprocess to process TypeScript in Svelte, but that should already be installed because we created the project with TypeScript. So if you go here and it's literally just me reading, so it's not like some sacred hidden knowledge I have and I'm special, right? It literally says here, if you'd like to also include Swell preprocessor, then simply follow the instructions and it says here for TypeScript to use TypeScript you need, blah blah blah, and etc. So yeah, so reading documentation is really important. And even if you're following a tutorial that's recent, I encourage you to open the documentation and follow along because something might have changed. And if something broke you don have to hunt down the solution in the YouTube comments etc or whatever you are And then we need to create the JS configuration which you can also create by using npx jest init if you read the jest documentation but we going to make it by hand because they have a custom setup here which I'm going to explain of course then we can just say config let's say cjs and then we can just copy the configuration file over and if i scroll down here i explain this so this is the jest config i have started from the swell testing library documentation so if you look at here here is the bare minimum they recommend and of course this is going to work but because of our example and the things we need for our project it had to be slightly different so let me just minimize the terminal so if you look here we have the transform which helps just know what to use or add file type to make it usable so for For example, when it finds using this regex as well file, it knows to use a preprocess, which is true. When it finds a .ts file, it knows to use TypeScript Jest. And when it finds a JavaScript file, it knows to compile it using BabelJS. And then we have the testing environment, which is JS DOM. It uses Node by default, but we're in a browser environment, so we just say JS DOM. And this is also explained in the Jest documentation. And then we have the module file extension, just so that Jest knows what file types we're using. This is the interesting one. Also set of files after environment lets you define a path to modules you commonly use, so you don't have to import it inside each test file. For example, we're using the jess-dom that extends jess functionality, so we would have to import this in every test file, but you can declare it here if you want. And you can declare any custom scripts you have here, etc. And the last one is really important and depends on your framework, because for example for For Svelte and SvelteKit it has custom path aliases and even if you add your own you're going to have to add this. So for Svelte those are $app and $root and then we need to tell to just if our component uses that path alias inside of it, okay look here is how you resolve it so this path alias actually means root directory and then where it's going to, right? So I want to help you understand how reading documentation isn't scary but an important skill to practice because documentation is always right and most recorded tutorials can be easily updated so you're going to be frustrated when things don't work and lastly we need to update the package json so it can include the test scripts so we can run our tests so you press ctrl p type package json we can see i added them here so here's the regular one test that we can run on a single file but we going to use test watch there just going to be a watcher when test changes and is going to update and this is really awesome so we have just watch okay so now we saved it and now we can even add a test to test our test right so if we go under source components and you might see this in a lot of examples tests like i think this is called dunder or double under but i personally think okay so i'm going to give a real scientific reason why i don't use this okay listen carefully it's ugly okay so yeah so we can just name it test and just really doesn't care how you name your folders it only cares about tests that end in dot test or spec extension and that's what jest is going to look for in your project and run those tests so if we say tests and then we give it the file name example and here we're going to use the javascript extension just because this is going to create a test folder and the file inside of it so if we see this is what happened and let me just close this and then we can just say test it should work and then we're going to give it an empty function and then we can run the command to watch your test right so if we go to testing our front end is running right because we can use it to reference what you're testing so i'm also here in the tutorial folder and then i can use pnpm run test colon watch because this corresponds to our script right if you remember and this test should be passing right now and give it a second and that's awesome this is how it works you can see it should work and we can see the pretty output over here and this is the same thing we get to the post but another interesting thing for just watch is that you can specify what you want to test because you might have a lot of other files and you just want to test one so you could see the options here which you can get to by pressing the w key and then it says press p to filter by a file name regex pattern so if you press p in the terminal we can give it a path like source components test example test js and it's going to run just this one file and it's really useful so i also want to emphasize that we don't even have to use a typescript extension for tests because we're not going to add types inside tests and the only reason why we added TypeScript support was because our project uses TypeScript and we need to transpile that or compile whatever you want to call it. But because an editor like Visual Studio Code has great TypeScript support and integration you get benefits from types even if you're using a regular JavaScript file and testing library is fully typed in TypeScript and you can get auto-completion and other amazing benefits. So this actually wasn't that bad. Because we had to do it ourselves we learned a lot about how Jest works and how to configure