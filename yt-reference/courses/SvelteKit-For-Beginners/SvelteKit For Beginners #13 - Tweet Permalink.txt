 Hey, welcome back. So let's further practice dynamic parameters by adding a permalink to our tweets. So I'm really glad I picked this example because Twitter has some weird URL to go to your tweet. So for example, if you look at Bob's beautiful tweet, we can go to home, profile, Bob, status, and the tweet URL. When you're designing an API like this, just take the URL and think what the dynamic parts are. So we already know that this is user, right, instead of Bob, and this is also going to change so this is going to be the dynamic url right so we're going to create this path in our project so if we go to source routes we're in home we're in profile so we're going to create the user folder because we can have dynamic parameters for folders and files so we can create a status folder and then we can create the tweet id folder and then after that we can create the page so this might look confusing but you just have to practice this and you're going to get the hang of it so yeah if I press enter so now we have the user folder that's going to be our parameter the status because that's how our url looks like and then we're going to have the tweet id and then index well so we can create here profile and if I go to the page right here and save this we should get this yes so we can go to the permalink so for example if we go back here again we're going to see profile and this is going to be the same if you go to any other permanent profile only we have to do is get these parameters grab them and then we can query the database and it's simple as that even though if it might sound complicated it really not let me just go back home and now we going to create the endpoint so in the same path where we are now we going to create the shadow endpoint So let create index TS inside here And this is what I love about the shadow endpoint. Because for example, if here is the permalang, we can only know the API can be in one place. And this API doesn't affect anything else. So yeah, this is also a drawback because for example, we can't reuse this. But for example, if you had a newsletter API, you could create an API folder and create a newsletter endpoint. you can reuse across your site right so this is really left your imagination yes let me close the sidebar and i'm going to scroll down here so let's create the endpoint get request handler i told you you would get a lot of practice doing these things so we can say async we can get the params like we done before right and then we can get the tweet so this is going to be the mini version of our feed right you can say await prisma careful when for the right one i always do this mistake right so we can say prisma tweet find the first where the url matches the params tweet id and again we get these params from the url right and then we can also include the user because we're going to massage the data right that's really a weird term but yeah it's a thing so you can say const like await prismalike find many. When you're recording these tutorials for hours, your brain starts turning into mush. So excuse me but I can help it So let go tweet ID True And then we going to do the same thing So let soldier through this even though we done it So this is maybe a part where we would refactor this into something reusable. And we're going to do that later. So stay tuned, if you're curious about that. And we're just going to get the tweet ID. And then we can create what we want, the shape of our data. So as I said, this is like the mini version of our feed, but we're just returning one tweet. So you can say const user tweet, let's say ID, tweet ID, content, tweet content, likes, going to be tweet likes, posted, let's import time posted, press enter, tweet posted, we're going to get the URL from the tweet URL. avatar from tweet user avatar handle tweet user handle and this is really how you learn like repetition like we basically done the same thing three times already so you start developing these patterns and you gain more confidence in how these things work even if they look complicated it just become used to it right you learn to ride a bike so it's really the same with coding Yeah, so we can get this and let's return status. Okay. And we're going to return the prop tweet going to be user tweet. Yeah, so we can save this and now it should work. So we're going to get the props, the tweet back to our component. And we now have to add a markup So we going to go here And we going to say language TypeScript Let import tweet from root components Tweets well. See how it's nice and simple reusing this. Tweet type from root types. And then we can catch the prop. Say come here. and we use the type for a single one so we're going to have a name value that's going to be tweet name just so it's simple and then for the title of the page we're going to do the same thing twitter does we're going to say content i need to get the content of the tweet but we're going to limit it to 60 characters and if you didn't know the title in most browsers is limited up to 60 characters so that's really interesting so we can say swellhead here is where the title is So you can say name on Twitter. So it's going to match the content. And then we're going to add the dots at the end. So you can say tweet since it's just one tweet, right? You don't have to loop over anything. And before I save, let me just go for the magical reveal, right? If I save this and let's see if this is going to work. So when I visit this permalink, our database should grab the data. We're going to massage this data however we want. And then just we're going to pass the prop to our component and we can server side render it and display it on the page. Right. And you know me, I'm always paranoid. So let me just refresh and the moment of truth. So that's really beautiful. And if we go to any other tweet like this funny joke, it also works. So that's how simple that was. So see you in the next one.