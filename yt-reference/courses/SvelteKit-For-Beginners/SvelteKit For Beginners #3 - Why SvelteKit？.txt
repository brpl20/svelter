 Hey, welcome back! So why do we use frameworks like SvelteKit, Next.js, and etc? So let me first look at an example of Twitter. Here is my profile. So notice the document we receive is a HTML document, and single-page applications work by serving a HTML file that's just a shell so JavaScript can inject itself into, and then it has complete control over the page, like the content and navigation. So for example, if I copy this piece of text here, we won't find the markup but we're just going to find some weird JSON or whatever that informs what data should be displayed on the page so if we look right here might be difficult to see but we can see this really weird JavaScript here and that's how single page applications really work because it's not rendered on the server and this has a lot of benefits of course if you're using Twitter for example you can use infinite scrolling on the feed and that's really possible because it's dynamic using single page applications and wouldn't be possible with server side rendering but it would be nice if you had server side rendering as a fallback right so if the user doesn't have javascript or he fails users can still load and read tweets right yeah so if i go back to the post i made a simple svelte example site with a pokemon search together with some pages the code is irrelevant so you can ignore it and you can press open the preview in a new window if you want to follow along so you can press this button here let me just briefly show with the code so this is what you might be used to using something like react or normal swelt so you just do a regular fetch method inside your client on the browser right and then whatever data you get back you can do whatever you want with it and then you display it right and if i go to the example here you can see the default is pikachu and again we get the html shell file and to see that this is a single page application if we click on it we can see the preview there's nothing here because it's really nothing to show but it's also a lot of code sandbox junk we don't care about and again in the response if we look here we really can't find anywhere where it is and again this also looks very similar to what we've seen on twitter right so it has some sandbox data and whatever else right so let's make a simple request but first let me clear this and then let's look for charizard and then we can see if you remember this fetch request this is really what we're making here so we can see we got the response here the preview abilities and etc So our user has to pay the cost of all this data that we have to filter on the client and et cetera. So imagine if this is something more complex But yeah this is basically single page applications and the greatest benefit of single page applications is client navigation among other things So if you go to the about we can see how the transition is smooth and we can see the page isn reloading here So that's the main reason why we're using single page applications because we really wanted that nice user experience. If I go here in the post, I even talk about it. So everything you see on the page, like the content changing and navigation is done by JavaScript. This is normal to most people who started the web development in recent years. In the past, if you used a server-side language like PHP, this wouldn't be possible because a server would have to create a page and send you the HTML over the wire, and then you would sprinkle JavaScript using something like jQuery. The reason Frontend JavaScript frameworks exist is because we want that nice user experience and feedback when you're entering a form and app-like feel navigating pages without having to refresh the page. Think about Gmail. But it comes at a cost. If you disable JavaScript or it fails to load for whatever reason all you have is a blank page so if we go to the same example and if you click on the developer tools and press ctrl p type the pointy boy and if you start typing javascript you can disable it and then we can try reloading the page and it's dead it's gone so the same way you can press not the print options because it's going to happen a lot just if you can type javascript and you can enable it back again and everything should work so this also means when a bot tries to index your site, unless you can execute the JavaScript, it's like nothing is there. And that's the main drawback of single page applications, the search engine optimization, right? So there's a couple of problems with single page applications. The SEO suffers because it's not using server-side rendering or pre-rendering to static pages. It requires a separate backend if you want to do anything like having to send a secret to an API. It doesn't work without JavaScript. The large JavaScript bundle could be the single point of failure when loading the page, and we have to decide how to ship your code if you're using the base version of these frameworks, right? So let's do a mental exercise. So we could build our own full stack framework if you look at the Svelte documentation for server side rendering and we can figure out how to server render a component and hydrate it on the client, maybe. And hydration is just a term that means adding JavaScript to the page after the server builds and hands you the HTML page. The page is dry so you hydrate it I guess. You also want a nice developer experience and a fast development server that instantly updates when you make a change and can resolve dependencies and bundle your code so you so you decide to use with, which is awesome. Easy. You only need file-based routing, figure out how to server render a component, hydrate the components so the JavaScript works, make server-side rendering and pre-rendering work. You also want code splitting which means only loading the assets that are required per the page The fetch API at the time of writing this only works in the browser so we need to polyfill it if we want to use it on the server We need to figure out how to use client navigation so we keep the great user experience We need data prefetching when the user hovers and links so the content is loaded before we visit the page. Although it would also be nice to have Tyscript ESLint and Prettier configured out of the box, we need to figure out how to deploy our full stack project to anywhere. So this would be a complete nightmare. I wouldn't even know where to begin to be frank with you. You don't have to either because SwellKit has already done the hard work for us. In fact, we can have the best of both worlds using server-side rendering and client-side navigation without page refresh. If you want, you can either pre-render every page or only do it for the ones that don't change like the about page so they don't even need to ship JavaScript. SwellKit uses the web platform request and response objects of the fetch API so it's not tied to any environment but uses adapters that generate the output required for the target platform without configuration. And this means basically if I say to you that SwellKit is full-stack, you're probably thinking oh it's using node express or whatever but no it's using the web platform the request and response objects so whatever platform it targets it just transforms the code for that for example for versal it uses their setup for netlify you can use their setup and if you're using a node environment it can use the node environment setup so we can see the request object here an example here is just a new request of url the method and the body and then is being used here and here is also the the response and then we can get from the response the blob or you can get the json here like in this example so yeah that's the request and response object and you really don't have to be an expert in this but SvelteKit really makes you a better web developer because you understand these things and how they work instead of just using the framework abstraction that you lose the knowledge of when you go use something else right so frameworks like SvelteKit lets you pre-render your site meaning all your pages are built in advance but have endpoints like I'm using for subscribing to the newsletter thanks to serverless functions that give you a sip of the server-side JavaScript and only when you need it and we're hosting the services like Netlify and Versal that have a generous free tier the cost is basically nothing I'm only paying for my time and the name of the domain so for example if I go to pages and I go to the API I can find the newsletter API I have right here and this is how I get a sip of server-side JavaScript using statically pre-built site right and it's really awesome and this is what all this framework share in common. So if I go back to the post, we can look at another example that uses SvelteKit. And before that, because we're using a full stack framework, we can create endpoints that correspond to HTTP request methods such as get and post the same as using a backend framework like Express So if you want to play around with this example you need to allow cookies and don worry if we going fast in this one because I going to explain everything later when we start diving into SwellKit but that being said I encourage you to explore so if I look at the stack blitz example we can see basically our server here so here is just the default data I'm using we're going to return the full Pikachu this is going to be the geth method that's just going to return the pokemon data and here i have a post so if we type for example charizard is going to get the value from the form it's going to do the fetch on the server and we can filter it and do whatever so our users don't pay the cost of that right and then we can return the data in whatever form we want and if we go to the index we can see instead of doing that fetch nonsense right we just have a simple form here and we just post to that endpoint and then it works without javascript right but the point isn't that it should work without javascript but before javascript because for whatever reason the javascript could crap out etc so yeah that's really not that bad and if this is confusing don't worry we're going to have a lot of practice with this and examples so if i go to the example here and note we have the html document again right so here are the headers you can see the preview and if i go here this is a real html page that's built on the server right and we can see in the response or you can view source we can see also interesting here here is how the data is hydrated on the page this is really interesting and then we can see here is the image right so here is our pokemon so if we see here the description says pikachu and for example if i clear this and do a search for charizard if we look back here is our json that returns the pokemon so look how lighter this is we just return the data we need and then if you go to the html preview again the page is built on the server and if you look at the response here are styles here is the form here's the image and here's the description charizard so that's awesome but another benefit is that when you're using a framework like this you get the benefits of server-side rendering but the app still behaves like a single page application so for example if we navigate to the about and back we can see it's still the smooth transition so if i go back to the stack example if I go to the about page let's say for example this is static and never changes and we can even specify here it shouldn't hydrate and it should pre-render and this is going to work when it builds so it doesn't work here in development but yeah that's it and I hope this really helped you understand what meta frameworks as well could solve