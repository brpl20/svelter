 Hey, welcome back. In this section, we're going to learn how to use dynamic parameters to implement a user profile. So currently in our application, if we go to the user profile, we don't have it. So we're going to get this error page. And I want to point out the beautiful feature, how endpoints work and they're tied to your file structure. So for example, here we can see in the URL, it says home profile username. So you can just design your endpoints however you want. So instead of this, this is really user matched in brackets, right? So we can literally create these dynamic endpoints and create or design our endpoints however we want. So let me just go back to our application and then we can create the user profile page. So we can just go to the source, to the routes. Remember, we're inside home. So this is home. And then inside here, we want to create a profile folder that's going to match the URL. And then we can create the dynamic parameter for the user so yeah like i have it here let me just scroll down so inside the home folder we're going to create a profile and then something that's going to accept dynamic parameters and we can grab this dynamic parameter from the get in our endpoint so it's really awesome so inside home let's create a new folder it's going to be profile right and then we can use the dynamic user value and then we can just add swelped at the end so we can say user and this should now work if we go to the profile for the user if we go for example here and awesome so now we can continue adding the markup and we're going to create the endpoint after that so let me hide the sidebar let's create a script tag the language is going to be typescript and we're going to have a type user from Prisma client and this is awesome because we generated already these types when we generated the Prisma client so we can use them so that's really another major benefit of Prisma. Yeah so we can import the tweet from root components tweet swelt and then we can import the tweet type. So you can say tweet type from group types and then we're going to accept the profile is going to match the user type and the tweets from the tweet type and that's what we're going to pass from our shadow endpoint So we can change the title of the page Say title profile name Let me just do it with this Profile handle. So that's going to match here, just like Twitter does it. So we can add this markup here. Say class profile. We're going to have an image. Just remove this. Say class banner. source is going to be profile we're going to get the name profile right so we can grab their picture then we're going to say alt profile banner right and then we're going to have another image to be class avatar source profile avatar and the description is going to be the profile name so then we're going to have the content and the user they're going to be a span of class name profile name and this should be a span right so let's fix this awesome so you can create span handle profile handle and then we can add the about after this so you can say about then we can create a span profile about so we're almost done we just need to add the navigation and some of this is just placeholders because it would be a lot more to type and implement right but this is just a placeholder basically so we can do it again and then let's add tweets and replies i'll just use this trick so we can get through this same media and these are going to be likes then let's look over it each tweets this tweet i'm going to give it the tweet id Let's end the loop. We're going to use our Tweet component and just like before we can use it so we can pass the Tweet. And here are our styles. So let's just copy this over. And this is a really interesting layout I made. I going to show you So just let paste the styles so we can go on to create our endpoint Yes So inside of here let create a shadow endpoint so we have a profile user svelte so we going to create the same named endpoint say user ts just like before this is a shadow endpoint and then we can create the get request let's get say request handler can auto complete async and now we get the params so we can get the user profile await prisma and again this imported the wrong thing so be careful say prisma user we're going to find the first user where the name matches params user and this is what we get from the params so when we go to profile username this is what we're going to get in the endpoint and i'm going to show you that in a moment and so let me just order this. So neat and tidy. Since we've got the profile, we can now get the tweets. Cons tweets, we can say await Prisma tweet find many. Same as for feed right, where the user ID is equal one. It's hard coded. And we also want to include the user and we want to order it by the sending. So we also want to get the like tweets. Find many where user ID is one. Select tweet ID. Let me fix this. And this is really awesome. See types right here. If we mistype it, it's like, oh, what are you doing? So you can say tweet ID. And then we're doing the same thing. So let me just repeat if you're unclear. So basically we get the liked tweets, but we just want to return an array of the IDs for the user, right? And then we can say includes, hey, does this include the tweet ID? If yes, then it's going to return a true or false boolean for if the tweet is liked or not. So that's a really simple solution. So we can get the liked tweets. But first we have to get the keys so we can map over it And then we can say key So for each liked here liked we get the key just so we can loop over it And we going to return an array of tweet IDs And that's really simple. So let's add some error handling. Just make space here. So let's say if no profile or no tweets or the tweets length doesn't exist. Zero, right? We can return not found. Or we can return 400. Yes, so let me just go here. Let me say this. So we can do the same thing. So we format our data like before. Const user tweets because we have some name clashes here. Naming is probably one of the hardest things in programming, right? So we can return the ID, tweet ID. The content is going to be tweet content. Let's return the likes, tweet likes. posted time posted we're going to import it from our helper function tweet posted yeah we can see it here at the top time posted so let's add the url tweet url the avatar tweet oops tweet user avatar i'm going to have the handle tweet user handle the name tweet username and then like so here's the part i'm talking about so again we get the like tweets this is the array of the ids and we say does it include the tweet id so we know if the user liked the tweet or not yeah and that's pretty much it so we can return an okay status that is okay and for the properties on the page we're going to return profile and tweet since we we have the name collision we can say tweets are user tweets so let me just fix this then we can save this and this should work if we go here and awesome so this is really simple like this so this is just a placeholder but we get our tweets and everything here just is working so we can go home and we can go to bob's profile and it's going to work for him so this is really beautiful and also let me show you what i mentioned before let me open the terminal let's see click on my editor So for example, you can check out the params, if I console.log.params format this, and we can see user Bob here, and this might be hard to see. Let's go to my profile and we can see we get from the URL the user. So I hope you enjoyed it and see you in the next one.