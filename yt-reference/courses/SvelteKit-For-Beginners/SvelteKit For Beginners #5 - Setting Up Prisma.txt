 Hey, welcome back! In this video we're going to be setting up a database using Prisma. How many hours have you wasted trying to set up a database for a tutorial? It gives me anxiety because it always goes wrong and it's crap I don't care about, but this isn't that kind of tutorial. If you didn't know, Prisma is a library that lets you write JavaScript instead of raw SQL for interacting with a database and it generates the types for you. It's a joy, I absolutely love Prisma. So if you see here, this is a Prisma schema and this is the generated SQL, so we don't have to worry about it. And if you look at their page, we can read next generation Node.js and TypeScript ORM, which is a shame they use this confusing copy because basically this would just say write JavaScript instead of SQL. So maybe let's fix that for them, right? If we go here, we can say write JavaScript instead of SQL. There you go. Awesome. I'll be accepting my check in the mailbox. So if we go here, I'm going to be honest here. I don't even know SQL that much and you don't have to. This empowers you as a developer to do more. We're going to use SQLite database that's just a regular file, so we don't have to set up anything. And later, if you decide to use another SQL database, you simply change the configuration file and that's it. And also, if you want syntax highlighting and formatting for Prisma, you can get the Prisma VS Code extension you can find here. And then you can change your settings in VS Code. So if you go to your editor, press Ctrl-P, type the pointy boy. If you start typing settings, you can type JSON. and another pro tip you can open the UI settings just so you can find which settings you want and then you can copy the JSON over. So you can add this and then you can even enable format and save to use Prettier. So yeah so we can start initializing Prisma so we can just type prisma init and instead of configuring SQLite or sales Prisma CLI has a handy flag we can provide the data source provider SQLite and this is going to set up everything for us and we can say yes because you using npx and also if you didn know when you execute npx this is where the binaries go So you can find here eslint prettyair and even a swellkit So that really interesting to note And it's already done while I was talking. Awesome. So this is the Prisma folder generated, and here is the Prisma schema. If you scroll up. And here is the client and everything set up, and we can look at environment that points to the file. But if you have an external database, you can just point here to the connection string, and that's it. So basically we just ran one command and we already have a database. Well, almost, we didn't really generate the schema or anything. So we can open the schema Prisma file here. We already did. And we can copy over the schema we have. So we can go here, copy this entire file over. Let me just hide. And this really isn't that complicated. So here we have the config at the top, which we can ignore. But we're creating three tables, tweet, user, and liked. And the tweet is linked to the user by using a relation field. So we have the user ID here that matches the ID of the user. And this is what it means here when it says relation fields, the user ID. We're creating this field and it references the ID, if you see here. And we do the same thing for the liked so we know what the user liked. And it's really simple. Since this isn't a Prisma tutorial, I'm going to be brief since I want to focus on SwellKit, but I just want to give you a brief introduction so you can use this in your own projects and build awesome things, right? So we also want to install the Prisma client, which is going to generate the client and the types we can use. So we can say install Prisma client, and this gets shipped to the client. And then if I scroll down here, we can create a database after that. And we can say Prisma DB push. We can say yes. And it should work. Awesome. So if I go to the left, we can see our database is here on the left. And we can probably even get some VS Code extensions. so we can open this directly in VS Code which is awesome, but yeah, you can look into that if you want. Well dbpush is great for prototyping use Migrate Dev in a real project to create a history of your database when you make any changes So when you run migrate dev command this is going to create a migration here in your Prisma folder And whenever you make a change to your database you can push this and update your database So you can roll back and etc. And it's really awesome. So we can also add it to the gitignore file because it's a database and it will have sensitive information in there, right? And in general, you should gitignore generated files, except for migrations, of course. So yeah, that's it. We set up a database with just a few commands and we generated our schema and that's it. Another awesome thing about Prisma is Prisma Studio and you can open it with NPX Prisma Studio if you want a graphical user interface to explore your data and it gives you PHP My Admin vibe. So if you go here, we can say Prisma Studio. We can say yes and it's going to launch the graphical interface. And this is awesome. So you can go to the user, you can see the rows here, you can even change it if you want and it's really great. And that's it. We can leave it here, but I also want to show you how you can see the data to your database. So for example, if you want placeholder data, so inside Prisma folder, we can create the file seed ts. Let me just close this and close it. So we can open the seed file here. And this step is completely optional. You don't have to follow it. I just like to populate it because it looks more lively with some examples. So this might seem like a lot, but it's not. I just have here the Prisma import. and we're using this because Prisma doesn't support ES modules so we have to do this import and if you look at the Prisma repository we can see they're using the common js export module exports Prisma and this is why you're going to run into problems but when you run into problems I just read the errors and I figured it out so yeah I hope it gets resolved in the future because it's really annoying having to do this so I have some helper functions that generate the random URL for the tweet and the function that generates a random date for today and then I have a get users function and I'm just matching the schema here so here is a name handle email avatar etc that's the same in our schema here and also tweets created matches the same schema for the tweet and I just creating random values creating two users and then i have a seed function since there are promises we need to do promise all and then we loop over each user and then for prisma we do prisma user create so let me show you how awesome typescript is when you're in a typed environment so i can say return prisma and prisma already knows our schema so we can type dot and it knows we have a user table we can say user create and look at this documentation inside your code editor. You can look at a real example here that Prisma shows you and then you can just complete it. So you can add it and you can say data user. And this is what's really awesome about TypeScript, this kind of user feedback and iteration. I absolutely love it. So to transpile TypeScript we need TSNode because we're going to run a seed script so we need to install a couple of things. if we go to the terminal press ctrl c to exit it and we can say pmpmi d tsnode and let's also install the types for note and give it a second and while this is being done we can add the seed script in our package.json i'm going to press ctrl p look for package.json and then i'm going to add it after the scripts so yeah because of this awkward transition in node we have to specify a loader here and yeah so we can see the data let me just clear the terminal and then we can say prisma db seed and before you do that for whatever reason if something bad happens etc you can just delete this database and you can start again and that's how simple it is prisma is really awesome so yeah we can seed it and this should be successful so let's say yes and now we have everything set up give it a second awesome it worked so we can look inside the prisma studio to see if our data is there going to open it'll just close this you can see here's the user which is really awesome and we can even see the tweets here so yeah this was a brief overview of prisma hope you learned something and you can use it in your own projects