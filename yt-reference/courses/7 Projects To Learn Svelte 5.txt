 Hey friends, what's up? There's one thing that you've been asking about and that is more projects. So today I'm going to actually give you 7 projects, that's right. And these are going to be 7 smaller self-contained projects which you can use to challenge yourself and improve at Svelte. But of course you can bring the framework of your choice if you want. So we're going to go through the most basic example from a counter to a temperature converter. So we can convert this temperature, so this is bi-directional, this is going to be great. Then we have a flight booker, so here we have some conditions that we have to meet. and some of these are really easy because we're dealing with the web so we have these primitives that make it easy to build uis right then we have some timer here so we can see how we can use effects and etc then i'm going to build a crowd app so here we have some famous people right so we can do whatever we want here circle drawer is really interesting we can just draw this we can even change the diameter this is the cool part we can even have an undo and redo right i'm actually going to see it's not that tough and lastly what sounds most intimidating we're going to build a spreadsheet that but trust me it's going to be surprisingly simple because of svelte's reactivity right so here we have some items banana apples right and you're going to see this is going to reactively update if i change the amount right how beautiful is this friends and if you aren't aware seven guis is based on these seven tasks right that evaluate guis right so here we have this counter temperature converter flight booker timer crud so i wanted to be as faithful as possible so i didn't want the ui to be fancy right i just recreated what they have here right and you can challenge yourself i'm going to leave all the links in the description and i encourage you even if you get stuck and you end up watching me when you're done just delete the code and start over just develop your thinking process and practice right because that's really the most beneficial part of this tutorial because tutorials honestly suck they kind of don't teach you anything all right so i sincerely hope that you take advantage of this and challenge yourself a bit but before i get started here's a message from our sponsor i'd like to thank this video sponsor, you, the viewer. You can support the channel through Patreon or a YouTube channel membership. Members get early access to videos, help shape the content, and a special Discord role. You can find all of the links in the description. Thank you for your support. Alright, so in this video I'm going to use the latest version of Svelte, which is Svelte 5. And by the time you're watching this video, I think it should be officially released, so you can actually just open their docs and get started. And if you want to learn more about Svelte I'm going to include a playlist I made. Alright so let get started with our first challenge Alright so the first task is going to be creating a counter which is just a text input and a button which has to be read only as you can see so always go for this and read it a bit right it's like reading docs which you do of course right and then we can just go here to a simple swell component and then we're going to just create a script tag and i'm going to use tiescript which is optional as always all right so in cell 5 how do we declare a piece of state and not only state but reactive state right so you can say for example let count then we can use this dollar sign state root and we can give it the initial value and this is basically just a hint to the swell compiler that this should be converted to a signal and now we can create the input and the button so let me just use flex cap what is this is this tailwind no this is just a custom css utility i made all right so we can just use this and then let's just say input text boom we can actually remove all this and now we can just simply bind this value so of course as always in svelte we don't have to do some tedious boilerplate setup we can just say bind value and we can bind it to count boom s for the button let's just give it a label count and now we can say on click so you can see in svelte 5 events are just regular arguments which is really great you can pass them spread them like butter do whatever you want delicious all right so now we can pass a callback and the same thing as before which is the most magical feature about in my opinion is assignment for reactivity so we can for example say count equals count plus one we can say count plus equals one which is the same thing or we can just say count plus plus which is the same thing right boom that's it so we can actually save this we can go back to our example here here we have this count and now we can increment it as that's basically it the only thing we have to do we have to make it disable because it should be read only right and we should probably turn this type text into a number even though it's not important all right so we actually cleared our first challenge and remember small steps and then we can get to the last challenge that way all right so i hope that you pause the video and try the first challenge yourself but in this challenge you're tasked with creating a temperature converter and this looks relatively straightforward, you have two inputs, so they're bidirectional, when you change the value in one, it reflects in the other, and here are also some useful formulas for converting Celsius to Fahrenheit and vice versa. Alright, so you can pause the video and try it yourself, but I'm actually just going to go along I going to create a script tag we need two pieces of state so I going to say C for Celsius let just give it a zero let copy over and this is going to be Fahrenheit all right so let create a container and then we can create an input I'm going to give it number they say text but whatever rules are meant to be broken right such a rebel all right and now we can actually say bind value so we can bind Celsius and you can actually just say Celsius equals let's copy this over and we can bind f and let's see how my spelling is today power and height awesome first try and let's also include some basic styles so input type number i can just say max with 10 characters all right that's it now we can go back here and we can see here we have our beautiful ui chef's kiss all right so how do we make this bi-directional you might have learned about the derived state in swell 5 so you can for example get an idea maybe that you can change this to derived but there's actually one problem with this so for example this works beautifully if one value that's reactive changes so we can update this value but there's actually one downside of this is that you really can't use the derived rule to bind the value so as you can see here you get this error message cannot bind to derived state but what can you do in this case you can of course always just use a regular value so you can assign celsius to this and then you can use an event listener on input and boom you have your function or whatever else inside of here and then you can do whatever you want that's a perfectly valid approach right but in this case i actually want to show you how awesome classes are in swell 5 and how you can take advantage of them and create a writable derived and basically we don't even need a class for this example you can just create a regular object so you can say for example const temperature or whatever and then you can use the power of getters and setters in swell5 to bind these values right but actually i'm going to show you a class because it's a lot cleaner all right so let me show you how awesome classes are so i'm going to create a class temperature and we can just move our state inside of here which works the same inside of classes right how beautiful is that all right let me just remove this and of course let me just revert this to state of course you can also use derived values in classes and And the beautiful thing is that Svelte Underhood is going to create a getter and setter for these values. So you don't have to do something like this yourself, you don't have to say get C and etc. This is already going to be created for you. But maybe you want more control or what happens when you receive the value and update the value And this is where you can define your own custom getters and setters So the first thing you have to do is make these things private So we can use this hash sign right So it's sharp C, the evil twin of C sharp. And we have sharp F. And this isn't just for convenience to make them private, but also so their name doesn't collide when we make a getter and setter for them. So for example, what I mean by that is if we left this alone and created get c for this we would actually run into a problem because it has the same name right but since we can make this private we can expose it like this boom and now what we have to return we just have to say this and of course it's sharp c and now we're always going to get back this value of c that's how simple this is and this is where you get complete power so for example okay you have get c but what we're interested in is when we update c we want to update the value of f how can we do that well we can use a setter so we can just say set c and you can say new value or whatever but we're going to get the new value of c celsius right so let's just name it c all right so the first thing we have to do we have to update this value so we can actually say this sharp c equals the new value of c right and now we can update the value of fahrenheit so we can say this dot sharp f and we can just use our formula so the formula is going to be c times 9 divided by 5 plus 32. That's it. And now we can just copy this over and do the same thing for f. So we can say get f, set f, we're going to get the new value of f, we want to update f with the new value of f, and then we want to update Celsius. So you can see how simple it is to get this bidirectional thing going. Alright, so the formula for this is going to be f minus 32 times 5 divided by 9. Alright, let's save this, and now we have to instantiate this, and another great thing about this is that you can store this temperature in a normal JavaScript file, right? So for example, you can name it temperature.swell.js or .ts, you can import it, and it's going to work the same, because reactivity in Swell 5 is universal, so you don't need stores and etc. Alright, so the only thing left for us to do is to create this temperature. So you can say const temperature, of course you can name this whatever you want let's just say new temperature boom and now we can bind these values because we're using getters and setters right so now we can get here and let's just say temperature c

 and temperature Fahrenheit. And this is how we can have bidirectional values and bind values when you can't use a derived rule. All right, so let's save everything. Let's go back to our example. Now I'm going to try something. 100, this looks correct to me. And now we can go to Fahrenheit. And 100 Fahrenheit is 37 Celsius, which is the superior system, by the way. What? Who said that? All right, so I hope you had fun doing this challenge. All right, so in the next challenge, you're going to create a flight booker. and of course this is just a GUI challenge so there's no backend and etc so this should be relatively straightforward you just need to create an input with two values which is one-way flight and return flight so you can learn for example how to bind values using select and select and etc this is a really fun one so as it says this is a challenge about constraints so for example when you select one-way flight the return flight has to be disabled because you can't select it right if you input an invalid date then the book option should be invalid as well and this is a hard one to get wrong because basically we have this built in in the browser using the input date right so it's actually almost impossible to pick a wrong date you can even pick one one one one one one and it's going to be a valid date right so it's actually something hard to screw up but we also need to make sure that the start date is not higher than the return flight right because that would be insane right so yeah try this yourself have fun all right let's get started so we can go here to our component same as always let's create a script tag i'm going to create a cheeky type here i'm going to say options one way and return all right so what piece of state do we need to keep track of well first we need to keep track of the selected item from the list so we can say let selected it's going to be state we can pass options as a generic so we get types boom now we can select it one way we also need to know the start date and we need to know the return date all right that's it so now we can actually just create a simple form we're just going to use javascript here nothing special so we can say on submit and we'll submit that's it let's also give this a class of grid gap. Alright, so let's quickly create this function. PanelSubmit, that's basically it. The only thing we have to do is prevent default so we don want to submit this form we want to just use JavaScript And then I going to be lazy I going to use an alert you can use a dialog or whatever So let actually use backticks you have booked and now we can say selected flight on start date Alright, going back to our form, now we can actually create a list. So we can just say select, let's give it some options. so we're going to say option value is going to be one way let's say one way flight and then we're going to have return and let's say return flight cool so now we can actually bind the value that we selected we can just say bind value and we can pick selected all right so let's actually create the date pickers so I'm going to go here let's start by creating a label we don't need forces we're going to have everything inside let's actually create a span sr only which is just a utility class I have so this is just for screen readers so we're going to say select the start date also now we can create an input date let's bind the value of this to start date and then we can also make it required alright so we can actually do the same for the return date select the return date but we're going to bind the value of the return date alright so now we only have to add the ability to book the flight we can go here, we can create a button let's give it a label book and this is going to be all types of bit alright so let's save everything and we can also inspect as changing state we can for example use the inspect rune we can put in the value that you want to log you can of course pass in an object here you can log selected start date let's actually do that start date return date awesome let's actually go here to our ui you can see if you open it here you get this init object which is currently empty right so you can actually change this return fly so we're going to see these changes here see one way and we can also of course change the date let's actually select today's date something like this and you're going to see it's going to update so now you can do whatever you want with this information alright so now we just need to complete the challenge and disable the inputs based on the parameters right So for example the second input should be already disabled if return flight is not selected And of course, we need to disable the book button if there is no start date selected. And then we also need to check if the return date is lower than the start date because that doesn't make sense, right? So this is just really some simple logical conditions. So we can actually go here, for example, let's see, here's our return date. And then we can actually do something like this. we can say disabled and then let's pass an expression so this is disabled if selected isn't returned also so now you can see by default this is disabled right but if we select the return flight now it should be enabled all right so now let's work on the button all right so we're going to say disabled if there is no start date for whatever reason or selected return and of course we need to check if return date, turn date, my bad and of course we need to group these two things together put them in parentheses so we're going to check if there isn't a start date or if selected is return and the return date is lower than the start date and of course it's going to give us an error here because by default we don't have anything in the return date so let's actually fix that and we're also going to learn about browser APIs how we can format dates and etc and this is really going to be straightforward so let's create a function getDate and basically our goal is to get the same format as this date here so we can set it as the default, right? so for example if we go here we can see it's year-month and then-day, right? basically that's the format that we want to create alright, so we can first create a date we can say newDate and then you can say consD we can say date to localDateString and I'm going to pick English US, it doesn't matter and then we're going to pick for the year the formatting is going to be numeric for the month we want two digits so two digits for the month and the day boom alright, well let me actually show you something so when we take this, let me just take this to our console clear everything alright, so now I'm going to log the value see, so we're going to see now we get these slashes so this is great for two things because now we can actually destructure these values and we can format them however we want in a string so we can say for example d split we can do it like this and boom now it going to split this We can destructure this value We can return whatever format we want All right so let me close this Go back here. All right, so I'm going to say split. And then we're going to split them like I said. All right, so I'm going to save this. So this is going to format. But of course, we need to return this. And again, we can just destructure these values that we just split. This is why this is so awesome. So we can say month, day, year. and now we can just return the string formatted however we want so we can use backticks let's say year let me just copy it over so dash as the format that you want so year month day all right so now you can actually use this simple function say get date let's just invoke this let's save this so now not only are we going to get today's date right everything works as expected so we can say return flight so you can see now we can book this so you have booked a return flight on current date right how beautiful is this friend and of course we can do something silly like select a lower date and then let's actually my bad 17 and i'm going to select this and now we're going to see we can't actually book this flight we actually have to select a flight that we can book and now we can add some finishing touches here so for example for the start date we can actually select the minimum value let's make that the value today's date right it just makes sense so you can say min get date and we can do actually the same thing for the return date for it right here all right let's save everything and that's really not that bad right so now we're gonna go here we can see this works as expected so we have a one-way flight which we can book if you want or we can say return flight now we get both of these options but now if you make a whoopsie whoopsie so if you return uh earlier date you can see you're even shielded from a sale because you can't really enter an invalid date but let's actually say that you're going here so now we're going to see booking is disabled because the start date is higher than the return one right and of course as i told you you can actually it's hard to mess this up you can actually just put one one one one one one and even though this isn't a validate right you can actually do whatever you want right but yeah i hope you learned something and see you in the next challenge here is where things get a bit more advanced right so we're going to have to create this timer and it's actually not really hard this is one of those challenges where it's actually harder to understand what they want for you than actually implementing it so let me actually explain this to you so you have this elapsed time which is

 It's just a progress, right? And here's just the elapsed time expressed in seconds. And this is the most important part where we have to use reactivity for this. So this is the duration. And I don't even say what this duration is. It can be 10, 20 seconds, whatever. So basically, whenever you change this, this elapsed time is going to be updated. So if you pick, for example, 10 seconds or whatever is going to start, and then it's going to get updated as this duration changes. So this is some timer in the background that gets cleared each time you update this duration, right? otherwise you would have this timer stacking all right so that's already a bunch of hints and then you have this reset button so you can reset the elapsed time and again it's just going to start from the beginning right so it goes from left to right all right so good luck if you want to try it on your own all right let's solve this together so what pieces of state do we need to keep track of we need to keep track of the elapsed time and the duration so we're going to say elapsed state 0 and we're also going to copy this line and we're going to say duration that's basically it alright so now let's take care of the markup so I'm going to say grid gap let's create another container inside of here here I'm going to have a label and inside of here let's just create lapse time alright and now we can create this progress here for the max value is going to be the duration of course and for the value itself is going to be elapsed so let's output also the elapsed time in seconds so i'm going to create a div here i'm going to say elapsed and then let's just put s for seconds all right so here we're going to create the duration so we can say label span duration or this is going to be of input type range we can bind the value of the duration we can set the minimum value to one second and let's just set max to 10 and set this to whatever you want all right so now let's also create our reset button that's basically it so now when we go here to our example we can see it looks exactly the same as our example all right so first we have to create this interval right and for this you can use set interval of course and you can use performance from the browser api i think if you want but i'm actually just going to be lazy i'm going to use set interval which is going to trigger every 100 milliseconds and for that we just need to create a function start and let just create here this interval so we can assign it and clear it Alright so we can reassign this interval to setInterval Let's pass it a callback. And let's also say that it should run every 100 milliseconds. Alright, so what we want to do, we just want to increment elapsed. So we can say plus equals dot one, basically. And then we can check, hey, if elapsed is higher than the duration, then we can actually clear the interval and we're done now let's also give it a type of number and great that's basically it and we can also create a reset function since we're here so we can just go function reset we want to reset the labs zero and we want to start the timer again right all right so how do we actually rerun this timer when we change duration right well for this we can actually use an effect. So we can actually go here and we can say effect. Alright, and here we can actually do two great things at once. So for example, if we say if, there is no duration, we just want to immediately return from this effect. And another thing that we're doing with this because we're using this value inside of effect, it's always going to rerun when that value changes. And this is basically how simple effects in Svelte 5 are. There really is no dependency array that you have to think about. This is just reactive because you use this value inside of effect and what we actually want to do well we actually want to start the interval but that's actually another cool thing that we can do so when duration changes this is going to return right and what is this a perfect opportunity for for a cleanup boom look how easy this is you can return a cleanup from the effect by returning a function clear interval and we can actually just clear the interval and that's basically it and now we can even go here and let's just start the default duration let's put it to five just it starts automatically and now we're going to see it already works you can see this is weird formatting we can use to fixed very simple so we can see where it is elapsed let's use to fixed one boom done so you can already see is going to go up to five seconds awesome so now let's reset it oh but of course we need to plug in the function right so here we can just go on click reset as you can see this is just going to restart and you're going to also notice one peculiar bug that is you can see how it 5 and that basically just because how this interval here works so for example it going to increment this and it going to go over the allowed number the duration and it already too late at this point So what can we actually do Well, we can actually just assign it to the final value. So, we can say elapsed duration. So, what we're going to see is it's going to go up to 5 seconds, and it's going to stop perfectly. Alright, so now we can actually reset it. You're going to see, now when we update it, it's going to update this elapsed timer. You are to see it's going to be finished immediately if we go back in time, right? But we can actually see that we can actually finish it right now. So it's going to go up to 10 seconds. All right, so this was a really fun challenge in my opinion. All right, your next task is going to be to create a basic CRUD app. And if you don't know, CRUD stands for Create, Read, Update, Delete. In this example, you have a list of people. When you select one of the people from the list, you're going to populate these fields that are called Name and Surname. You can also take free actions You can create, update and delete someone from the list There is also a basic search that filters the people by their surname And this layout is also perfect for CSS grid Alright, you can pause the video and try it yourself if you want Alright, let's solve this together First I'm going to create a script tag I'm going to add a type person They're going to have a name which is a string And of course a surname which is going to be a string Alright, so now let's create an array of people I'm going to say state array so let's add some grades here so we can say name rich and the surname is going to be Harris so this is the creator of self then we're going to add the creator of solid let's say Ryan Carniato and then the creator of you Evan Yu and then we can also add the state who we currently have selected so you can say selected equal state is going to be empty and then we can use this person type here and then we can also create this type person actually not type this state right so we can actually pass in an object and now we can say name or surname all right so let's take care of the markup so let's create a container class surface 2 awesome i'm going to create a search here at the top let's create a label group Inside of the group we going to say filter prefix and the input is going to be of type text Alright so we actually going to implement the search later so we can go here and now we can create a label with a class people any side of here we just want this for a screen reader so we can say span sr only and we can say names and here is where we're going to create our select list so we can again just create select and we can bind the value to selected any side of here we actually want to loop over a list of people so we can say each people as person and then here where we have an option we can say option the value is going to be person and then we can set the label here so we can for example just say person surname just like they have in their example and person name all right so let's actually just save this and you're going to notice one thing Alright, so now we have this drop-down list, whatever And you'll be thinking, okay, let's just make this What is it? Is it multi something multiple, right? You'll be thinking this is the solution But no, this isn't what you want Because now we can select multiple which isn't what you want But instead, you can just set the size Alright, so now that we set the size to 5 You can actually see that you get what you actually want So you can select multiple and etc Alright, now we're going to create the detail section So this is going to be our other fields for the name and surname name. So let's create a detail section. We want to have another label group. Let's create a span name. Let's see input text. And of course, we can bind the value to person name. That's why we created that. Awesome. Easy peasy, lemon squeezy, right? And we just need to create another group for the surname. Create label. And we want to bind the surname. And now we only have to define our actions. Alright, so I'm going to go here, and let's create a div that has a class actions and space x. Alright, so now we can create a button. So we have create, update, and delete. Awesome. You're going to see right now it looks like shit, but we're going to fix that in a second. Alright, so let's go here. So we can style this thing using CSS grid just as it looks like their example. Alright, now we can target the container. Let's set the width to 500 pixels. We're going to use grid. So we don't have to

 sign the numbers of rows and calls we can actually use grid template areas which is really fun so we can say grid template areas and we can actually just go here and we can define our areas so we're going to actually have two columns so i'm going to say search and i'm going to use dot because this is empty and then in the second one we're going to have people and the details so on the left we're going to have a list of people and on the right we're going to have name surname right and then for the last one we're going to have our actions so we're just going to fill everything so we repeat actions, actions and let's specify grid, template columns so 240 pixels and one fractional unit and we're going to say grid, auto, rows, auto so this is going to keep the height of the row in check and then you can specify a gap and this is 1 rem but I should probably use values from open props so I think 3 is 1 rem yeah you can just do that and then let's say padding and if you didn't know css now supports native nesting so we can just nest our search here and now we can assign a grid area to the search this is why it's so much easier than having to specify the columns and the rows where this is supposed to go yourself so you can just say okay your search done and we can also say group display grid so this is our name and surname fields grid template columns two fractional units and one fraction boom align items baseline alright so now if we save you're going to see it's already starting to look like something but of course we're not done yet we can just go here and continue so now we can say hey people grid area they should be people and we can do the same for details let's go details grid area details let's see if you save this you're going to see now things look right but of course we're not done yet we can of course say actions grid area actions and now everything almost falls in place there is some more styles to details that we need to add so we can say display grid grid template columns let's say auto 1fr because we actually just want this to take the automatic space on the left and then whatever can be taken by the input and then you can say grid template rows so we going to actually repeat maybe there a better solution for this but actually just works fine so we just going to repeat these two rows and then we going to add an additional row and then you can also align items on the baseline and let add a gap for good measure see our size which one we like 0.5 ram awesome and then let's also style the group label we're going to say display contents and let me actually show you why this is awesome basically display content is going to ignore the wrapper around the element right so it's going to pretend like it's not the document flow otherwise let me just show you if you remove this you're going to actually see our grid and etc isn't going to work and then you have to use subgrid here or whatever but actually you don't have to do this you can just say display contents pretend like the wrapper around the element doesn't exist so our grid can kick in all right so now when i say this we're going to see everything looks perfect okay let's take care of the actions logic so back in our code let's go to the buttons at the top so this is create update and delete let's go here we're going to add an on click event listener on click and now we can name this create person update person and delete person awesome let's also copy this value so we can create the functions and let's go back to our script tag so let's just say function oh actually let me just see copy them in okay save function and that's it and this is real simple so we already bound the values of name and surname so we can just go here and we can say people push person so let's add the creator of react jordan walk i think so you can actually create and you're going to see is going to update but now we also want to clear these fields so we can say person and then we can clear the name and surname and let's also create a function so you can say function clear fields yoink and let's just say clear fields and updating the person is also straightforward so we can go here and first we want to get the index and this is very simple so we can just say index we already have the selected person which is just an object so we just need to find out its index and then we can say people index off and then we can say selected and it's going to complain because it might be undefined or we can just say shout out iscript cool and now people at that index we can update the value so we can can for example say name person name and you can also say surname person surname but you're going to notice one thing if i save so for example if i select any of these well this isn't even populated right so how can we actually do this this is just a simple use case for an effect like this so we can just go here and let's just use an effect pass a callback and now we can update person so whenever what whenever the selected name surname changes right so you can actually say name you can say selected name you can also check if it exists otherwise it's going to be blank right and let's also do the same for surname all right so now if i save this we're going to actually see now when we select someone their information is going to get populated so for example we can change rich to to Richie. How awesome is that? Alright, deleting a person also isn't that hard. So we can just go here, delete person, and we can reassign the people to the result of the filter. We can say filter, we can say p for person, and then we can say p.name isn't equal to the current person.name, or pSurname isn't equal to the current person dot surname. And once this is done, we're going to clear the fields. Awesome. Let's see if this works. All right, there we go. It works. Okay, so the last thing we have to do is implement a basic search that filters the list of people based on their surname. So we can actually go here, and first we have to track what the user typed in as a search query. So we can say prefix, let's keep track of this, and then we're going to create a derived value, we're going to filter the list of people. So we're going to say const filter people equal derived, and by default we can only pass a simple expression in derived, but if you wanted to do something more complicated and pass a callback, you can say derived by you can pass a callback like this So for example here is what we going to do We going to check if a prefix exists then people filter We can say p and then we can say hey p surname to lowercase And then we just need to check if it starts with what we're looking for, right? That's basically it. Does it start with a prefix? Otherwise, if a prefix doesn't exist, then just show the list of the people. And that's basically it. Now we can save this and you're done. And again, we don't need dot by here because it's just a single line. so you can actually just remove this that's basically it, now we can save this and the only thing we have to do is use the prefix and use filtered people, and where do we use this? well of course here we go to our search, so input type text, let's bind the value to the prefix and where we're looping over the list of people, instead of people we're going to use the derived value filtered people, awesome let's save everything, so now where we go here you can for example search for harris is going to give us rich harris you can search for carniato he's going to give us ryan and of course we can search for you and it's going to give us evan you and that's basically it for the crud app all right for the next task we're going to make a circle drawer so we're going to have this canvas here where you can draw circles when you click on a circle is going to be selected so it's going to have a fill color if you right click on a circle is going to open this context menu so we're going to be able to change or adjust the diameter of the circle and then lastly we're going to have an undo and redo history all right so if you want to try this one yourself keep in mind you don't actually have to use the canvas element itself because then you have to implement some math to know what thing you clicked on unless you want the challenge of course but you can just use an svg canvas so that's going to be a lot easier and if you want a tip on how to implement history just think of it as a slide where you can go backwards and forwards so maybe that helps all right let's implement the circle drawer together first i'm going to create a script tag then I'm going to create a circle type I'm going to give it an id number or actually it's going to be a string since we're going to use crypto from window so then I'm going to say cx number cy is going to be a number and the radius is going to be a number and then we're also going to have some state I'm going to name it status so the two possible states our app can be is in drawing or editing awesome and then for right now we just need two pieces of state I think So first we need to define the status Let's just say state Let's pass status And then we can select drawing And then let's store the circles

 so we're going to say circle so this is an array of circles that's basically it and let's assign it an empty array all right so let's take care of the markup so first i'm going to create a container space y and then i'm going to create the actions and i'm going to save it say flex center all right so let's create our button so we're going to have an undo and redo we can just leave this for now alright so let's create the SVG next so first we're going to give it a view box so this is basically the camera of the SVG it's going to be 600 by 400 and then inside of it we're going to just loop over the circles and render them so each circle is a circle and then we just need to draw the circle so we can use the circle element and then we can just spread all of the attributes of the circle so that's how easy peasy lemon squeezy that is let's just also give it a white stroke and a stroke width of 2. Alright, so that's it for now. Let's just add some simple styles and then we can work on selecting the circle. So I'm going to open some styles and then for the SVG we also have to define width and height. So it was 600 by 400 and then I'm going to give it a border just so it's noticeable. Let me use gray 0 from open props. Beautiful. And then I'm going to have just some styles for the dialog that we're going to open. So I'm going to say, hey, width 400 pixels. I'm going to be lazy. I'm just going to say absolute positioning, and I'm going to center it. So it's very simple. First, we have to say 500 for the top, for the left is going to be 50%. Did I say 500? I don't remember. I probably spoke. So you can just say translate, and then you can just say minus 50% and minus 50%. So this is the X, and this is the Y. awesome and then let's say padding so let's say size free awesome that's one rem and then let's align the text center awesome beautiful so i think that's it okay so let's draw the circle so for example we can actually draw a circle in the center like this save it and there it is so we actually don't want to do this of course let me just create the function drawCircle and let also assign it to the SVG so we can say on click draw circle and we going to get some accessibility warnings so we can actually disable them if you just scroll to the bottom you can actually automatically fix it so yeah we can just actually do this for the last one there's two of them all right so now they're gone all right so let's draw the circle so we actually have to know the mouse position so this accepts an event which is going to be a mouse event all right so we can actually construct a circle so we're going to say that cx is equal e client x so this is the mouse position x and we can see that cy is e client y and let's also give it a radius before i forget and we can also push now the circle so we can just say circles push circle oh and of course thanks to typescript it's saying hey you're missing an id so let's do that okay so this is really simple you don't need any fancy extra package or whatever you can just say crypto so this comes from window crypto random uuid boom and this is going to give you a random uuid just like that boom baked into the browser all right cool let's actually try this what is this oh my god well the problem is that it's adding the width and height outside of our svg right so we actually need to do some basic math just so we can say okay this x here where it's the left side just remove this from the calculation then you have to say okay this y here remove this from the calculation. That's basically what we have to do. We can do that using get bounding client tracked. So this is how we can do this. So first let's get a reference to the SVG element. So I'm going to say SVG element is eTarget as SVG element. And then we can get left and right from SVG element get bounding client tracked. That's basically it. yeah so now for example if I log these two values save this open the developer tools let me draw a circle now we're going to see that the left is 72 pixels and the right well I didn't want the right my bad I want the top cool let's just clear this and again wait oopsie let's go okay so now we can just log this we can see this makes and 72 pixels from the left and 140 pixels from the top. Okay, so now we just need to take this into consideration. We can just say x minus left and minus top Cool And that perfectly works So it draws the circle at the center of our cursor And we can also snap the values of these coordinates so they're cleaner. So we can actually first convert this to a number because I'm going to use toFixed. So here is what I'm going to do. I'm going to wrap this in parentheses and I'm going to say toFixed. Just like that. You don't need to do anything extra. Let me just do it for this. alright, so we're not going to get long decimal numbers when we're going to adjust the diameter, right? that's the only reason I'm doing this alright, save, and everything works the same as before alright, so next let's work on selecting the circle alright, so to draw the circle we're going to need to add a new piece of state let's name this selected this is going to be state which is going to hold a single circle let's also give it an exclamation mark so that it doesn't complain and then here we can add a non-click event listener to the circle this is why using an svg is so much simpler we can say on click we get the event let's create the body and now we can just say selected circle but you're going to actually notice one thing let me just console log high and let me open the developer tools you're going to see when i click on these things i drew three circles but now when i click on them we get high and we're also drawing circles so that's actually a disaster that we need to fix somehow and basically by default the elements in the DOM, they actually propagate or bubble at the top, so if you click on this, it's going to bubble literally to the top, it's going to say, okay, on click on this child, okay, on click on me, on the SVG, right, that's why this is happening, but we can actually easily fix that, we can say eek, stop propagation, boom, that's easy, all right, and for the fill, let's just say selected id is equal to the circle id in this case we're going to give this color so it's grayish otherwise it's going to be transparent and then let's go back to the top and here we push the circle we're actually going to say selected is equal circle just so we have a circle selected for it so now when we go back here we can now start drawing circles by default is going to be selected right and now we can actually left click on the circle is going to select the circle but it's not going to draw any more circles unless we want to do that so we can draw more circles if we want okay so let's work on adjusting the radius or diameter of the circle for that we're going to use on context menu we going to get an event and we actually want to prevent the default behavior so we don want to invoke the context menu when we click on a circle Because for example right now if I draw some circles, then I right click on them, we're going to get the normal context menu, but if I save this and draw some circles, now when I right click on them, nothing is going to happen, so now we can add our own custom behavior. So the first thing we want to do, we want to change the status to editing, and then we want to change this circle to be the select circle. And now we can go here where our buttons are or anywhere where you want to be honest we can just put an if block here we can say hey if status is editing then we're actually going to show the dialog so i'm going to say adjust surface to space y and then i'm going to add a span adjust diameter of circle at and now we can give it the coordinates of the currently selected circle So we can say for example selected CX. And we can just copy this over. And we can say CY. Alright so now let's just set an input. This is going to be a range. We can bind the value. Of the radius. That's basically it. And since we have a reference to this circle right here. Because this is all reactive. This is pointing to these circles here. All of that state is going to be updated. So let me actually show you. If we say for example inspect. if I pull up the developer tools let me just draw a circle we're going to see here we have this normal circle radius 40 but now if I right click on it we're going to get this adjustment and then we can actually change it so we're going to see our state updates live boom easy so now when we go here we can see that the radius is 80 just because everything is linked together and then okay how do we cancel this so this is very easy when we click on this if we're in this editing mode we're going to go back to drawing instead of just drawing these circles like here so let me actually just remove this where we draw the circle so here we're going to check hey if status editing we're just going to change the state let's say status is drawing and we're going to return so we're not going to do anything else all right cool so now if i draw something here let me and then when I click outside of it, it's going to close the dialog. All right, so with that out of the way, the last thing we have to implement is the undo and redo history. This is actually something very

 So for example, I'm thinking we can create snapshots like this, which is just going to be an array that's going to hold an array of circles. And what do I mean by that? Well, actually, if we think about this like a slide, we can actually keep the track of all the changes. We can use an index to know at which snapshot we're on, so we can use that to control the state. And that's very simple and not a problem today because everyone has a lot of memory. But of course, we can also limit the amount of these snapshots in memory so we don't run into problems. So actually we can do this like this, and let me just give this a type, so this is going to be an array of circles, but it's going to be a nested array, right? And we're actually going to have history, so we're going to make this reactive, and let's start with minus one. Alright, and we're going to have a couple of functions just to keep it very simple. So we're going to have undo, redo, and we're also going to create a snapshot function. so the first thing we want to do we want to actually increment the history and then we're going to say snapshots push and then we want to push circle so whenever we change them add a circle change the radius or whatever this is the only thing that we have to do but actually since we're using an array this is a proxy we want only the regular value so we can actually use state snapshot and not related to our snapshots this is a thing in svelte where it just gives you the normal value from this proxy right so we can actually just say circles and this is just going to push the normal values all right so now where we have undo we can actually just reassign circle to snapshot and we can just decrement history so that's going to be it and actually see snapshots also we can take this and this is just going to be the opposite for redo we're just going to go back that's it all right so now here where we actually create a circle so we push it we mark it as selected and then we can just take a snapshot boom like a photographer look at me mom i'm a pro and back at the top here we have status drawing so for example if we right click outside of the diameter i'm going to take it as a sign that the user is done editing that diameter because i don't want to constantly up the state as they're changing the number otherwise it will grow large but i'm thinking if they're clicking and changing the state then we can take a snapshot of the change so i can just say snapshot here of course you can do this however you want and back here in our context menu we can also check, hey, if status so if we click on another circle while we in the editing state we can actually say okay let save the state of the previous change so we can just say snapshot and that should actually be it for the most part, alright so now let me actually draw two circles, I'm going to draw a circle here and a circle here let me actually just change the radius I'm going to click on it and now we can actually see undo actually we first need to wire up the buttons, I'm so silly so we can actually go here Where are our buttons? How many times has this happened, right? You make something and it doesn't work, and then you forget, you forgot to add the event listener. Alright, let's do that. So now they're gone. Let's change this. Undo. It works really beautifully. But of course we can get into trouble since we can just do whatever we want with these buttons. So maybe we can actually somehow limit them using some logic, right? Okay, this, how beautiful is that? alright, so let's actually since we're here at the buttons the last thing we have to do so we're going to say, hey, this is disabled if history is just at the start so we don't have anything and then we're going to say for this one hey, disable this if history is equal to snapshots length minus 1 awesome, so now we can see we can undo or redo so now we're going to draw the circles we can actually undo them, so now that we have a redo stack we can actually redo them and everything works beautifully all right friends this was a fun one i hope you learned a lot all right your last mission if you wish to accept it is to create a spreadsheet app and to be honest this one was even challenging for me because i don't even use spreadsheet apps right so how do they even work i kind of know the basics and the formulas there whatever but i'm like okay how is this interaction how does this happen so maybe if you feel the same way just open google sheets or whatever and actually look how the thing works and if you want to attempt this challenge yourself go ahead if you want some tips just think of it as a two-dimensional array so you have rows and columns then you can update that state and for example this formula something like this sum can actually be part of your state so once you loop over it then you can parse it in the template and then when you double click the cell you're actually going to get a raw value in the input right all right so i hope that at least helps a bit if you're going to attempt it yourself so good luck all right let's solve this problem together First I'm going to create a script tag Let's define 10 rows and 10 columns And of course this is all going to be dynamic This isn some hard state Where you going to create the right values by hand No this can be any size you want Well actually that a bit of a lie because I going to use the alphabet for the letters We're only limited from A to Z. But honestly, I would just keep adding things here, or I would actually turn this into an array, so I can just add things by hand, because this is actually the easiest for me, since I'm lazy, right? And then we're actually going to have our piece of state. So we're going to have data. So we're going to create, actually, a two-dimensional array, so rows and columns. so we're going to have an array so each of these arrays inside of here is going to represent a row and then we're going to inside have a value so this is going to be item and let me just copy this lower we're going to have item in this row this is going to be the price amount and we're going to have total so this is great because this also visually looks the same to the end result alright so let me just copy over this row and then inside of here we're going to actually add our first item let's say a nice banana value so let's say per kilo that is going to be one euro or whatever and then we're going to have four kilos of banana and here's what i was talking about so we can just put our formula in here which we can parse later i'm just going to say multiply then it's going to be b2 c2 also so let's do this for the apple so we're adding another row and let's take this red one looks really nice all right let's say two euros and two kilos and then of course this is going to be b3 c3 all right and our last row let's just put this as blank this is going to be total and instead of multiply this is going to be sum and the sum is going to be of d2 d3 we also need other two pieces of state we need to know the selected cell and then we have to know what cell we're currently editing so let's say let's select that cell state that's it and this is going to be edited cell all right let's take care of the markup and style so here i'm going to create a table and this is another achilles heel of mine i almost never use tables and i'm like how does this work and then when you get into styling tables you enter a new dimension but yeah actually it's really not that bad to be honest so we can just say table head so now we're going to specify the head a b c d etc so now we can declare this row we can create an empty table heading so this is what we want to do We actually want this thing here So we have our A B C D columns And then we have our rows here But basically this is just the empty spot that we want. So this is what I'm doing here. And now we can actually loop over the rows. So you can say each array. So you can loop over it. So we're going to get 10 empty items inside of the array. There's nothing that we care about the value. And we just have this index. That's basically it. So now we're going to create a table heading. And now we can access the letter by passing the index. Cool. If I save this and I look at the result, you're going to see that it works. All right. So we're going to create the body. So to create the body, first we're going to loop over the rows. Then we're going to loop over the columns for the cells. So we're going to do the same trick. We're going to loop over the rows. It has nothing because we don't care about the value. Let's get the index. All right. So we're going to have a table row. and now inside of this row is where all the magic is going to happen all right so for the heading so these are going to be our numbers i actually don't want it to start with zero so this is what i'm going to do i'm going to say i plus one there we go all right so now we're going to loop over the columns i'm going to say each array calls as nothing and then let's actually get this i but since we already have i let's just say j but you can of course name this whatever you want and this is going to be calls. Alright, and we're almost done. Now we can actually use the table data. Alright, so let's give it the value, so we can just use the index of our rows and columns to access it. So we can say data at i, since it's a two-dimensional array, we can now access it by using j. And now when that is done, we can just access the value. But of course, let's also make sure that this value exists. And now to tidy this up, let's actually create a constant variable here, so we clean it up so we can say const value equals whatever we created just now and actually my bad this has to go here inside of this each block cool so now we can make this a lot cleaner we can just pass in the value here and i'll actually show you if we save this we're going to actually get the value all right so now let's also add the styles, so let's say table max width 800 pixels, table data, let's give it a fixed width 160 pixels, fixed height 40 pixels, so it looks more like cells, font weight semi-bold,

 text align left let's also add a selected class so you can say m% selected and let's give it an outline and then let's also add this highlight color and I'm going to add a border radius var radius 1 alright so the last thing I want to style is the input inside the cell so I can say height 100% padding 0 pixels and I want to set the background and outline to none. And now we don't really have an input here, but you can see this already looks a lot better. Alright, let's work on selecting the cell, and this is actually going to be very simple, but first we actually need some identifier, because for example we're looping over nothing here, so we actually need to give this some identifier. And for this I actually want to name all of those table data with their appropriate cell numbers, so A1, A2, and etc. and for this I'm actually going to create a new local constant here I'm just going to name this cell so we know what cell it is and for this we need the column number so we can say letters at j and then we want the row number so we can say i plus 1 since we don't want to start with 0 right and then we can also use a data attribute so we can say data cell which is going to be really useful just so we know what the cell is and now when I go here for example and I inspect this banana for example you can actually see this is A2, B2, C2 and so on so everything works we can see the first row should be also right so data cell A1, B1, C1 and etc alright so this works as expected so now we can actually label and identify the data cell and then we can just create another piece of state here we can say const this is selected if the selected cell is equal the cell and now we can also use this to apply a class so we can say class selected and we don't have to say selected because it has the same name awesome now we can use an on click event handler all right so let's go here and we can say on click and let's just pass a function so we can first check hey if this is selected you can just return otherwise we're going to assign selected cell to the current cell since have all of these local states and since we're here when we do this we also want to reset the cell that being edited so we can just say edited cell null so we can save everything so now we going to see that if we click on a cell is going to get highlighted awesome okay let work on parsing the value so i'm going to create a new value here which is going to be the parse value so i'm going to name this parsed value so this is how this is going to work if the value exists we're going to to parse the value, otherwise we're going to return nothing. So let's replace this with parseValue. Alright, so let's create this function at the top, function parseValue, we're going to pass in a value which is a string, and it's going to return a string or number. And let's just return the value. So I'm going to save, and we're going to see everything works the same as before. Alright, so the first thing we actually have to do is we have to parse the formula we need to get back the operation so sum multiply and we need to get back the cell somehow so for that I'm going to create a function parse formula I'm going to accept a value which is going to be a string so let's do that so for example if we have multiply b2 c2 I'm going to actually split this by this first so we're going to get this part which I can further split and then I can split the second part you can actually solve this with one line of regex but whatever you can do that if you prefer regex but i think this is going to be at least readable for you so i'm going to do this so we're going to get the result we're going to get value split we're going to split it by this and then we're going to get a and b and now we can get the operation then we can split it by equals and then we want the second value alright so now we can also get the cells we can say b replace so we first need to get rid of this thing we need to replace it with nothing and then we can split it alright so now we can actually return the operation and the cells but we're really not done yet okay so let me show you how this works I'm going to take this and let me just open the developer tools and we can just do this let me remove this type here awesome okay so now we can parse a formula so we can say console.log parse formula we can pass in a formula here so we can say multiply b2c2 awesome so now let see the result all right so now we get back the operation which is multiply and we get back the cells but this really isn useful to us these cells right we actually have to know the index for our two-dimensional array so we need to create a function that can turn the cell name to the index which really isn't that bad so we can actually go back here let's create a new function so we can name this cell name to index we can pass in a value which is going to be a string so basically we need this for this so we have a1 and then we need to turn this into the index so this is going to be 0 0 which we can later use to access the value or whatever so we can use it like this right and basically what i'm going to do which you should probably also use regex for this but actually let me just be lazy so first i'm going to let me just say result equals value dot split and what i'm going to actually do first i'm going to get the column and then i'm going to spread the rows because we might have a 10 a 11 and etc and i just want to catch all of those numbers and this is why it's probably better to use the regex for this but whatever all right so now we can actually return this we can return the row which is going to be plus row since you want to turn this into a number because we're going to use join so we turn it into a number and then you have to say negative one because for example for a1 we're going to get one but that's really not the actual index we have to go back one subtracted one because we actually incremented it in the template all right and for the column we actually just want to say letters and we want to get letter at that index of the column right so we can say index of column that's basically it all right so now we actually have to use this so now we can use a map to turn the cells to the index we can just go here and say cells map cell name to index that's basically it all right so now here we reparse the value now we have all of the ingredients that we need we can also return a value by default right but first we have to check the value if value starts with equals then we can do something right in this case we want to parse this all right and now look at this we can say result equals parse formula you just need to pass in the value and now we can destructure what we got from it. So we can say operation and the cells. Okay, but this is a bit more complicated because, for example, let me just collapse this for example if you just use a formula here for this regular fields that fine but what for example if we have this total here we have this sum d2 d3 but we actually don have the value of these fields right So what we actually have to do, we have to actually get the real value somehow of these fields, right? Alright, so to do that, we can actually go here, and we can just loop over those cells, and we can just recursively call the parse function. Alright, so this is what I'm going to do. Let me just say const values. we're going to map over the cells let's pass in a callback here here we can destructure row column alright so let's get the value we can say data row column dot value and then we can check here hey if value starts with equals then we're going to recursively call this function let's just return parse value we're going to pass in the value and let's also add a plus sign so we turn it into a number otherwise if this is not a formula we can say return plus value so it's a number so that's basically it and this is the last part where we're actually going to convert everything so we're going to sum multiply and etc for this we can actually just use a simple reducer okay so we can actually just say return values reduce and this is going to be the total so this is going to be the accumulator and then we get access to the value all right so we can actually just put them like this and let's actually pass in a function body and i'm going to do this but for right now we can just pass a starting value which is going to be zero one but for example let's say that we run into a case where you have to multiply the value this would always be zero right all right so we can actually just use an expression here we can say hey if this operation is multiply then we're going to set the initial value to 0 actually 1, or it's going to be 0 so that's going to be it alright, so now inside of here we can just say, hey if operation is sum then we can return total plus value, that's it our reducer is really simple otherwise, if this is multiply we can just multiply the value and let's see, what is this complaining about let's see is not assignable to... so it's probably receiving a type it doesn't expect, let me see ah, we don't have any case if this is something else, ok so we can actually just return total or whatever so now this should be happy, and this might have seemed super complicated, but if you just think

 it's actually very simple and you can also make this a lot better if you just use regex to be honest but yeah i think this is it so now if we save this it's going to format but now when we go here oh can you look at this this actually looks beautiful all right so let's see how we can edit a cell so we can go here and instead of clicking when we select the cell we actually want to double click to start editing so we can say on double click and now we can say edited cell is equal to the current cell, and here I'm just going to join this, so now we can use an if block, and now we can check, hey, if this is in editing mode, which we're going to add right here, so we're going to say, okay, this is in editing mode, if the edited cell is equal to the current cell, that's basically it, just so it looks cleaner, right, all right, so So now we going to add an input of type text we going to pass the value and on input we going to invoke the update function And let also autofocus this so we don have to use any JavaScript we going to get a warning because of accessibility we can just ignore this and that basically it all right so let also add an else clause here so we going to add the parse value or show it that is right because if you're not editing then show the value all right so let's add this function let's say it right here function update all right let me actually save this so let's actually see so now if i double click this on this cell we're actually going to get the formula ah look at this how beautiful is this friends all right so let's actually work on updating it all right so we need actually two things i want to get the value from the input and i want to select the parent element so we can select the cell that we're on so we can actually do something like this let's just say Result. Etarget as HTML input element. And now we can just structure the values that we need. So we're going to get the value from the input and I also want to select the cell. So this is going to be the parent element. And of course I forgot to pass in an event here. This is just going to be an event Alright so on the parent element like this we can actually access this data set cell This is why I put this on the table data just so it useful for later But you can also use this for styling or whatever else you want. And also, if you remember, we created this cell name to index function, so we can get the index inside of our array. So this is basically what we're going to use this for. And let me actually just take this. so we can say const result we can say cell name to index we can pass it here it's going to complain because this might be possibly undefined so i'm going to say okay this exists don't bother me and let's put this right here all right so let's just destructure the values that we need from it so we're going to get row and column and then here we can just add this new value add a row or whatever else we need all right so i'm going to say if the row exists so i can say data row in this case we're going to do something otherwise we're going to create a new row so we're going to do it like this data row equals empty array and we actually going to add the value that we edited so you can say data row column is going to be equal to the new value right and inside of here if the row exists we actually have to check if the column exists and if the column doesn exist we're going to create a cell and what i mean by that well we're just checking data row column so i think i misspoke right but actually mean that we're checking if the cell exists so we're going to do something here so we just need to update the current cell so we say data row column value and we can set it to the value otherwise we're going to create the cell data row column and we're just going to assign it awesome and I think that's basically it right so for example if we save this let's go back here so let's change the amount of bananas to 2 and now we're going to see everything is going to reactively update we can change the amount of apples and everything works we actually did it and built all the seven GUIs so we went through the counter, temperature converter, flight booker, timer, crud, circle drawer and cells and of course if you like what you've seen don't forget to like and subscribe and I'll catch you in the next one peace