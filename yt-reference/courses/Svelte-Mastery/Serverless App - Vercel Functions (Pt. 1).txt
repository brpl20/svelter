 Hi there. So we are going to use Vercel and Node.js to create a little API, a serverless API, and I'll add Svelte to it in later videos and MongoDB as well. So why Vercel? Why not Netlify? They just make it really easy to set up a project really quickly. So I'm just trying it out. I'll see if I like it more or not, but we'll see. Okay. So if you don't have Vercel installed yet, do npm install minus g Vercel. You probably need sudo at the beginning. But after you've done that, you do versell init. And then you can do that if you want, see what happens. But if you already know that you want a Svelte project and you know the name, so I'll just call it practice, then you can pass those in as well. So this will go ahead and get the project. Oh, that's pretty quick. Cool. So now I changed directory into practice and let me open this up in VS code. need to npm install and then we're going to run the command Vercel which will basically just set up the Vercel project for us and deploy it. Okay, so npm install is running. Here is our Vercel template in Svelte. So it looks very similar to the Svelte template. It's probably based off of it. And here we get a little API, so that's the cool thing. This is what we're going to fill in with some yummy API goodies. So I'm going to open the terminal here in VS Code and I'm going to run Vercel. So this will set up a Vercel project. So what I did before, just kind of set up this template and now I change directory into it and Vercel. Okay, so set up and deploy. You can just hit enter because it'll be yes. Enter which scope. So I'm logged in with Svelte dummy. to existing project, no. What's your project's name? I'll just call it practice. Right. So I'm going to go down to development command. It's always messing me up. You hit space and then once you've selected which ones, you hit enter. So we want npm run dev because they're suggesting this here. These two are right, but the dev one is wrong. So npm run dev and it's going to set up this little verse cell thing. It's going to build and it's going to deploy. So now that we've done all this setup, we can come to Vercel and you will need to, um, so I was already logged in. That's how I, it already knew Svelte dummy, but you'll need to sign up. And what I did was just link a GitHub account. And now I don't even, I can just log in like this. And so hopefully you can figure out the, how to set up, um, your account here. Pretty simple. So here I am, Svelte dummy practice, this is what we just deployed. So if I visit that, which is going to be some sort of template, Svelte plus node.js API. Cool. And like I said, we're not going to do app. So, okay. So we're not going to do Svelte. We're just going to look at this API right here. Okay. So the API lives at the root slash API slash the name of this file. date. So we get the date. That's all this is doing. So you'll see this is kind of the basics for an API. You do module.exports equals you have a request and a response. And then you basically res.status if it's good. And then you send the data back to whoever called it. Okay so what we going to do is basically have a CRUD API And how I like to set it up is Well okay so first I should just say I learning this too so I not really expert in best practice or anything but just so we have all operations in one file, I'm going to have basically just an else if statement for each one. Oops, sorry, that's my dog in the background. Although maybe you can't hear it, I don't know. Okay, so it's just going to be post for when you want to create an item. And then method will be put when you want to update an item. And then finally we'll be able to delete an item. And this is going to be sort of a toy example. So it's not, basically what I'm going to do is have a list in this API and we're just going to do stuff off that list. Okay, so let list, or let people equal this list. Okay, and each person just has a name. So I'm just going to say name Noah. Oops. Okay, and basically we're going to be able to get this list. We're going to be able to add something to the list. We're going to be able to update something, and we're going to be able to delete something. Let me just add one more name. Name Sandy. Okay. Okay, so now we're going to do versell dev, which is going to run that command npm run dev that we overrid. So versell dev, this gives us our local environment and lets us access these APIs here. So I'm going to call this crud. Okay, crud, okay. Actually, since I just renamed it, I might need to restart that. Okay, and then this will take us to localhost. This is our dev, localhost 3000. And maybe we want to update this to just say hello crud. Cool. Okay, so hello crud. Nice. Okay, So if I do, okay, well right now it's not really doing anything. So let's just say res.status200.json and we'll send back message, hello. So basically ignoring this if statement for now, just to see if it's responding. So if I go to API slash crud, then it should say, it should send that JSON back message. Hello. Okay, cool. So basically we just want to send something back depending on what the request method is for like a CRUD application. So these is basically create, read, update, delete on people. Okay, so we're going to get rid of this. Now if it is a get, we're just going to return people. So res, so response dot status is 200 dot JSON people. Okay, so now if we refresh this, since this is a get method, we get the people back. Cool. Okay, so I have this set up here in Insomnia. It's kind of like post, what's it called? Postman, Postmate? I forget. But better, I think. So here I call them item, but it's crud. I can basically just choose my method more easily. I don't have to do like a fetch from the... Okay, cool. So I got these So now let have a post So let say we want to add someone So this isn really what you would do because this state here isn saved Basically every time you hit it this state gets redone But let say you had a database This is basically just like pretending you had a database You would somehow insert that into the database. So people.push, I'm going to get whatever data they sent me. So, um, request.body and whatever they sent me, I'm just going to push that into people. So usually we would like validate and then, but in this case, this is a toy example. So we'll get that to that in a future video. Okay. So I'm just going to insert that and then I'm going to return the updated people. Okay. So now let's try a post. So get, so create item API slash crud. So I'm going to post in this new person, um, Bobby. Okay, so I send and nobody returned for response status 200.json people, people.push, rec.method, people.push rec.body. I feel like I'm doing something wrong there. Oh, it's because I just did not send valid.json. And I didn't set up error handling, so I didn't know what happened. Well hopefully that's why. We'll see. Okay, cool. So we inserted Bobby into the list. Now notice if I try to add someone else, like Sam, then Bobby's not going to be there anymore because we're starting off with just this list here of these two people. Okay, but you can see we've inserted there. Okay, so then let's say we have a put, so we want to update someone. What we're going to get from the rec.body is a person and a let's say index. So in general I would maybe call this item and item ID, but for this example we'll do person and index from the rec.body. Okay so again we're just assuming that we're getting past the right stuff from the right person. And what we'll do is people at index will be updated to this here. And then again, we can just send back the whole list. So this works with small data. If you get a large amount of data, you can't really respond with the entire list of people each time. But this kind of just, if you don't have much data, this helps your front end stay in sync with the backend better. Okay, I think I'm not an API expert. So now we come to update and it is api.crud and we want to pass in. So basically let's update Sandy. So first of all, the index is one and the person that I'm updating. So basically I'm going to change Sandy into, how about, name is John. Great. Okay, so now we send that and basically it should say Noah and John. Noah and John. Cool. So Sandy was updated to John. Okay, finally the delete. Actually what I should have done is come here. And notice up here is the method. So this says what method it is. reality in your JavaScript you would do like a fetch and then you'd say your method is delete or something And then in the body you would pass what I passing right here So let delete Okay First I wanted to show you let say I send it what happens Actually I don know what will happen because nothing will be well basically nothing because nothing is being returned because nothing's happening. Okay. So what we'll do is people equals people.filter. So similar to before const index, you probably want a better name for this, but we're just gonna pull the index off of the body and then we're gonna filter, let's say p. So if, actually we don't need p, we just need the index. I'll call it i. Okay, so if i doesn't equal index, then we want to keep it. So people, so this person has been removed, and then again, this thing right here. And I guess I could just put this outside of the if statement, put at the end. But um, okay, let's try that. So I need to pass in the index that I want to delete. So let's delete percent at index one. So it just should just say NOAA coming back. Cool. So we deleted. Okay. So that is a simple API. So now I can stop my dev. That's from before maybe. And I can type for cell and this will deploy. So right now my crud, that's localhost. See right now my API, actually that won't do anything. So right now it's not found. So I just deployed, I'm not sure. Okay, it looks like it's updating here. One thing I couldn't figure out is that you can, this is how you go to this project. You click on that and then you can do stuff here. Okay, cool. So it seems like I could deploy it. So if we refresh this, oh wait, maybe it has a different, maybe it takes, let's see. Okay. So now it says hello crud and then API slash crud. So we get, yeah. So we get the list and now it's deployed. If you wanted to see, so I guess I could do like this at the live, URL. You could send that. Oops. Cool. So deleted. So it's just Noah. I can do this update also at the live on the interwebs. Cool. I added John or I updated Cindy to John, I guess, and the others would work too. Cool. So now you have an API and in the next video, I'll be setting up Svelte with it with all the fetch requests and MongoDB as well eventually. So, okay, that's all for this video. Let me know what you think. Have you used Vercel? This, of course, is not the best way to do it. Actually, if you want a full example, I would check out this one with Express Node.js MongoDB. Basically, rather than Express, we just have our serverless functions. But what they do is, well, I guess it's a bit different because they are using it with MongoDB. But anyway, this is just a very simple example. In reality, you might want to, let's say if you want it to fail, then you can send a status of 404 or something, and then you can pass in, you can say send and just send in some text, like error like that. But this is just a simple example to kind of help you get started, kind of understand what's going on. And that's all for this video. Have a wonderful day.