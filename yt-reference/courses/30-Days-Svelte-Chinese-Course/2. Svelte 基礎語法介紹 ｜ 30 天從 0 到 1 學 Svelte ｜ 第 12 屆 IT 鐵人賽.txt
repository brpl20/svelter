Hello大家好,我是凯凯,欢迎收看凯凯写程式今天呢是这个IT铁人赛的第二天那么第二天我们要讲什么呢我们要来讲Spholds的基本语法介绍那么昨天我们为了示范所以我写了这个Spholds的一个简单的计时器的应用不过我想在那个计时器的应用当中應該有很多有點無煞煞的功能存在所以我們今天就會慢慢來介紹那麼在這10天當中我會盡量的把Sphilts裡面的功能一次全部講完然後講完之後大家應該就有一點概念然後有概念之後呢我們就會透過Sphilts這個前端框架來實做一些在前端蠻常見的UI應用等等然後加強大家對Sphilts框架的影響好今天的目標是什麼呢第一個我們要學習怎麼安裝Sphilts其實還蠻簡單的,我們等一下會看到畢竟總不能每次都是在線上總是還是要拉到本地做開發再來第二個我們會了解一下Sphilts的基本語法有哪一些首先要安裝Sphilts的話呢你可以跑下面這個指令npxdigitsphilts.js.template然後再輸入你要的這個App的名稱那其實它的原理是下面這邊有一個連結你如果點進去這個連結它會到一個GitHub的Template它做的事情就是把這個Template下載下來之後呢把一些Git的Commit等等把它刪除掉就這樣而已那為了要裝這些東西啊所以你本身你的電腦要有Node、JS還有NPM才可以安裝好,那我們現在就試著來安裝看看然後到我們的terminal然後呢我現在跑npxdigitsspells.templates然後我們昨天寫的這個應用叫做倒數計時嗎?countdown我們這邊就新增一個好有了你可以看到這邊,這邊就多一個foldercountdown然後進去之後呢那它本身這個dependency還沒有安裝所以我們透過npm install把整個套件給裝起來嗯,好,有了接下來我們來看一下裡面有什麼東西第一個,它這邊用的bound door是rollup畢竟這個spells的作者是rollup的作者所以當然是會用RAW預設當然在官方也有WebEc的設定檔大家有興趣的話可以我等一下會貼連結大家有興趣的話可以再去看看然後你可以看到這邊有一個RAW Plugin Svelte這個Plugin他做的事情就是他會把Svelte的元件先compile成可以執行的JavaScript之後呢就是再執行這樣子然後我們看一下src這個檔案src這個資料夾裡面的main.js那你如果要Render你的component你的元件到洞上面的話你可以這樣寫那其實在realt當中有類似的寫吧就像這樣子然後rq打Buddy好那這樣子你就可以把整個app render出來了好,那我們來看一下這個是Svelte的原件長的樣子好那麼在package.json當中呢你可以看到有一些腳本那最常的介紹應該就是這個def所以你可以直接在這邊npm runDev把整個app跑起來有了這樣子好那我們回到簡報當中首先第一個要介紹的概念是怎麼寫一個svelte的元件svelte的元件不像這個real你要可能用一個常數或者是一個變數把它接起來你可以直接把它寫成一個像是這樣的方式那這樣子看起來就蠻像一個普通的HTNL檔案嘛 對不對那事實上呢 你用基本的HTNL語法的確也是一個這個合法的spells 元件好 那第一個 JavaScript 的邏輯會寫在 script tag 當中然後 style 會寫在 style 這個 tag 當中然後下面這邊呢 就是 HTML那麼你可以在 HTML 檔中呢用這個大瓜糊來表示變數特別要注意的是這個大瓜糊並不是原生的HTML語法你如果真的在HTML用大瓜糊的話它就是會顯示大瓜糊是Svelte本身它會做一些特殊的事情讓你跟上面的變數做mapping所以呢它會把HoloWorld這個字串給Render出來再來呢你可以透過直接改變變數的值來觸發更新那麼關於這個詳細的原理我們在最後幾天的進階Spellts會再一併介紹給大家好,假設我們今天有一個需求是3秒鐘之後呢要把name這個變數的呃,它原本是word這個字嘛對不對我們想要把它變成caller可以這樣寫第一個我們先把amount這個生命周期方法引入進來然後呢,裡面用setile然後 Setout 執行動作是把 name 複製成 callet這樣子一來 spells就會自己觸發更新所以三秒鐘過後 name 就會變成 callet再來 渲染 html一般來說像這種傾斷空架你如果直接寫HTNL的字串進來,它是會自動幫你做跳脫的那這個道理很簡單是為了避免XSS的攻擊所以你如果要渲染這個最原生的HTNL的字串的話你可以用這個方法,小老鼠,然後HTNL那注意這邊的大括號裡面都可以用表達式來表達什麼是表達式呢?就是比如說你可以在裡面執行一個 function或者是Name是一個Stream所以你也可以做任何Stream的方法的操作好,再來呢我們講一下這個Shells裡面一個蠻特別的功能叫做reactivity假設我今天我原本的countdown是198765321可是一般來說呢我們countdown的表達方式可能都會用幾分幾秒的這個形式來表達對不對所以呢我希望說每次Countdown更新的時候呢我都可以用這個format這個格式來表達這個時候呢你就可以用前號那麼前號的意思代表說呢每一次這個元件更新的時候就會自動去跑這個前號後面所宣告的表達式比如說像這邊每次countdown更新的時候呢或者是整個元件更新的時候都會重新計算也是DisplayedValue這個值來確保說這個DisplayedValue都會是最新的值好那我們等一下就是在實際操作的時候也會秀給大家看好再來呢是傳遞Props在rayA當中可以傳遞Props在Field當中也可以傳遞Probs在Sfield當中呢我們要跟兩個元件做溝通把資料傳遞給其他元件的時候也會用傳遞Probs那麼它的語法其實就跟Field還有Relax蠻類似的就是用一個attribute然後用大瓜糊把裡面的值包起來好那特別要注意的是呢你如果有任何想要當作Proft變數的話你就用export比如說這邊用紅框框標起來的地方export let countdown就是說這個countdown的變數呢它變成一個prop然後這個countdown的變數會從上層的元件傳送過來好的那除了剛剛提到的功能之外呢在svelte當中呢它提供了一個蠻好用的語法糖也不算語法糖這個template樣板的語法像是if跟elseif做邏輯判斷那這邊的elseif啊它並不是原生的html語法所以在HTN它是spells 裡面特殊的功能使用的方式是用大瓜糊然後緊字號if後面放condition然後結尾再用斜線if把它包起來那麼if的這個語法表示方式它也是relative也就是說當這個變數改變的時候呢這邊的判斷式都會重新再跑一遍好 再來是 each 也就是回圈的部分回圈當中的 felt 也提供了一個語法叫做 each來讓你可以做這個跑回圈的動作比如說這邊我有一個 arraylet ar 等於12345這個 array那假設我想要把12345給他渲染出來的話你可以這樣寫each.arrs number那這邊的number它就是區域變數的意思然後你也可以再用一個dol號後面放index來標示你就可以直接存取到index的值然後結尾一樣用寫線each那注意一下這個也不是這個原生的html語法也是sphilt裡面提供的語法之一好的那麼當然我們之後還會探討一些spell裡面其他的樣板語法不過今天我們大概就講到這邊就好所以呢我們現在就把這個今天學到的功能呢把它應用到我們的倒數計時當中好那我們回到我們的程式碼裡面那麼這個這個是我們昨天寫的程式碼這邊多了一個豆號多了一個點點把它複製起來之後呢放進來然後這邊我們不需要傳prop進來現在不需要刪掉那你可以看到這邊在做計時好,那我把字放大一點這樣大家看得比較清楚60px啊不是這裡不是這裡是這個60px好這樣子OK那我們接下來來實作一下這個第一個我們想要利用props來傳遞我們的資料第二個我們想要試試看if block的用法再來是這個spells裡面特殊的語法前前,前號,來表示reactive第一個我們想要變我們想要的format是什麼呢?我們想要做到的是呃...XXX我們想要用這個方式來表達我們的countdown的值那這時候你可以這樣寫我們宣告一個DisplayValue然後這個Value的值呢我們想要它是...0,0假設我們現在分都是一律我們的分一律都是0然後呢這邊用countdown但是呢我希望它永遠長度都是2然後要幫我補0所以我把它用ToStream之後呢用passDraw這個function然後每次都幫我補0之後呢這邊我們就不要用countdown我們用DisplayValue這樣子它應該就會變成這樣的格式了 幾分幾秒的格式好這樣子是不是就好看蠻多的希望有好看好好那你可能會想問說那你不是說這個Spell會自動幫我感知這個值的變化嗎沒有錯它會自動幫你感知值的變化但是呢你如果直接這樣寫sfields是不知道的他不知道說Countdown更新的時候Spells並不知道這件事所以我如果直接這樣寫的話呢你會發現這邊的石永遠都不會變動所以你要透過這個前號的語法來表示說每次元件更新的時候都幫我重新計算一次這個詞好那麼再來呢我想要做這個一個工程就是說如果時間到的話如果時間到的話就是countdown等於0的時候就是時間到幫我顯示一個時間到的提示訊息時間到好那我們來看一下654321時間到嗯很棒所以你可以發現這邊的if block呢它是reactive的就是每次元件更新的時候它都會重新跑一遍好再來呢我們想要做一個功能就是我可以傳送props而不是直接寫死一個變數的值在這邊那麼要怎麼做到呢第一個我們可以宣告一個假設叫countdown的元件好了我們就直接把它複製過來複直過來然後呢為了要讓這個countdown變成props所以我們用這個export來表示那麼這邊你也可以直接不給直那如果你有給直的話就是說如果如果元件沒有傳直過來的話它的預設值就是10defaultprop is 10好 然後在app這邊我們就全部刪掉然後呢我們這邊就直接引入countdown這個元件countdown.spells這個元件然後呢在這邊我們就直接傳 countdown10好這樣子應該就是有同樣的效果沒錯321時間到YeahOK好那當然如果你有其他的想法的話呢也歡迎在影片的下方留言來建議說你希望這個技術器有怎樣的功能那麼今天的部分大概就到這邊了啊對還有我們最後還有提到這個 each的block假設好了假設我有一個array12345你可以直接用 eacharound as number裡面就可以直接用這個變數來表示那你就可以看到這邊12345被Render出來了好以上就是今天的svelts基本語法教學今天我們學習了什麼東西呢?第一個我們學習了props使用第二個我們學習了如何宣告svelts的元件第三個我們學習了怎麼使用if block還有relativity的表示方式最後還有each這個block的語法好那麼剩下的功能我們就在明天繼續結束囉好的,我是凱凱,我們下次再見囉掰掰