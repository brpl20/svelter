哈囉大家好,我是凱開,歡迎收看凱開寫程式今天是IT鐵人賽的第10天啦我們要介紹呢,spell 當中的 slot 跟 class 的進階語法那麼,今天的目標就是理解這個 class 新的 directive 跟 slot 的用法好,首先我們先來看 class 好了相信在之前的單元當中class其實已經出現很多次了它就是幫元素加上class name對不對不過呢一般就是我們之前介紹的都是直接透過靜態的字串來寫class不過在spell當中啊其實你可以把你的class name跟這個變數呢做綁定也就是說當你的變數是true的時候呢spell才會幫你把這個class name給加進去然後當你的變數是false的時候呢它會把它移除好那我們就直接來看一下實際的效果是怎麼樣吧首先呢假設我有一個button好了然後這樣click me好那我們先做一個靜態的style假設我把它的padding變14px然後加上一點我們的radius讓它看起來變得比較圓好這樣子好這樣就有一些效果出來今天我想要做一個效果就是當我點下去的時候我去觸發一個active的效果然後呢同時我們去更改它的背景顏色然後再按一次再按一次的話就是Reset也就是把這個Active的效果拿掉你可以這樣寫首先我們先宣告一個變數叫Active假設叫False好了假設先讓它的值是False然後我再寫一個事件監視器onClick然後呢我們把Active變成True那不要這樣寫好了這樣他就只能都會是True對不對我們把它變成這樣子那這個意思是說每次Active都是Active的相反也就是假設是False的話呢我按下去它就會變成True假設是True的話呢我按下去它就會變成False好再來呢我們把我們的className也加進來假設叫Active這個className好了然後呢嗯我把他的datground 這邊為了這個範例嘛 所以我們就直接寫一個簡單的顏色改變好 然後我們這邊要怎麼跟class name做綁定呢你可以這樣寫class然後mod然後active然後呢再寫你要綁定的這個編數是什麼好 那我們來試試看效果你可以發現點下去之後他就變成紅色的也就是他加上Active這個className然後再點下去它就變回來了也就是說呢當我的變數是True的時候呢它會加入Active然後False的話呢它會變成就是把這個Active的className拿掉那麼你可以你可以讓變數跟className的名稱是相同的如果是相同的話呢你可以省略這個大瓜糊Spellts會自己去看說有沒有對應的這個變數跟classnet可以發現效果是一樣的或者是說你也可以讓兩個名字不一樣比如說我這邊叫exactive那你會發現Spellts就跟你說Active is not defined他就會說你不是叫我去綁定active這個變數嗎可是我找不到那這時候Spellts就會跟你抱怨所以其實是一個蠻聰明的功能所以你可以這樣寫class然後activeis active好然後這邊一樣效果會是一樣的再來呢如果沒有這個功能的話,我們一般會怎麼實作我們可能就是要比較辛苦一點要直接寫一大坨的自傳,對不對?可能像這樣子btn,然後呢,這邊exactive如果是true的話呢,我們就給active然後如果不是的話就像這樣你會發現這樣子是一樣是有效果他們的效果是一樣的但是呢你會發現用字串連接在一起的做法看起來這個程式比較沒有這麼簡潔一些或者是假設我今天又多加了一個新的狀態的話我可能就要這樣寫欸DISABLE然後我可能再加一個新的class name叫DISABLE好了那當你的這個狀態變狀態變數變越來越多這邊的判斷就會變得越來越複雜當然其實這樣子看也沒有到那麼複雜不過比起這樣子spell提供的這種剪斜的語法來說呢或許你可以考慮使用這樣的方式來做像這樣子看起來是不是比較直覺一點好,那麼這個呢就是class搭配這個變速綁定的使用方式好,接下來呢我們來看一下slotslot呢可以透過這個開動有點像是開動的方式呢把你的客製化元件傳入到紫元件當中好,那麼用講,光看的話可能會比較抽象一點,所以我們直接跳到10座首先呢,假設我有一個卡片的component好了,card.spell然後呢,在這裡面我們就簡單做一個功能簡單做一個功能,對,簡單做一個功能,就是顯示卡片假設我這邊的寬度給300然後Background給灰色好了看得出來是一張小卡片然後假設你今天的內容不想要寫死在這個card卡片這個元件裡頭的話呢你可以這樣寫可以直接開一個洞出來開一個slot讓這個副元件來決定這個卡片裡頭的樣式是什麼而你在這邊做的事情就只是提供一個有點像是骨架就是一個灰色的背景而已對好然後呢如果這個沒有給定slots的內容的話呢你可以決定你要的default是什麼好那我們實際來使用看看svelte然後呢,我們把它渲染出來你會發現現在就有一張這個灰色背景的這個小卡片雖然它看起來,現在看起來很不像卡片不過沒有關係然後你會發現它會渲染這邊的default text那這是因為我們還沒有給定slut的內容那要怎麼給呢?你可以用這樣的方式給p等於 title 好的像這樣子或者是像這樣子好那麼除了這樣子寫之外呢你也可以幫你的slot做命名也就是一個元件當中可以有很多個slot像是這邊的範例當中我們有一個卡片然後呢我們透過定義slot的方式把卡片分別分成頭部headbody跟footer這三個部分好那我們就只實作我們就只實作假設head跟body就好你可以這樣寫我們可以把slots做命名這邊叫cardHead然後這邊cardHead它的預設就叫cardHead然後呢我們再給一個slotsName呢我們叫cardBody那一樣這裡面可以放任何body那你會發現現在它變這樣了不過呢因為我們這邊還沒有做秘密假設你想要把這個title的部分放到cardhead的部分的話這個地方的話你可以這樣寫這邊sluts 然後它這邊叫cardhead 所以這邊就一樣輸入cardhead 你會發現這邊就變成title然後呢這邊sluts 假設叫cardbody你看這邊也變CoreBody那透過這種方式呢你就可以讓你的元件變得更有彈性一些好那除了這兩個之外呢你也可以把這個變數傳給或者是資料傳給負元件那這是什麼意思呢在slots當中呢假設你可以這樣寫比如說 lettitle看更多好了假設這是一張看更多的卡片好,那這時候呢你要在這邊接收這個變數的話要怎麼做第一個,你在這邊加入一個 let然後它這邊叫title,所以你這邊也要叫做title然後你要另外開一個變數來接收這個title的資料然後你這邊就可以來加像這樣子點點點看更多好,那它的效果大概就像這樣子好,那我們來做一些更實際一點的案例好了假設,我這邊叫card image好了好了然後呢,我這邊想要放一個backgroundImage那為什麼要用backgroundImage呢?是因為我希望它的這個尺寸是固定的好,那我們就來試做看看吧backgroundImage URL然後裡面呢假設我這邊就輸出一個prop我們之前有提到了explore.let imageurl給這個負原件傳過來然後如果我的負原件或者是我的slot沒有做定義的話呢我們預設就使用這個imageurl好,那這邊我們定義一下我們來定義一下Image的長相首先,BackgroundPosition要在centerbackground sizecoverbackground repeat我們給他no repeat好這樣應該就可以了再來car body這邊我們就一樣不懂然後大概就給這兩個部分就好另外一個我想要做的事情就是有可能這個image.url也可以給上程來用所以我把這個image.url也抽出去給有需要的人使用那我們來找一張圖片好了最近很喜歡喝咖啡所以這邊準備了一張咖啡的圖片這邊是onsplush這邊的圖片都是免費的嗯好那我們回到我們的範例當中我在Card這邊呢傳入ImageImage URL的話會發生什麼事呢欸什麼事情都沒有發生那這是為什麼呢看一下喔這邊呢我們還沒有加高度所以它的高度是0,所以就不會顯示出來好,所以我們加了高度之後呢你會發現這邊就有一張小圖啦那因為呢CardImage我沒有給它slats所以它就會幫我預設用這個ImageURL這個元素呢,來渲染出我的Image那今天假設我就是硬要用這個ImageTag的話,我要怎麼做首先呢,你可以這樣寫我們先定義一個image tagimage url不是image urlimage url我們先開一個變數給slats然後在這邊我們定義slats等於card image然後在這邊呢我們用image url放到這個image url的變數當中好,拿這個拿掉就會長得像是這個樣子不過好像沒有成功耶為什麼?我們來看一下為什麼首先我們這邊有傳過來對不對這邊有傳過來因為src沒有給所以加進來image.l所以你會發現現在它不是用預設的背景圖片而是用這個image的圖片超大的一個好那稍微修改一下我們把image的max width給在100%它就會變回來了好那麼這就是一個這個比較實際的案例好,那麼搭配slats的應用你可以讓你的元件變得更有彈性如果設計得好的話你可能你的CART這個元件寫一次之後呢讓所有的實作盡可能都交給這個副元件來執行那麼在有些場景下可能這樣的設計很方便要怎麼設計呢就是看大家的需求以及使用場景啦好的,那麼今天我們介紹了兩個東西第一個是class的進階的directive可以跟變速綁定然後第二個就是slut來讓你的這個元件呢可以透過客製化的方式傳給子元件好的,那麼今天的內容就到這邊為止啦我是卡開,我們下次再見囉掰掰字幕志愿者 杨茜茜