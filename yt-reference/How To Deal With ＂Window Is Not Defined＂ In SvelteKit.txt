 Hey friends! There might be a time when you're using SwellKit where you're trying to use some package or library that's going to try to run some browser-only code, like invoking something from the window object or self depending in what environment it's trying to run in. And you're going to get into a problem because a page in SwellKit is just a component that gets run on the server and the client, so let me show you how this is true. We can just say hello, and now when I refresh the page you're going to see it gets logged on the server and on the client, which can cause issues like in the example here i have a greet function so let's pretend this is some library and it's calling window alert so when you go to the file here let me just invoke the function so i can say greet and everything works fine so you're like okay i don't see any error but let's see so this is currently in client-side rendering mode but when we refresh the page oh there we get the nasty error window is not defined all right so what can you do in this case well the first thing that swelkit accounted for this so you can say if and you can import browser from app environment so you're going to know if you're in the browser context or not and now inside of here you can run your code and this is what you should always do in this case when you can simple as that and the next one is you can use on mount if you want depending on what you doing so you can say on mount and then you can just do it like this and you can call greet just save it and everything works great and also a bonus tip you can also use a svelte action because svelte actions are basically component life cycle methods like on mount so let me just remove this i'm going to remove the browser and depending on what you're doing but for example you can say use greet and it should work the same let me just save this and yeah everything should work but of course this really depends on what you're doing you don't really just want to randomly use svelte actions if you're in the scenario where you're going to use a svelte action anyhow then you can also do this which is great all right so here is a problem that i ran into so let me just remove this and let me for example show you here let's say for example you're reporting this library but this library is doing some side effect right so it has this window alert and you really don't have control over this so when you like here and even if you do in browser or on mount whatever you just say greet and then you going to run into an error when you refresh the page because it trying to call that thing on the window alert So in this case the best solution and the only solution that I know is using dynamic imports. So dynamic imports syntax is commonly called dynamic imports is a function like expression that allows loading an ECMAScript module asynchronously. So you can load whatever code you need like this, that says some side effect or whatever. It itself is a keyword and not a function even though it looks like a function and returns a promise which fulfills to an object containing all exports. So let's see how this works. So I'm going to go here and let's just say on mount and we're going to pass it a callback and now you can say const greet so we have to await it and you can say import and this is your library or whatever So you can just say greet. Also, don't forget this has to be async. And now let's just console log it out. Greet. Let me just save it. I'm going to go here. And now let's remove this import because this is causing the issue. So I can just save this. And now you can see everything is working fine So you going to see here is the method that we exported You can also say default and then it going to log it out with a default one and the others you might have so let me just remove default here and now everything works just as before so now here to invoke our method you can say greet greet which is a bit awkward but you're going to see it works or you can destructure it You can just do it like this. And let me just save it. And everything works fine. Alright, so that's it. I really wanted to make that difference and to make it distinct that you should use the SwellKit browser method when you have some methods of the library that you can only run in the browser context. When you get into a situation where some piece of code runs some side effect or whatever, then the only option you have is using a dynamic import. Alright, so don't forget to like and subscribe. You can become a YouTube channel member or find my Patreon in the description. Thank you for watching and catch you in the next one. Peace!