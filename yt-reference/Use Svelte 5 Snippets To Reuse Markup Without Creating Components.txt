 Yo friends, what's up? A long-standing critique of Svelte was its composability. So for example, you know how in React you can just create a function and that is a component, so you don't have to create another file and etc. And today we're actually going to learn how snippets solve this problem. Not only do they replace slots, but they also let you create reusable markup. Alright, so first I'm going to go through a couple of examples, then we're going to refactor an example together from the Svelte tutorial, and then I'm going to even show you how to programmatically create snippets, so this is really awesome if you want to integrate Svelte with an existing library or framework, and then in the last section, I'm going to show you how to type snippets. Alright, but before we get started, here's a message from our sponsor. I'd like to thank this video's sponsor, you, the viewer. You can support the channel through Patreon or a YouTube channel membership. Members get early access to videos, help shape the content, and a special Discord role. You can find all of the links in the description. Thank you for your support. all right so let's look at this card example so this is just a simple card nothing special we can already see how simple it is in html to nest element so here we have this card header footer and whatever else you want right but how can we actually turn this into a component and let me actually first copy everything here i have this component i created i named it card.svelte let me just copy paste everything inside of here i'm just going to carve out the content inside of here and this is now a question we just want to pass these children right so how can we do this well we can use this using regular props in svelte 5. so here we can create this script tag and now we can destructure these props from dollar sign props rune so this can be anything you want by default you get children and now we can see how we can use this so to render the children we have to use the render tag and now we can say render and we can just invoke this function because this is just a regular function cool so now we can save this but of course nothing happened because we have to use this right so let me go back to our component here i would need typescript let me import card that's it so right now let me just take out this markup and we can delete the rest all right so now we can use our component and now we can pass the children and you're going to see it worked but it looks awful because inside of our card component right here we're styling header and footer but actually we can style it like this right so we actually need some way to pass these items in their appropriate slots right or positions in the component and of course we could do this the naive way so for example we can pass a telephone prop and then we can just pass a string here but this is actually not ideal right this is actually really awful but actually we can use snippets to create reusable markup and what does this actually mean so what are actually snippets well snippets are a new block in svelte 5 for creating reusable markup so actually let me just start by saying pound sign and then we can say snippets boom now give it the name of the function this can be banana whatever you want we're going to actually name this telephone or this is a function which can also set props so you can pass in regular arguments like a regular function right which is really beautiful and now we can just end the snippet cool so now let's actually move this telephone right here i'm going to create more snippets so for example we're going to name this company let me just cut this going to place it here let's create another snippet so we can even create our own children snippet we can actually take this we can put it right here and then the last one we're going to have is going to be the address inside the footer and let me just do this so i'm going to take the footer and boom the only thing left to do is pass this as props and don't worry in a second it's going to get a lot better if you're thinking that this is tedious so let me just actually see we have telephone company children address so we can say telephone company children address boom let me actually close this so now actually we have these beautiful snippets let's go back to our car component so what did we say we have telephone company address right so now where we have our children we can actually create a header here so we can tell svelte where to put these items right so we can again use this render tag we can render the telephone we can render the company let's create a footer here and inside of the footer again we're going to use this render tag and we're going to render the address boom let me save everything and you can see how easy peasy lemon squeezy this is right and this is actually what snippets are even this children prop that you get from svelte is just a regular snippet all right but i can actually show you how you can improve things so here if we go back to our snippets this is kind of like really tedious to define snippets outside of our component and then pass them as props well actually if you just put these snippets inside of the component svelte is going to turn them into props for you so you can just remove all of this boom let me just copy all of this you're going to save this and you're going to see everything works the same as before and of course this is redundant so for example we don't have to define this snippet children we can just save this and you're going to see everything is going to work the same you can also provide a fallback for snippets so for example let's say that these children didn't exist yet we can go back to our car component and now we can just use a simple if block we can check if the children property exists then we're going to render the children otherwise Let's render a paragraph tag. You can say name, let's say, and you can see here our placeholder. This is how simple it is to supply a fallback. But you might be wondering when you see snippets, is this a replacement for components? And the answer is no, because you can't really export and import snippets. Snippets are mostly useful when you have some reusable markup, when you don't feel like creating an entirely new file just to import it, right? This is where snippets shine the most. And next, we're going to look at more examples of that. Alright, so let's look at another fun example at this countdown. Let me just go to countdown. So I'm going to open this and we're going to learn about scoping in snippets, how they can reference themselves and etc. in this example, right? So this was taken straight from the Swell docs, right? So here we have this blast of snippet which just renders this rocket, nothing special. So here we have another snippet countdown. Here we're going to render it. We're going to pass a countdown. So for example, we can pass 20. You're going to see it's going to update. So how does this actually work? Again, this is just a regular function. we can just pass this number right here here we have an if block that checks hey if n is greater than zero in that case we're just going to log n and then we're going to reference countdown itself oh is this recursion friends i've heard that you need a course for this this is impossible to understand have i been fooled this entire time right so here we have this render and countdown and we're just going to invoke itself right until the condition is met and when that condition is met we're going to render this rocket so we're ready for blast off right and another cool thing is that you can also use the const tag inside of here so for example let's say const and we can just assign this a variable x we can say n minus one and we can just pass it like this boom easy peasy lemon squeezy like that friends of course this is a silly example that just showcases what you can do with snippets and you really don't have to make it this convoluted right so this is actually really cool so for example imagine that you have some sign in right you have google facebook and etc and you have a sign in button and then maybe you have another one that is just email and boom now you can create three snippets you can reuse those button in those off signings or the one for the mail alone right so this is how you can reference snippets itself and you can use them to render something all right let's look at another fun example here i made this breadcrumbs example so I'm going to go to slash breadcrumbs slash deeply slash nested slash url just so we have some breadcrumbs here you can see we can hover over these breadcrumbs and everything works as expected but how does this actually work and it's really simple I'm going to import this page store from cell kit and stores work with runes which is really great so I can define breadcrumbs here I can use the derived rune whenever this store is going to update we're going to update breadcrumbs that's basically it and if you're watching this in the future this is most likely not going to be store anymore so just remove the dollar sign and update the import and that's basically it but okay let's actually talk about the snippet here so here i'm creating this breadcrumb snippet which accepts craft and text as the arguments and then we just going to render this li so we going to do the forward slash and then i just going to output the link all right so here in this ul list first i going to create this breadcrumb home you can name this whatever you want right so this is going to be our first one and then we're going to loop over the other breadcrumbs and you can see this is easy peasy lemon squeezy so here i'm using const again just to make this more readable so i'm saying breadcrumb slice etc it's really not important right so basically we can again render breadcrumbs based on our list of breadcrumbs we can just pass in the ref text and that's basically it this is really how lovely snippets are and you can see snippets are really awesome for creating some reusable markup so you don't have to create a new file some component that you have to import right you can just stay inside of this file all right so let's actually go for this next example together here we're going to refactor this filterable list from the swell tutorial so you can search for colors here and it's going to filter them and the problem with using slots is they're really simple at the start right but once you start to get more advanced with them they can be mind-bending so for example this looks simple enough here we have this header we're passing in this slot header and here we have this row which is children which are going to pass in right but if we for example want a reference to this row that we're looping over right we actually have to bind it here to let so here we have let item and how does this actually work if we go to the filterable list here you can see here we have our slot header and here is the slot for the children so when we're looping over this data and filtering the matches if we pass in an item to slot you have to now understand that you can now bind this on the parent right which is actually mind-bending and there are some other mind-bending things about slot like the double dollar sign to check if it exists they are impossible to type and other problems with slots right so we're actually going to see how awesome snippets are and how they make your life so much easier all right so let's refactor this well first we can look at this and we can in fact leave header as children if we want or you can be actually explicit so let's create a snippet from this so we're going to create a snippet header you can remove the slot props it's not using slots anymore that's it and now we can also do this for the row so you can actually say snippet row and we're also going to accept the row right so you can see how already this is so much easier to reason about because it's so obvious when you read the code what's going on right so you can actually save this and i'm just complaining because row is already defined so you can just eat this again no mind bending things to think about right so let me actually go to filterable list so now we have to convert this to swell five of course props you can say data field like that we can remove this and of course if you remember we have header and row boom easy peasy lemon squeezy let's just create state here you can already see derive state super easy we can just say dollar sign derived that's it nothing special we don't even have to make this derived because regex in this example is going to be a signal so this is going to update but of course if you want you can actually do something like this you can say const matches and then you can say derived let's create this function and you can even save on code here data filter you can just put it here so you can just say data filter boom let's pass in this function And of course, if you want to pass a callback and make this more readable, you can say derived by, and then you can pass this inside of a function and do more things inside, but actually we don't have to do anything. Cool. You're going to see, even if I remove this, so now we have matches. Now we can actually remove it here. Cool. So now let's actually go here. We're going to use the render tag. Let's render the header. And look how easy peasy lemon squeezy this is, friends. So we can just say render. We can render the row. we can pass the item. Boom. That's it. We're basically done. So now you can see when we search for a color, it filters the list properly. But yeah, this is why snippets are so awesome. It's so much clearer, expressive, and more powerful than slots, right? So you can really go to town using this. You can do whatever you want. Of course, we can turn this into children. Maybe this is redundant, but I leave that up to you. So for example, if we remove this header here, let me just save this let's go back to filterable list now maybe we don't need this anymore let's just say children and we can just say children here boom save this and let see if everything works awesome how beautiful is this friends oh and check this out extra style point so we can go here to row for example and we can of course just destructure this thing so you can say hex name rgb hsl boom and now we can just remove row to make this even more readable if you want boom let's see if this works how easy peasy lemon squeezy is this friends all right so in the last part i actually want to talk about how you can create programmatic snippets and then we're actually going to learn how to type snippets all right so let's see how we can create snippets programmatically and here i have this simple canvas example i can just zoom out let's actually first read the docs so let's see creating snippets programmatically let's go here to this example so basically there is this api create raw snippet which is a more advanced api designed for people building frameworks and library so basically this for your storybooks or whatever so they can more easily integrate with Svelte. This isn't something that you have to think about if you're just a regular person using Svelte. So basically here is how it works. So you can use this API create raw snippet you can even pass in whatever you want so here I'm passing with height and we can even pass in a signal here. So let me actually show you something cool. So here we define this right so you can specify the render function so you can render some markup whatever you want right then you have this setup where you get a reference to that element as you can see in this example i'm setting the width and height whatever you pass in here is going to be a function so you have to invoke this right so i'm going to get this context from the canvas and then i'm just going to draw this circle right that's basically it here i'm going to define a signal radius and i'm going to just put an event listener on the window on mouse wheel to change it if you're scrolling up or down so you can see i'm scrolling up and down and i can even change it and this looks very similar kind of to the japanese flag right and you can see here we can say render canvas we can specify our props including the radius let me actually show you if i open the developer tools that we actually get this here so i can actually console log right here so you're going to see we're going to actually get this signal the raw signal right here so we get this and that's why we have to invoke this the same is true for with height yes you're going to see all these things are functions so we have to invoke them right but basically that is why it create raw snippet is i really don't want to spend a lot of time on it since this is a more advanced api but just in case you might need it you like this have an idea to do something with this right go ahead have fun all right so let's learn how we can type snippets so here i'm going to go here to this types example and i just have a list of fruits here which i took from the swell dog so here i have fruits quantity price and the total and here we have a list of fruits we're just passing them to this table component and then we're passing these children here and our row snippets that's basically it nothing special so let's actually go to the table component and everything looks right so we're passing data children row and we're just rendering them using the render tag so everything looks great until the fire nation attacks so we can actually specify that we're using typescript right and we're going to immediately start noticing some problems here so if we look at children this expression is not callable because we actually have to type this and we can actually consult the swell docs they have this great section here on typing snippet all right so we can actually create a type here let me just name this props you can use an interface whatever and i'm just going to assign it here to props that's basically it all right so first we can actually say the data is an array of any because we don't know what it is you can also use unknown whatever right all right so how can we actually type these snippets so children we can start typing snippet and we can import this type snippet from svelte and we can actually also type a row so we can use snippet this is going to be array of ennis all right and that's okay but we can actually do a better job we can actually pass a generic so we can do this by saying generics we can pass t here so instead of this being array of any we can just pass in t instead of any here we can also pass in t and now we're going to see when we go here to our temples it's now spelt natively supports typescript we can actually see that this is properly typed so you can see the data is inferred as t array and we're going to get t and basically that's it if you like what you're seeing don't forget to like and subscribe thank you for watching and i'll catch you in the next one peace