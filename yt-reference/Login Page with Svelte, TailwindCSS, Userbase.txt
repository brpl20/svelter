 In this video, we are going to make an authentication page with Svelte Tailwind CSS, Tailbox, and user base. Okay, so let's take a look at some sites that are pretty popular that do authentication. So here we've got Twitter, sign up, log in. So it's pretty simple. There's nothing much on this page. Facebook, again, they've got a login, except here they've got the inputs already. And Instagram also has login right here. they got a signup, forgot password. Okay, so they have pretty simple sites. Probably they don't have to worry about SEO as much, maybe, since they're so popular. But anyway, we're going to make something like this, something pretty simple. Basically, you just have probably more like Facebook's one, where you have an option to log in, and then you have a button to create new account. Although, we'll just keep it all here, and forgot password. It's kind of weird. It takes you to the old design, but we're not going to do that. Okay, yeah, we're going to do login, sign up, and forgot password with user base and this template right here for Tailwind CSS. So this template is great. So you're going to run this npxdget and the name of the template, which is this. And then we're going to call it myauthprog. Whoops. Okay. Well, I guess it's myauthprog. All right. I guess I can move this my auth to... Okay, sorry, you had to see that. Okay, here we go. Code. So we'll open this up. And now we have it over here. Great. Okay, I'm going to close this. Don't need this anymore. Okay, so we have used this template. That's good. Now we're going to come to user base. You can try it free. Okay, I'm already logged in, but you'll sign up. and then you'll be given this page here, and you'll have an app ID for your starter app. Okay, and it's great. They've increased it to 100 users for the free tier. That is awesome. So we're going to copy this app ID, come to our project, come to source, and inside app, we are going to delete all of this non-Tillin CSS stuff. Okay. And we're going to do const user base equals window, oops, window.userbase. Or you can de-structure it if you're fancy. I like to do it this way. If it just one it feels a bit more explicit but what do I know Okay And then we can delete window dot user base off the window That way people can use it as easily Okay, cool. And then here in public, we're going to come to index dot HTML. We're going to delete global at CSS because we've got tailwind CSS and we're going to paste, oops, that's our app ID. We're going to come here and a user dot. init app ID. We've got to do this first. And then we'll come to index.html. Come to the docs here in user base installation, and we're just going to use this bad boy right there and put it before bundle.js. Okay, so pretty much set up. We've got tailwind CSS. We've got user base. Great. What is next? Okay, and we deleted global.css. Okay, next we're going to set up our components. So what do we need for this? We need, I'm going to make two routes. So I'm going to have components, or sorry, two folders and routes. The other thing we have to do, which I did not mention, is that we are going to use Svelte SPA router for now. Once Svelte Kits comes out, then you probably want to use that. But for now, we're going to use this one. And we are going to create three routes. Now you wouldn't need to do this for something this simple, but I'm going to. So we're going to have three routes. One's going to be signup.svelte. It's going to look, it's going to be like a single page app. So it's going to look like they're all sort of, what? Has anyone else been having this issue? I try to create something and then it just stops and it starts typing it up here for some reason. Okay, and then finally forgot password. If I'm lazy, I might not get to this. We'll see how I'm feeling at the end of the video. Okay, so we've got these three routes, and then we just want two components here. One is going to be button.svelte, and one is going to be an input, which I'm going to include the label in as well. Okay, I think that's everything. All we have to do now is come here to app and then import router from Svelte SPA router. And then down here to use our router, we pass it the routes. Hopefully I do this right. So we're going to have signup It going to be I guess import our three components So import sign up Might want to skip ahead just a few seconds Sign in from dot slash sign sign in dot svelte And then finally, this little guy forgot password. And I did them all wrong, I just noticed. Because they need to be dot slash routes, but that's okay. Okay, cool. So I have all those and now I can put them here. So signup is going to be signup, sign in. It's going to be sign in. Yep. Cool. And then forgot password. Um, I'll just do it like that, I guess is forgot password. Okay, cool. So this is just going to help us navigate between the three. You could use a button maybe and toggle which one you show, but this is maybe simpler. Okay, so we're going to use this router, sign up, sign in, and forgot password. And in reality, sign up is probably just going to be the homepage. I'm going to do that there. Okay, cool. So what do we do next? I think we have basically all our boiler played up. Let's just start the server and become my dev and see. So sign up, let's say hello, sign in. I did not do, did I do npm install? Maybe I didn't do that. I haven't done that yet. Okay, npm install. So while we're waiting, let's, okay, that was quick. npm run dev. So this, oh, did something bad. Forgot password. Okay, whoopsies, forgot password.svelte. Okay. Let's go. Okay. Huh. It's taking a while. Local host, 5000. Cool. Okay, so when we're here on the main page, it should be the signup page. It should say, hello, user base of window. So cannot delete property user base of... Okay can do that so we need to say window equals null Okay sorry about all that There we go now we got our hello Cool So we can get started Let go to tail blocks to look at what we going to use So come down to is it contact? No. So if you don't know tail blocks, all these great components, it's not Svelte specific, but if you have Tailwind CSS in your project, then you can use these. Okay. I want to use this one here. Let's go with this color. It's a beautiful pink color. So we're going to come to view code and we just want to take out the form. So this should be a form. We'll change that. But we just need this part right here. So we are going to copy and paste that into our signup. And let's see how beautiful it is just right off the bat. Okay, so if I come here, oh, we don't need these anymore. And we already have our signup. Cool. One thing we want to do is wrap our router here in a container. So div class equals container. This comes from tailwind CSS. And we want to do flex. We want to say width. Well, what do we want to do? We want to do width is screen height screen. We want to justify center. We want items to be center. So that's align item center. And then we want margin to be auto, margin X. So left and right. We want that to be auto. Okay, so get rid of that. Let's see how that looks. Okay, cool. So I think that's okay. It's just that this form, like when we took it from here, it's on the right. So it's still on the right here, just doing its job. We just want to take this out over here, medium. So we don't want a margin left of auto because it's pushing it out. Okay, cool. Now it's in the middle. This is basically all it's going to look like. We're basically just going to have a signup form and then we're going to have a link to each of the other forms. So they'll be like, log in instead and they'll take this login form. Okay. So that's, um, so, you know, you can stop watching right here, but we are going to hook it up with user base as well. So, uh, that'll be cool. Okay. So rather than just having all of this HTML in here for signup, what we want to do is create a button and an input component. So here we're just going to copy, copy this and put it in here. And then we want to give it a slot, like that. And we want to give it an onClick so that the event gets forwarded. And so basically this is just kind of a dumb component.

 that gives us some classes like this. But that's okay. Okay, so we got button, and now we want to have this be an input. So I'm going to copy this, paste it here. Okay, here's where things get a little bit more interesting. So you can do this in a number of ways, but what I'm going to do for simplicity, I'm going to have a label, and I'm going to have value. Okay, so the label is going to be right here. Can I select all these? Cool. Yeah, this is just going to be, oh, it's not going to quite work because it's fine. So some people like to put quotation marks around there, around these here, but I don't like it. So here we go. Okay. Type is not going to be whatever the label is. ID name. Okay. This should work. You might want to take the label and like, you know, if it's two words, like split it and then insert a dash in between it. And, um, another thing, so I'm going to do it this way, but if it's a simple form, like we have here, if I were actually using this, I might do like export let name and the name would go here, here, here, or just in these three places. And then when I submit the form, I can just like convert the form data into a JSON object using the name is a bit simpler. Okay, if that didn't make sense, just leave a comment. Okay, but anyway, export let label value, and then the last thing I want to do, some of you might not like this, but I'm going to do spread of rest props. Okay, that way, this component, this input component, you can pass it in like a type or required or whatever you could pass into a normal input. You can pass into this component here, and it'll go right here. Also, if we have something like type, Svelte doesn't like if we have, which we need to do, if I bind value, Svelte doesn't like it if I bind value and also have a type like this. Type attribute cannot be dynamic if input uses two-way bindings. Okay. But we're going to kind of cheat and pass in type using rest props. Okay, cool. So that is all for our input. So from here, it should be fairly smooth sailing. here in signup let change this to a form It going to be a form I have something fancy that changes that for me too Okay And we going to get rid of these components I'm going to get rid of this button and I'm going to go up here, go to script. I'm going to import button from .dot slash component slash button. That's felt. And then we're going to do the same thing, but for input. Okay, cool. So let's have three inputs. One, two, three. And then here at the bottom, we'll have our button, sign up. And then here, what do we want to pass in? We'll have a label equals something. We'll have a, basically we'll bind the value equals something here. and then finally we're going to pass in a type. That'll be something here. Okay, so for the first one, it'll be username, bind this to, let's create our variables. Oops, oh, I forgot about that. Okay, that's good. Let username, password, email. Username, okay, so bind to username, and then the type is text. Okay, then I'm going to come down here. password, password, type is password. And finally email. Okay. So you could make email optional, but, um, usually you want to capture this in user base, if user forgets their email or forgets their password, then they can only recover it through email. So you probably want to force them to use this, uh, to give you their email. And finally required. Okay, that should be everything. We just got to add a on submit right here. On submit, sign up. Which we'll write right here. Function, sign up. And I just realized something because when I was thinking about doing this, I wasn't thinking about using this router here. So, because before I would just pass in user base into each of these components. But instead, what we're going to have to do is create some stores here. Okay so I just going to close stores We going two stores Uh so import writable from Svelte slash store We want a user base store. So export const user base. Should I call it store for clarity? User base store. Sure. Let's do that. A writable. It's going to start out as null. And then here we want to have our user store and we'll call it, sorry, we'll have null as well. So both of these will be set by, um, this right, uh, right. This, this component here app. So import both of these stores. So a user base store comma user store from dot slash stores. Okay, cool. So we can do that. We want to pass in basically we want to set userbase store equals userbase. And we're going to have a user. So let's do this at the top, actually. It's before we init. So stores. Userbase store is going to be userbase. And then we'll have our user right here, which is going to start out as null. Sorry, user store. Cool. Okay. And then here in userbase.init, so after we init, we'll get a session like this. And this session will have a user on it. So user equals session.user. So if there's no user, then it's just going to be undefined. This will, yeah, it'll be nothing. Okay, cool. So now we can access userbase store and user store from these components. just by using this guy here. But user base store from dot dot slash doors. Okay, cool. So sign up, we'll do user base store dot user base store dot sign up. Yes. And we'll pass in all these things. So username, password, and email cool and then after that person has signed up we are going to get the user so let's call that you and actually we couldn call it user let call it user okay and our um user store will equal we give this user after they signed up Okay cool Is that all for this one here Let's find out. Okay, so come here. I think I already have some users, actually. Okay, I've got five users, but we're going to create a new one. So come here. Let's see if this works. So we're not going to see anything on the screen, but hopefully we can see it in user base. So hey there. Well, let's do lowercase. Hey there, password. Hey there. Hey there at aol.com. And sign up. Okay, so we don't see anything. Let's see if there's an error in promise reference. User is not defined. User is not defined. User store dot then user. I must have used user somewhere right here. That's what I'm used to doing. User store. Okay, let's try that again. Hey there, hey there, hey there at AOL.com. Cool. Okay, I think it was created. So let's see if hey there is there. Oh, no, not there. Too bad. Let me refresh again. Nope. Okay, so I submitted and it didn't work. Why did it not work? So let's go to sign up. On submit, sign up. I need to prevent default, of course. Whoopsies. Okay, so you see all that got stored in here because I did not prevent default. Okay. I'm sorry, everyone. We're going to do this one more time. Hey there. Hey there at aol.com sign up. Okay. Nothing happened. Let's come back here. We don't need this. Come back here. And yay. We have Hey there. Okay. All that's working. So we just need to make this, um, make the functionality look a little better. So let's take a look here. I'm going to console.log the user store. So when this refreshes, there should be a user that exists because they just signed up. So it starts out as null, but then we get the user. Hey there. Cool. And we have all their info right there. So let's come over to app.svelte. Let's just make this look a little nicer. So we're going to basically say if user store, so if there's a user, then we're going to give them the application. So it's just going to be super simple. It's just going to say, hello, user store dot username. Okay. And then we're going to give them a little.

 logout button. They're not going to get a fancy one, just for simplicity. So logout, because we don't care about this. Click equals this, let's say sign out. Create this function here. Sign out. Okay, so when they sign out, we want to say user base. Sure, I'll use user base store, should I use user base store? Yeah, sure. Dot sign out dot then, uh, user store equals no. So once they signed out, then it's a no. Okay. And then finally, we also want some kind of loading screen. So we're going to have let init promise equal this, or we could just call it promise, but we're going to, whenever we do something asynchronous, we're going to set this init promise to whatever this, whatever it returns, that promise that it returns. So, okay, I'm getting a bit ahead of myself, but basically we have this logout right here, else. So if there is no user, we're going to redirect them to this router, which will take care of our authentication. Okay. So hello, blah, blah, blah, logout, sign up. Okay. So we want to add this await thing for init promise. Okay. So whenever like user base is being initialized And we want to wait on this real quick for good practice. Make sure to add a little catch error, strong error. Cool. Okay. And finally we'll have our then. So in best case scenario, but we don't care about what it returns to us. Um, we have then. So actually then it's supposed to be here. Okay. So after it gets done loading, we will present to them this, the, um, just our page. Otherwise it's just going to say loading. Okay. Cool. So let's see. Okay. We got a logout. So if we come here, yeah, it says, hello. Hey there. Logout. Hey, so it looks pretty bad. I'm going to log out. It's loading. And then, um, we're back to this page. Cool. So we got to sign up now. We just need, what do we need? We need our sign in page and our forgot password page Okay Um so let just come to sign up We can pretty much this is a sign up yet We don't need this. Pretty much just copy paste this into sign in and we just need to change a few things. So when you sign in, you don't need to give them the email. Okay. So we don't need this. Just need username, password. We need to change this to sign in. sign in, change these here. So one thing I, one cool thing I found, let's see if I can do this right now. Oh, come on. There you are. One cool thing is, so I have sign up, sign up, sign up. I should have given them the same capitalization actually, but let's pretend you have, you know, they're the same word, just different capitalization. Just found out about this recently, you can do this. So you want to preserve case. So I'm turning sign up into sign in. And notice here, sign up will stay with this case. So I replace all. I didn't do that. Okay, it's probably because I need to say that right here, capitalization matters. Okay, so I think you need those both activated. Oh, but when I do that, it doesn't get this anywhere. Preserve, sign up, sign in. So maybe Maybe I need to say sign up goes to... Okay, never mind. I don't know why it's not working. Okay, that seemed to work. I'm not sure why the other one didn't work. Let me know in the comments if you know. Okay, anyway, so now we've got sign in. After they sign in, we set user to that thing right there. Oh boy, another thing I didn't take into account is the init promise. So now it's kind of annoying because I basically want to use that same init promise here when they sign in. in, but the init promise is here and I don't have access to it inside my routes. So real quick, we're going to do init promise store. Let's just call it promise store. There's just one promise in our app right now. So we're just going to call it promise store. Okay. So we need, so command L is not working for me to highlight this. I don't know why. What have I done? Command L, so I don't know how to do that anymore. Let me know if you do know. So init promise or sorry I called it promise store Okay promise store and then instead of init promise this is going to be promise store Okay, cool. So now we have access to that promise store in here. Just need to import promise store and then set that. Got a lot of stores. So I'm just using stores here so I can share these between all these components, between my routes. Promise store. Okay, so what we need to do is also come to sign in and add that here. Promise store. Okay, cool. So now when we submit, when we sign up, it'll show loading. and then, okay, so let's come to login, see what happens. Or sign in. Username, hey there, password, hey there. So sign in, it says loading. Terrible password, it says, cool, so hello, hey there, log out. Okay, so that seems to be working. All we need to do now is add a link between sign in and sign up and a forgot password as well. And then I think, yeah, and add the forgot password thing. So, uh, let me just copy paste this real quick. Do we care about forgot password? I'll come back to this later. Okay. Maybe if you don't care about it, um, you don't have to watch the last part. So finally we just need to add a link. So let me see, I'm going to copy paste this and you know, you can use a button to go from one page to the other, but, um, you know, technically you're supposed to use an anchor tag. So we're going to change this to an anchor tag. And it just needs an href. Since we're using the router, it makes this a bit simpler. We just go to the href. We can just pass an href to it. So let's just export let href. Okay. And because Tailwind CSS basically resets all of the default styles, for all of our elements, this should work. It should look the same as the button, although I might need to center the text. So let's try using this. We're gonna come here to sign up and here let put this back there Here this h2 we going to have a div class equals flex justify between So we want there to be space between this signup header. Oops, no. And our link to sign in. So I'm going to say or sign in. href equals hashtag sign in. So we just have to import that. Okay. Well, let's see if that works. So if I come to sign up, okay, so it's kind of ugly, but maybe we can make that smaller. Cool. It'll take us there. Not too bad. So let me just copy paste this into sign in. Okay, man. There we go. Don't need you anymore. Import a, okay. Or sign up. Okay. You might want to use different wording. Like I feel like login, login sounds better. So, but just to keep it consistent with, uh, the user base functions. I'm calling it sign in. Okay, so or sign up. So here we just need to go to slash. Okay, so or sign in or sign up. Okay, cool. So that works. You could if you wanted to add a little, like in fade, make it look maybe we'll do that later. Let's just make these a these anchor tags look a little better. So or not not so not so big, right? This should be more of like a secondary button. So how can we make this better? So maybe text, PGPink, okay, let's make text. Maybe if we just remove text large, it'll be a bit smaller. We probably don't need a pink background. Okay. Maybe on hover BG gray. Okay. Let's give it BG gray 100. What else?

 makes it look weird wait bg gray 100 okay let's make the text black okay it looks like bg gray 100 is the same as this here so 200 will make it stand out a bit okay it still looks kind of ugly focus outline none hover rounded PX PY2 so it's not yeah I guess it's not centered because I yeah this is the best way I know. So flex, items, center, justify, center. Okay, cool. And it's just too, py2. Too, too tall. How do I make it less tall? Fix, black, flex, items, bg, gray, outline, hover, bg, gray, rounded, px8, border, zero. Uh-huh. Okay. Well, okay, I guess I'll just leave it like this. I mean, it doesn't look very good. BGGray 200. How about on hover BGGray 300? Or sign up. Okay, sorry, everyone. This is the best I can get it. You probably want to make it smaller, but this text doesn't look great. But anyway, you can change it up on your own site. But anyway, that works now. Now, do we want to add a forgot password? Let's add the fade. Okay, So basically I'm pretty much done. Um, we already tested it. So if I say, uh, my name, my name, my name, I sign up loading. Cool. I'm in. So this would be your actual application. I log out. I can come to sign in my name, my name. And there we are. I guess what we would want to do is add error handling. In which case, okay, I'm just going to ramble for the rest of the video probably. So feel free to drop off here, but we want some kind of error handling. So let me try to make an error. So here app a wait promise store catch error Okay So this is kind of you know maybe not this is kind of counterintuitive Maybe I going to try something Basically I want catch error. Basically I'm going to force this promise to always resolve with an error. Well, kind of. Promise dot reject. Let me know what you think of this method, but, um, it's I'm going to reject with nothing. So I'm going to say if error, um, wait, right. Okay. No, sorry. That was right. Okay. If error, then show this error. So basically, um, if there's no error, it means we, it means it was successful and it went through dot then, and then at the end it does promise start reject. Actually, maybe I should be saying promise.finally. I'm not sure. We're going to put this error at the top, and it's going to be class equals text read font bold. Okay. We will try this. Okay, so the reason I want to do this is because if there's an error, I still want this to show up. I still want this router to show up, and the page that they're on, the form and everything. So let me see. I log out. Let's say I just put in garbage and I sign in. Error. Username or password. Mismatch. Okay. So... See, I thought it would be text read. Okay, anyway, that kind of works. You can put it somewhere else, maybe. Ideally, I think it would be in the form, but this kind of works. Actually, I wasn't expecting this, but... Okay, I mean, it doesn't look great. Anyway, but now you have an error. You can put this wherever you want. You know, the way I've set it up, it makes you kind of have to put it here somewhere. You might want to do flex column or something. Flex column. Font bold text read 700, I guess. Forgot the number. Okay, so refresh. Let's put in garbage again. Cool. Error username or password mismatch Okay so you just going to have to use the user base errors If you want you can sort of figure out what they are and then look for it and then put your own error But otherwise, it's just going to be, it's going to look like this. Okay. I think that's everything. Okay. Sure. Let's do forgot password. So forgot password. All you need to give them is your username, I believe. So we're not happy about forgot passwords, so no exclamation mark. So it's going to send an email. And here, I think it's okay. Oh, wait, actually, sorry. I'm going to use our updated signup. Okay, so forgot. Send email. So basically, they're going to put their username, and then it'll send an email to the email email that is associated with the username. They just need to put in their username. Or sign in. I'll keep that. Forgot password. Okay, so basically, here we have forgot password. So userbase.forgotpassword. Okay. Send email or sign in. Forgot password. Okay. Is this enough? We don't need the user store. Let me see. Forgot password. We only need username. Let's go to these. Okay. Let's try. Okay. So here I am or sign up. Okay. I need a link to forgot password from sign in. So or sign up. Yeah, unfortunately, it's still this weird... Ah, text? Nah, okay. Let's put this, or sign up, sign in. Maybe if I put it inside here, it'll look a little better. That link. So forgot password This will take you to hashtag forgot password Okay. I mean, it looks weird, but that'll do. So here we are in signup. So, you know, signup. Okay. Forgot password? Yeah, I did forget my password. Okay. So username is, let's say I put trash in. Send email. Oh, user not found. Too bad. Okay. But what if I put in which user? Hey there. Hey there. Send email. Okay. So I didn't, basically I went through, I assume, um, poor person, whoever has Hey there at AOL.com. They just got an email. Um, but forgot password. Uh, but yeah, so if it were real, if I put in my real email, then I should be getting a password. So you can try this basically, uh, go to sign up, create an account with your actual email using your app ID. So don't worry, I won't have your email. And then go to forgot password, oops, sign in, forgot password, and type in your username and then you should get an email. You can see what it looks like. So I'll leave that to be a little mystery for you. Okay, so basically that is all. You can just surround this then with whatever you want your page to look like. Welcome to the best way to learn snowboarding. Okay. It doesn't look so with tailwind, you can make it bigger. And then you can also use these tail blocks. These are great. And just kind of add them in, you know, for your make everything look pretty. You can have this nice little footer if you got all those links. um they probably have something for you know if you have there's like marketing stuff you know you usually see these in landing pages something like this i don't know so you can use all that for your landing page and then just put this in somewhere and um you know make these look a little nicer and that should be all for this video okay it's pretty long video but um let me know what you thought and i hope you have a super wonderful