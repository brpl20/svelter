 Hey friends, today I'm going to show you how to make a GitHub skyline using your GitHub contributions. In a previous video, we actually scraped this GitHub data ourselves and created an API using SvelteKit. But before I get to that, first what are we going to use? We're going to use Frelth, which is a 3D framework for Svelte, which is a wrapper around FreeJS. Of course, this video isn't going to be a tutorial on how to specifically use this too, and it's more to inspire you and show you that these things aren't that intimidating because I'm not really a pre-js professional or 3D. I know some basics, but I can get things done, right? And you're going to see how simple that is, especially thanks to Frelz. So we're going to use the API which we made ourselves. You can watch that video if you want to learn how to use scraping in SwellKit to make something like that yourself. And here I hosted it, this link, so we can go to this link. And now we're going to use this API. So you can copy this link over. And of course, I should type in the user. So you can type in your username, your year and if you notice one thing from the video where we ended off i did the homework so we can also type in the current year and how have we done it well it's really simple so as i showed you in the last video we set the header so i hosted this on vercel which is super easy peasy if you're going to use this in a real project i recommend you host it yourself because i can't guarantee this api is always going to be up for whatever reason right but it's really simple takes one minute to host it on vercel slap this cache headers on right boom that's it done as you can see I've also done the homework here so I also made it possible that you can type in the current tier so we check hey this is the current tier then we're going to change it in this format you just need to pass year month and the date and that's basically it I'm not going to bore you with the details if you're not interested in this but just interested in the frelt aspect all right so I'm excited to get started all right so let's get started the first thing you see is this gorgeous frelt site and you can already see what frelt is capable of using freejs and you can spice up your boring portfolio or whatever else you want. So you can see Frelth is a 3D framework for the web, it's built on top of Svelth and FreeJS, and you have some testimonials here, so even Rich Harry says indeed Frelth is where it's at, so of course it's a great framework. So let's look at the documentation and let's see what this is about. So as I said, this isn't going to be a tutorial on how to specifically use every feature of Frelth, right, but I actually want you to understand what this is about. So basically this is a wrapper around FreeJS and it extends really everything that FreeJS has in the documentation and it really makes it intuitive. The prerequisite for using Frelz is knowing some basic FreeJS but you can get by but the best part is that you can just look up a freejs example and then you can translate it to frelt easily So let see how that works So here we define a scene we're going to look at that when we initialize the project. What I want to show you is how simple this is. So as you can see this code here, I'm going to zoom in, so you see it better. So you can see we just import T, which is where everything gets extended from freejs. So if you look at freejs, and if you look at object3d, for example, Here is where everything gets extended. So this is going to extend the 3.js class. You can see here it has a mesh geometry and a basic material. And let's look at the equivalent 3.js code. So we can see here it looks the same, right? Almost, you can easily translate this, how great the API is of Friult, right? So you have geometry, material, mesh, and then you can just do this. And this is the equivalent in Friult, right? And you get the cube, and how beautiful is that? And this is another thing you have to keep in mind. So basically when you look up things, what methods and property can I use on objects? really this isn't going to be documented in Threl because Threl would then just copy the FreeJS documentation so you just look at the FreeJS documentation so everything extends this base class Object3D so for example you want to know what you can use on everything so there's going to be a position and then you can see okay position where is it? It's somewhere here okay you see here position is vector3 and vector3 just means it has three properties x, y, and z and then you just pass it the position so you know that prop is available and of course you have TypeScript and great auto-completion in your editor. But another thing that's awesome about Frel that I want to showcase is Pierce Props, I think. So we can go here. Let's see, Re.js equivalent. Yeah, so for example, you have this mesh here and you want to set scale or position on it. So you can literally set the prop on this component. So you can say position.y and this is called a Pierce Prop in Frel. So let's see if there's a code example. Oh, here it is. So you can see here is mesh. and okay so you're looking at an example in free js like this for example so you have mesh position y okay what do you have here you have mesh position y how mind-blowingly beautiful that is friends and then you also have things like arc so this is what you pass to the constructor so for example in free js i don't know why i closed the docks because i'm a genius let me just go to the docks so if you have box geometry here and here it's like okay you're going to pass with height and So you can see here is the box geometry. Okay, how do I do this in frailt? Here is the box geometry. What do I pass into the constructor args Boom that how easy it is How awesome is that friends So as you can see everything extends from this base T class So if we go to the core for example yeah core we can go to T. So this extends this object 3D. So you can just use this. You can pass it to mesh if you want. Really, you can read this documentation forever. All right, so let's set up a Threld project. And it's really simple. If you go to their docs, we can go to installation. You just need to run npm create Threld. and that's basically going to use the same SvelteKit CLI but install packages for you so you don't have to do it but of course you can manually install Svelte inside of an existing project so we're going to use Svelte core and then we're going to also use some extras so we get the grid and etc. so if you want to install this in an existing project Svelte is going to spit out this CLI command for you so really that's really awesome you don't have to think about anything and if you go to the extras here you can see here we have things like grid so this is what you're going to use and it has a lot of useful helpers like this alright so here I'm inside of an empty project I'm just going to open the terminal and let me just zoom in so you can see what's going on so I'm going to use pnpm but you can use npm it's really not important I'm going to say pnpm create frelt so give it a second awesome welcome to frelt so I want to create inside of an existing directory I'm going to use tyscript which is optional you don't have to but I highly recommend it because you're going to get great auto completion I don't really care about any of these options right now so I'm just going to press enter and then for the packages you have to press spacebar to select it so don't press enter select spacebar for extras we don't really need rapier theater is really awesome i'm going to show that to you in a second but we're not going to use this side this project so i'm just going to press enter and i'm going to say no so i want to install dependencies using pnpm that's awesome and while that takes its sweet time i'm just going to show you how awesome theater is so the hardest part when you start out in 3d is like understanding and manipulating the objects because it seems like you're just trying out values randomly in the dark. If you want a GUI helper, then theater is really awesome for that. So let me just find an example. I think it was here somewhere. Oh, okay. So here's an example like that. So you can basically install this package and then you can initialize it in your project. So now you have this tree. It's like using Blender almost. How awesome is this, right? So we can select this box. We can move it around with these controls. You can change the color, whatever you want. And now you have artistic freedom to do whatever you want instead of just hard coding some values in a redditor and then relying on hot reloading and how awesome is this friends and let see if this is done awesome so now we can say pnpm run dev and while that is booting up let me just close this since I don think we need it And let just keep open the docs just in case So now we can open it here. It's going to take a second. This is the first time. And we should get some default objects here. And how beautiful is this, friends? So let's look at this code here, even though we're going to remove it. So inside of here, here we have some source. and really this organization isn't important you can organize this however you want but let's really check it out so here inside of app here is where we initialize the scene and that's basically it so here is the code itself let me just close this you can see here we have a perspective camera which is set as default so really this code is really clean and beautiful here are the orbit controls so this is what gives us this auto rotate you can see i'm not doing anything it's just moving around itself you have like this helper thing floats so things can float so you'll have to do the math yourself. We can even increase the auto-route speed. We can set it to something like 4 and my prettier formatted file. So you can see now it's a lot faster. So now let's just remove a couple of things just so we see what's going on. I can remove the context shadow. I want to keep the box. I want to remove the torus and I want to remove this Ico-Sahedron geometry. I can't even pronounce it. I'm a genius by the way. Okay, so let's go. So now let's change the color. This is how simple this is. We just play around and have fun. There is really no repercussions here. This is your world to create. Alright, so I want to show you another cool thing. So this is what I was talking about. You start first time in 3D and without someone else guiding you, you're like, okay, am I just going to type in random values? I really don't understand what is going on here. You might not even know about the X, Y, and Z axes, right? So there are a lot of these helpers in FreeJS, which Frelth also has. So one of them we can use transform controls to at least understand what is going on. Let me show you another cool feature of RELT. We can go through the search. You can find it here, but maybe you don't know what you want. So you can use this AI search. How do I use transform controls? And I think this is going to take a second, but it's really going to show you. Okay, so it says import the controls. We're going to give you code. How awesome is this, friends? Yeah, so you can just use transform controls. So here we are, transform controls. you can see here we have the same cube. So let's just look at their example. Scene, okay. So now we can see these transform controls wrap this map.

 So let's just do what they've done. So we can use Transform Controls. So you have this mesh here. I'm just going to remove this float also because it's distracting. Let's just delete it. And boom, just like that. We're going to complete it. And let's just close it, Transform Controls. Let's just make sure it's imported. So we can import it from Frel Extras, I think. Transform Controls. You can always check here. Let's see. Transform Controls. Yeah, it's from Frel Extras. Awesome. so now we have these transform controls we can save it let's just look at our example what's going on right here and as you can see it's off base because let's see position y because it has a different position we can just remove this so it's at the center and this also has a different position so we can remove this and we don't even need this so we just really want transform controls like this and we can go here and where are the orbit controls we should orbit controls auto rotate enable zoom so we can set it to true so we can just zoom out like this all right so now you understand more what's going on so let me just also remove auto rotate so now you're inside here and this is probably going to be the default view that you get and of course the axis depend in what position you are but usually the xx is going to be left right the yx is going to be bottom top and the z axis is going to be the depth so it's going to come closer to you or further away from you and that's basically the basics of 3d all right friends but let's start from scratch so i'm going to open the sidebar i'm going to delete most of the things here so i'm going to delete components inside the lib folder so I'm just going to press delete and basically we're going to create everything ourselves inside of page let's just delete everything and the only thing I'm going to add here are types so if you're not using TypeScript you can just ignore it so here's what I love to do inside the lib folder I'm going to create a types.ts file so basically what I'm going to do here I'm going to copy paste these types from the post because we don't want to type these types especially if someone isn't interested in TypeScript but basically this is the shape of our API we have this day here it has all these properties and then we export the type contributions, which could be an array, which has this day or null as the value if the value is empty, right? So I'm basically going to save this. And of course, you can find the post in the description. I going to close this and now we can get started All right so let set up the scene First I going to use this snippet So I going to create a script tag Then we going to need canvas from frelt So we can say canvas at frelt core. So this is why we needed core. And then we're going to create a scene. So I'm going to import it in advance. I'm just going to say import scene from slash scene.svelte, which we're going to create in a minute. let me just comment this out for a second alright so now we need a wrapper because we need to set the max height of the canvas otherwise you won't see it so now we can use the canvas component, that's basically it, and now we can use the scene inside and let's just set some default style, so we can say style I'm going to say scene so I'm going to say position absolute insert 0, so you don't have to do left, right and etc, then let's say background color. I'm going to use HSL 200, 10% and 10%. Alright, so let me just comment this out quickly. So if you look at here, everything works because this is our entire canvas. If you open the developer tools let me just zoom in so you see what's going on. If you go to the elements here, let me just go here so you can see here is the canvas and it takes the entire width. So make sure you get this right otherwise you won't see the canvas. alright so let's create a scene so I'm just going to comment this out and inside of routes here we can just go to routes you can have your component in the same place so as I told you it's not really important where you put these files we can say scene.svelte so now this is going to get imported as you can see scene.svelte alright so now first let's get the contributions data we can say script let contribution so remember the types we created I'm just going to say contributions and let's see do I get autocomplete for this no that's fine I'm just going to auto import it and I'm going to initialize an empty one so I'm going to say import type contributions from live types awesome so now we got this and now we need to use on mount so we're going to use client side rendering we can fetch this data on the server but in this case it really doesn't make sense to use server side rendering right so you can just use on mount don forget to make this method async awesome so now we can say const response We can say await fetch And now we can pass it API So it's github contributions slash API for sale app. And now we'll give your parameters. So give your username and the year. All right. So now we're going to reassign contributions. to response say response.json and don't forget to await it alright so now let's see if it works we can say console.log contributions let me save it and now we can go here to the console so let's see if I refresh and also you can see it works so I really get this entire table from the github contributions API that we scraped and now we can do whatever we want with this data so I'm going to add a grid camera lights and then we're going to iterate over the contribution rows and then we're going to render a cube so you can see here we have this count so we already know the name month and etc day year and has some other options like level so we know what color it is but yeah we can just go here let me put the amount here let's just import the base component so I'm going to say import t from frelt core and then we're going to import some helpers so I'm going to need center grid orbit controls from frelt extras and that's basically why we installed frelt extras alright so now let's just go here I'm going to scroll up so now we can use grid we can say it should be an infinite grid section color I'm going to use this color for I 4a, 4b and 4a, also don't forget this it's a hex color, and then you're going to make the section size, as you can see this is super easy thanks to TypeScript ok, so let's see, cell size, not color we can say 20 and we can just set the fade distance to something like 400 or you can play around this the reason why anything isn't showing up, because we really don't have a camera, so let's fix that, so we're going to go here and we're going to say, again, everything is from this T. That's not helpful, right? So T you want what You want the perspective camera All right so let auto complete this So we need to make this the default camera And now we just need to give it a position So I can say equals An object is going to be an array. So X, Y, and Z, 10, 100, 100. And then we're going to set the field of view to be something like 60. You can set this to whatever you want. Let's also give it orbit control. So we can orbit around the scenes. Let's see, orbit controls. enable damping so it's going to be smooth when it goes around and then we can also set auto rotate let's save this and now you can see since we have the camera let's just close this you can see now you can rotate around your scene and now everything is set all right so before we set the lights for the scene let's just iterate over and display cubes for each day so first i'm going to use the center component so we center our mesh in the center and it has this really cool option auto center and then again pierce props how awesome is this we can just say position y 100 all right so now let me just scoot this up so you can see what's going on so now i have this snippet each so i don't have to type it out and now from our api i can say contributions as row we can also take the index and now again a nested loop inside we can say row as they and we can also name it something else like j. Awesome, so this is going to have a null value, we can say if they so now inside of here, we can just create the mesh so we can say t mesh like this, and let's just create all of these things, so then we're going to pass the options and then again, t what you want from 3js you want box geometry right, and then since you have the geometry, now you need a material, and there are all different sorts of materials, but we can use mesh standard material, and that's basically it. So really if we save this, you really shouldn't see anything because you haven't set the properties, so on the mesh we can set the position, so you can pass it an array, you can say 0x, 0y, and we want to move it on the z, so for each row is going to move it on the z, and we can do this, we can pass an arbitrary value like 12 times y so for every row and then we can pass the constructor to the box so we can pass an array, x is going to be 10, we can say they count is going to be for the height which is going to be the y right

 And then for the Z we're going to say 10. And then let's give it a color. You can give it whatever you want. But first I'm going to give it a white color. Alright, so let's save. And let's see what's going on. So you can see here it looks weird. Because we need to go here. And then we're going to add a group. Which is another new thing. So we can say T group. I just do it like this. I'm going to pick it up. And now for the T group. We can say position. side of here we can say x0 y0 12 times i oh and also my bad this was supposed to be the group so i made a mistake here so this is going to be the rows it's going to be on the z so it's going to create a new row for all the days so for the mesh position we can go here actually and we need to use the y index of course so that's going to be on the x because we want to space the cube so you can say 12 times j and now we can say they count let me show you something first I'm going to do this and awesome and we don't see really anything here because we don't really have any light so let's fix that you can see some things are looking weird but we're going to fix it so the first I'm going to do is add an ambient light so basically an ambient light lights everything equally so this is something that you're going to use most of the time so we can say t ambient light and you can give it a color, whatever you want. I'm going to say intensity. And basically if we save this, we should see at least something. So you can see it looks okay. But we can also add directional light. So basically it's like your sun. So we're going to have one from the left and one from the right. And so we're just going to go here. We're going to say T directional light position. we're going to say 0 200 200 and of course you can play with the values if you want I'm just going to say intensity 2 and the color is going to be white and don't forget the hash so we're just going to mirror this and we're going to set it negative on the other side and everything is going to be the same alright so now we're going to light our scene equally as you can see it already looks a lot better as you can see there some weird things going on So we can go here and let just go to the day count and we can just divide it by two all right so now that fixed our issue as you can see everything works fine all right so let's create a function get color which is going to take in the level and it's going to return us a color based on that level so we can go here in our script tag and we can just say function get color we're going to accept a level which is going to be a number so let's just use a simple switch statement so based on the level if it's 0 we're going to return 0e 0e 0e and I think I changed this so it looks better based on this background but I got all the colors from github of course and then you can say case 1 we can return different color we can say 00442A and then let's say case 2 we're going to return 006D35 alright so now say case 3 we're going to return 00A648 and don't forget hash and the last one, so we're going to have case4 we're going to return 00D35C alright, so we can go here and use this function so here we have the color instead of passing the color we can say get color and now we can pass day level let me just save this and you should see everything close gray, so this is the exact colors we have on GitHub how beautiful is this, friends? But we can also use local constants in Svelte. So we can go here for example and let's just open curly boys. We can say const so we can say color equal so we can say get color day level and now instead of passing this since this is the same name as the prop here we can just do this color. Let me save this and you should see everything works great. How beautiful is this friends. Alright friends but let's make this look more interesting. So this looks kind of flat right even if you have a million of these let just make it spread more evenly so it more visually interesting so how i going to do that i going to set a base height so you can see here this looks bad because it like zero so it doesn get any lighting so i want the base height at least then i want to multiply this count value so they're more evenly spread out and i want to set a maximum limit because it's going to look really weird if there's like a thousand contributions or something that is going to be like and it's going to just look bad right so let's do that by creating a normalized function going to go to the script tag I'm going to say function normalize we're going to pass it a count which is going to be a number, the base which is going to be 4 by default and we're going to pass it the opposite which is going to be 2 by default so if you ever want to change this alright so let me just raise this up and we're going to use the Google switch again so we can just say switch true we can say case count so if it's 0 right then we're going to set the base in this case you're going to return the base so you can do your own experimentation but I found that anything above 40 with this setting starts to look unwieldy so if it's above 40 you're just going to return the count and then for the default case we just want to multiply the count right so we can say default return we can say count times so now you want to take the base into consideration times the offset so now we can go back to our loop we can create a const variable here we can say const y then we can say normalize we can pass the count and now wherever we have they count we can just replace it with y so this is going to be y and this is going to be y alright let's save this and have a look at it this already looks a lot more interesting to me but yeah how beautiful is this friends so we can try some other years if we go here let's just see 1001 give it a second to fetch the api okay so here this looks also interesting and you can also pass it the current here so if you're watching this from the future high so you can see here it fetches everything properly looks great all right let's return this so the last thing i want to do is animate the height so how can we animate the height we can animate the height by animating the scale actually. So we can go from 0 to 1 which is going to be the entire height of this cube But unlike CSS we have to interpolate the value ourselves So how can we interpolate the value Well we can use the tween store from Svelte So we can say import tween from Svelte motion. And then I'm also going to import an easing. So I can say pod in alt from Svelte easing. And that's basically it. So now we can go here inside of a script tag. I'm going to create the store. On scale Y. We're going to use the twin store. The initial value is going to be 0. And then we're going to set the options. 2 seconds for the duration. And then we're going to pass in quad in out. Which we already imported. So basically that's it. And now we're going to use another on mount. So when the component mounts we want to animate them. and then we can subscribe to the store we can say scale y is one and we're thinking okay easy peasy now i'm going to go here to the mesh here's props how awesome is that we can say scale y let's use the store scale y but we're going to see this doesn't work as expected so let me save this and go here and you can see it's really weird it starts from the center also let's just fix the camera so it really isn't annoying let's see where we have our camera so let's set this to something higher like 600. Alright, so now we don't have to do that again. So now, let's just refresh. As you can see, it starts from the center here. Alright, so you're going to face this problem in the future, so always just wrap it in a group, and then instead of using the scale on the mesh to avoid weird behavior, you can just use the scale and slap it on the group. So now we can go here, and now we can refresh everything. You can see, let's also fix the height. So we can go to here, position Y. so we can give it a value like 40. Alright, now this looks a lot better. Alright, so that's it, friends. If you like what you've seen, don't forget to like and subscribe, and you can support me by becoming a patron. Thank you for watching, and catch you in the next one. Peace! you