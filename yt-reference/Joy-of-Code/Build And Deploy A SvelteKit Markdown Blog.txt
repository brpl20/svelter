 Hey friends, I'm excited to show you how to make an awesome and extendable Markdown blog with SwellKid. As you can see, pay attention to these gorgeous transitions when we go to the About and Contact page. Even the RSS feed works and it's all pre-rendered so it's blazingly fast. As you can see, we can even toggle the theme which also has a cool transition. So you can see when you refresh the page, there's no flashing. It works great. So you can go back to the dark theme. As you can see, when we load the post, it looks also gorgeous. we're going to learn how to create a custom syntax highlighter and we're going to use Shiki where you can use actual VS Code themes for your syntax highlighting and I'm going to show you how that works so I'm very excited about that and also if we go here we can go to the second post I'm also going to show you how you can use custom components to override elements so for example when I inspect this element right here if I bump it up you can see here is an image but we created a custom component in Markdown, which is going to add the lazy attribute to it. And I'm also going to show you how we can use Markdown plugins. So here we're using a bunch of plugins. We're using it to give the ID to headings, and then we're using a Markdown plugin to create a table of contents for us. So for example, if you want to link a certain section of your post to someone like the counter, you can just click on counter. You can take this link and copy it over, right? All right, friends, I'm super excited. So let's get started. Alright friends, so let's create a new SwellKit project. I'm inside an empty project named blog, but you can name it whatever you want. So open the terminal and I'm going to use PNPM and I'm going to say create Swellt. And now we're just going to go through the wizard. So I'm going to press enter because I'm already inside a directory. I'm going to pick the skeleton project. I'm going to use TypeScript, but if you aren't comfortable with TypeScript, you can just pick JavaScript or you can even ignore types and everything is going to work the same. So I'm going to pick that. and now press spacebar on your keyboard to select ESLIN so we get code errors in our editor and we get prettier for code formatting and you can even enable format on save inside your settings in VS code if you want and that's basically it so I'm going to press enter now let's install the dependencies I'm going to say pnpmi this should take a second all right now that that's done you can say pnpm run dev you're going to run the development server and now you can open port So it's localhost 5173. And that's it. In this section we going to tackle the layout and styles I going to use open props which is really an awesome you can think of it as a tailwind but it gives you css variables instead of utility classes which is awesome so you can use css as god intended so you can see here is the card and you just have these values for example if you go to colors this might look similar to tailwind how that gives you colors and then you can pick between the colors and basically these are just design tokens and what are design tokens is just a fancy term for preset values for your design or whatever else you want So basically it gives you limitations so you don't make ugly designs, right? So this is really a strength of something like Tailwind and Open Props in this case, which was made by Adam Argyle, who is awesome, by the way. But yeah, we're going to use Open Props. And then for icons, I absolutely adore Lucid. I know there's that other library that gives you a million icons. I don't want a million icons. I just want a great looking icon set and Lucid never disappoints. So next I'm going to install Open Props Lucid and then I'm going to install two fonts. so let's go back to the terminal we can open the terminal, control C to kill whatever you have going right now and now I'm going to say PNPMI I'm going to say open props as you can see I already have the completion Lucid svelte and then I'm going to say at font source manrope and at font source JetBrains Mono so we're going to use manrope for the sans serif font for the site and JetBrains Mono for the code blocks and this is really an easy way to install a font so you don't have to worry about that then I'm going to press enter and great. I'm going to close the terminal for now because I want to show you another thing. Press ctrl p in your editor and now inside the prettier config you can configure this however you want. For example I really don't like semicolons so I can go and say false. Now I'm going to save this configuration and now inside the package.json we have a useful script which is pnpm run format and that's going to format your entire code base using this config. so we can say format and yeah basically that's it is done and now we can say pnpm run dev to start the development server back again let's close this i'm going to press ctrl v to close the tab again i'm going to press ctrl p and i'm going to search for app html so i want to add a favicon and i really love this site by west boss so you can use emojis as favicon if you click on it it's just going to copy it so go to fav.farm and now we can go here i like to put this here and i'm just going to paste this here and I'm going to get this awesome emoji as a favor consider or knows your site is blazingly fast. As you can see everything works great. Alright so for the next step I going to add a config file in our project so everyone knows that we are a pro developer that makes 100 files for no reason right but jokes aside this config is going to be useful because it going to have the title description and whatever else you want for the site so you can just change one value in one place instead of hunting it down in all of these files right so let me just close this i'm going to press ctrl b to open the sidebar i'm going to go to source right and routes actually not in routes it's in source but I'm going to create a new file so it's going to be a lib file which is going to be alias default for us so I'm going to say lib and then inside I'm going to say slash config ts so it's going to create a lib folder with a config ts file inside we can close the sidebar and now we can say export const title and I'm going to name my blog Shakespeare because this is markdown for poets and I'm going to say export const description SwellKit blog for poets and here is something interesting so we can also specify the url we can say const url and since you're not hosting this site yet you can just copy localhost and then we can use this environment variable from SwellKit I can start typing dev and it should be auto imported from app environment. So we're going to say, hey, if this is in development and from the URL, you can just use localhost or if this is in production, we can later, if I remember, give it a URL to the site we want. So you can just give it a real URL. So this is going to be used in your head tag and et cetera for your SEO. So basically this is going to be your site. You'll copy this over like this. It's going to be something like your code XYZ, right? And now we can save it and that's it. And also sometimes when you add a lib folder like this, SvelteKit doesn't understand you've added it, so it's going to give you squigglies, but just in case, I like to stop the development server and I like to run it again. But of course, just do it if you have problems, but let's just fix this right now. Alright, so now that this is done, I'm going to add a root layout that's going to have all of our global styles. and by the way if I'm going quick for you and if you're not really familiar with SwellKit I actually have a five hour course for free on YouTube that's going to teach you SwellKit from nothing to everything I know about it basically. Alright so I'm going to close this file. I'm going to go to source, routes and now I can say new file plus layout swell. So this is going to be the global layout for us. So you can see the content disappeared because we have to give it a slot right So it going to appear back again but let just do this we can say script so I just have some useful snippets here I also have a video on that if you want to learn how to do that and now we can import open props so I can say open props and I need to say slash style and then we can also normalize some values and then we can also import buttons from it so if I save this already we're going to get some nice default styles which is really awesome. So before we continue let's create the header and footer component in routes. So I can go here and I can say routes. We're going to create a header.swell file and I'm going to create a footer. But of course you can have this in one file if you want but let's just do this. So for the header again I'm going to use my handy snippet and I'm going to say this is what I prefer. import all as config from so now we can get the alias lib config so now inside of here let's create some markup i can say nav so i'm going to create the title which is going to be the root right and i'm just going to use a bold tag like this and then from the config we can say config title so you can see how useful this is we can just change it in one place and i also forgot here i have to include title and then we're going to add the navigation here so i'm just going to say ul class links and now I'm going to say li, I'm going to give it a tag so I'm just going to put some placeholders here and as an exercise you can add these files yourself but I'm going to add them later right now so I don't have to think about this, so we have the about and now let's create the contact and I'm also going to include an RSS which we're going to implement later, so we can do it like this So this is the ref here and I can say rss.xml and I also want it to open in another page which is a better user experience in my opinion. So I can say target underscore blank and I can just say rss. And then let's give a placeholder for later when we're going to work on the team. I'm just going to say for now button and this is going to be the toggle for the team we're going to work on. And then let's just set some styles so I can say style and let me just scoot this up. So I can say nav padding block. So this is really a newer property in CSS if you're not familiar with this. Instead of staying padding left right, block basically means left and right, and you also have padding block.

 adding inline which is top and bottom. So now we can use the defaults from openprops. We can say var size seven, which is two RAM. And now I can say links, margin, block. Look at us, we're such professional developers. We can say size seven. And now let's also say for links, so I like to say color inherit so it doesn't have that ugly blue color. And then I'm going to say text decoration none. We're also going to need a media query. So I'm going to say media minwith. And really, these aren't fixed values like I didn't get it from some handbook or etc. Just use media queries where site breaks, right? It doesn't have to be fixed. For example, open props can help you get started. You can even use the media queries from bootstrap, right? If you don't know where to start. Let me just look for it, media query. yeah as you can see media queries here so you can see there are the media queries and you can see okay does my site look great at this size or whatever but you don't have to use these exact values use media queries where your site breaks right so there aren't some fixed thing you don't have control over okay so in this case i'm just going to say nav and i also like going mobile first not design wise design wise i actually prefer to start desktop first but when you're coding go mobile first because it's going to be way less code so i can say display actually flex not grid and then i can say justify content space between and then for the links i can say display flex the same for the gap i'm going to again use var size 7 so another useful utility and then i'm going to override the margin block to be zero like this and basically that's it for the header so I'm going to go at the top of this file and let's just copy over this script tag because it's going to be the same thing in the footer so now we can create a tag footer let's give it a p tag here and now we can again use config title and what you're curious about is why sites update by hand the date right when you can use javascript so that's really something interesting so you can use this HTML entity if I can type it so you can say copy so you don't have to copy paste the copyright symbol so let be cool so you can say new date and now we can get full year And basically that it So now let give it some styles We can say padding block, var size seven. I can say border top, one pixel solid, again var, border. And let's also give a piece some styles. so we can say text2 which we're going to define in a bit in our global css another thing you might notice is that i really don't often use classes and that is perfectly fine because this is a single file component and your styles are encapsulated so this isn't going to clash with anything else on your site and i find it's really easier to style and etc yeah so i can press save and now let's go back inside the layout so we can import our components we can say import header from header.swelt and now I can copy this over I can say footer not footer we can say footer from footer.swelt all right so now we can create a more of a global layout so if I go here I can say dot layout and Emmet is going to autocomplete it so let's use the header and then we can say footer. Be careful you don't make a mistake like this. There we go and now we can create a main and now let's just move slot over into main. Awesome let's save it so everything should work as you see we need to style some things so let's go down here we can create a style tag so for the layout let's say that height should be a hundred percent so max inline size we can say max size or max width or whatever but yeah I can say max inline size I'm just going to use the value from open props or actually 100 media queries and I can say display grid so basically I really want this header to be auto then I'm going to use 1fr for this content and then to push the footer to the bottom we're going to say auto again but it's not going to work yet because we need to add global styles so we set the width, actually the height to 100% for the body and HTML. So let add a grid and we can say grid template columns and now I can say auto 1fr auto margin inline So this is a cool trick you might be familiar with margin zero auto but using inline you don have to do this You can just say margin inline auto and that's way easier. And then we can also say padding inline var size seven, which would be two rem. So that's perfect. So now let's add more styles. We can say main padding block var size I'm going to use 9 which is 4rem and then I'm going to add a media query media min width I'm going to say 40 pixels and we're just going to remove the padding in line 0 and this padding is just when you get a smaller size so you're going to have some padding and then when it's a larger size, you're going to remove the padding from the layout. So I can save this. All right, so now we can add the global styles. And for that, I'm going to go to the post and copy it over so we don't spend 10 minutes here typing out some CSS. And this is going to give us more time so I can actually explain to you some concepts that I want to show you. So I'm going to go here. I'm going to go through routes. Actually, let's go in source. We need to add the app CSS in source. Now it's going to open here and the post is always in the description if you're curious. So I can go here and here is this section. So let me find it. Where are the styles? Here is Source App CSS. You can just press copy here. You can copy it over. And now as you can see, here I specified the width and height for the body. So when I go here and save it, we need to import it inside the layout. So we can go here, import. App CSS. And as you can see, now it looks a bit different. So let me just move this here. And something is wrong with our layout. And let me see, it looks like it's applying... Oh, silly me. Instead of colors, this was supposed to be rows. And awesome, now our site looks beautiful. Alright, so I really want to show you some cool things. But first, I'm going to close all of these things because we don't need it anymore. And let me just really show you how people write modern CSS today. So if I go here to the top, I'm just going to load this example in the background. So let me just see where is this. You have some cool examples here. I going to open color schemes but I really want to talk about how CSS variables are used So you have these CSS variables right But you really don use them as is So you don say for example one place that you want orange or gray and then you have to change it everywhere. And this is so much work. So basically what you do, or what OpenProps teaches you, you can see here are some default CSS variables. You can override the ones from OpenProps. And if you don't know how to do that, just inspect some element in your code, and you can see what value it uses. So for example, if you go here and expect it, let me just bump this size up, then you can just see what it uses in the expector right here. So you can see all of the values. And again, all of these variables are also going to be here in the style. So you can see what are their values. You can look at the OpenProp site. But basically, what I want to show you instead is how you define this. So for example, inside the HTML, since it has lower specificity than root, I think this is why this is done. So here you specify your values. In this case, here we can do simple theming by specifying the variables for dark mode and light mode. So this might look like a lot of code, right? But it's really just copy pasting over these values over and over, which you do once and then you're done. So as you can see, here is brand dark. So we really don't use directly these values like orange, green, etc. We make variables like this, brand dark, text1 dark, text2 dark, and etc. And then we make their light counterpart or whatever else team you want to make. And now inside the root, you can also specify color scheme dark so the browser knows what color scheme you're using and is going to change the inputs according to that. And now you can see we have these variables, brand dark, brand light, but we're not using brand light, brand dark. We're just having more generic variables here, which is named brand. and we're saying in root okay by default you can use brand dark or you can use light if you want and then for the media here i'm saying if the user prefers color scheme light then we're going to change these more generic variables to use the ones we specified for theming and this is really simple and it sets us up for success later when we're going to implement theming so as you can see here we also have these classes for the color scheme dark on the html attribute which we're going to use later. And now if we go to the side here, let me open the developer tools and let me just place this down here and let me see not in the options, but you usually have this. Oh, here it is. Here is that paintbrush. It's hard for me to see, but you can see prefers color scheme lights. You can try it out. You can see this works really awesome.

 So even if you don't have a theme toggle, you can see that this works as expected. So let me just talk about some other things. So here we have HTML body. We need to set the height 100%. So it takes the entire height. What people usually do, they get frustrated and they set 100 vertical height and etc. But really don't like that. It's really not a good practice. So do this instead. And now on the HTML, we just set the color, accent color, if you want. The background image, which I also have as a gradient. So it's more spicy. Then I just make it fixed. So that looks great. And then I just have some default stylings for an image. And since Open Props gives you that CSS reset, you don't have to do things like specifying an image as a block so you avoid those line height issues and etc. Then I just have some default styles here for the list. And here is another beautiful thing what you can do. People are often in this CSS versus Tailweed camp, but you can actually learn from Tailweed. You can create these awesome utility classes. You can have classes where you transform text and etc. But look how cool this class is. So this is the surface class. You have surface one, two, three, four. You can make more. And then you set the background color and you set the color for the surface, right? So this is why I loaded this example so I can show you. Let me just go here. And you can see how beautiful this works. So you have the brand, text, color, and et cetera. And now these are your surface colors. So this is one, two, three, four. And now you can use this across your app. So you can see how theming also becomes very easy. So you can see here is dark, dim, grape, and choco. and you can see how really beautiful OpenProps is and using modern CSS to achieve this sort of thing. Alright, so I hope I didn't confuse you too much in this section. I actually think it was worth it to just copy over these tiles and have more time to explain these sort of things and don't forget the post is always in the description if you need to copy or look at something or even look at the project files. In this section we're going to set up MDSwacks. You might have used MDX in the past for React which lets you use React components inside Markdown and basically MD-Swacks is MDX but for Svelte. So you can import Svelte components in your Markdown. You can have interactive charts or whatever else you want and it also has a lot of configuration options and an easy way to use Markdown plugins which you're going to look into later. So as always, you can go to the docs and read it and you can just simply install it in your terminal. You can say pin.pmi, install it as a development dependencies, MD this should take a second and now let run the development server Inside our editor now we going to press Ctrl press config so I open the Svelte config and basically what MD is it basically just a preprocessor It's going to treat Markadon files as components, which we're going to specify right now, so it's able, at the end of the day, to turn everything to HTML. So let me just go here, to our beautiful site, and now I'm going to just remove this comment, so it's really less noise. I'm going to save everything. So now let me show you something cool. I didn't have to do this. I just want to show you. So here we have this page Svelte, but wouldn't it be interesting if you could just write Markdown like this? And this right now won't work. You will get an error, but you can specify to Svelte the extension you want it to process. So if we go here and say extensions, the default one it does is Svelte, but we can also specify MD, so Markdown. So let me just save this. and now you can see it loaded everything, but there's one problem. It can't process the markdown, which is where MD-SWACKS is going to come in handy. So for example, if I open root again, you don't have to do this, right? But if I do some markdown here, okay, low, you can see it can't process the markdown, but using MD-SWACKS we can. So what I'm going to do, I'm going to first import mdswax from mdswax and then I'm going to create a config const mdswax options. I'm going to pass it extensions it wants and if you read the docs you're going to see something like .svx inspired by mdx. We don't have to use this and I prefer just to use markdown md and we can also use a jsdoc type annotation so we get types you can say type and then you can say import so you import the module and then you can use a type from it which is in this case md swags options so you get great auto completion so for example if i press control spacebar you can see what's available to you which is foreshadowing for things you're going to use later all right so now you have to also use it so now since we have more than one preprocessor we have to turn this into an array so for example by default uses with processes handles your sass, postcss and whatever but now we want to use mdswax also and now we need to pass it the mdswax options. And that's how simple that was. So now I'm going to save it and you should see something, ah it updated. So now mdswax processes markdown inside swell files so we can close this for now and of course this was just for demonstration You don have to do this I actually going to rename this file back to Swell because we're not going to use this. And I'm going to instead create some posts. So inside of source, I'm going to create a posts folder. And let's create some placeholder posts. So I'm going to say firstPostMD. and I'm going to say second post MD. Let me just close the sidebar. Here I'm going to use front matter. So basically here is what you're going to extract as metadata from the markdown post. So you can say title and you can say first post and you really don't need quotation marks. I'm going to have a title, description. I'm going to have a date and I actually prefer to use quotations mark because dates can be weird. how we process it. So I'm going to say the year, actually, I jumped ahead of myself in the future, so I can use this, and then let's see, I'm going to use this date, and you can also do categories like this, you can specify an array, but I can say SvelteKit, Svelte, if that's what you want, and you can also have a boolean like this, so you can say published, you can set it to true, and later we're going to set it so it only shows published post and hides the not published ones and now we can also use some markdown so I can say markdown here I can say hey friends let's give it an emoji so you can say wave and then let's give it a call block just so we can see that it works I'm going to say type script but you can use whatever else you want and I'm going to say function greet name string and basically i'm trying to put as many things as possible here so we can see later how syntax highlighting works and basically that's it so now i'm going to copy this over and i'm going to paste it here so this is going to be the second post and in the second post i'm going to We have it more recent so we can also see if sorting works later. And here I'm just going to say Svelte. And this is going to be media inside the static folder is search from root So if you ever wonder where do you put your images videos and etc I going to open the sidebar Here it is inside static So we going to use this favicon since we get it by default for free. So it's really awesome. So how do you do an image in markdown? You probably already know it, but we can just do it like this. So this is your alt text, Svelte. This is going to be the link. So you can just say favicon png and save everything. All right. So basically that's it for our dummy posts. All right, friends, in this section, I'm going to create a post API endpoint. And I often get asked this because people are confused. When would you use a page endpoint? And when would you use an API endpoint in SvelteKit? And basically, once you understand it, it's going to make sense. So for example, API or standalone endpoint can return anything you want. So we're going to use it to return a JSON of posts we can use anywhere, we can use it to list post, we can use it for categories, we can use it for the RSS, and whatever else you want. But on the other hand, a page endpoint which just loads your data for the page can only return JSON, and basically it's just JSON for the page. So if you're not reusing anything, for example, just making a call to the database to get some data just for that specific page, then you really don't need an API endpoint. Or if you're using forms, then you also need a page endpoint, right? And I hope that makes a lot more sense. So let's create the API endpoint for post. I'm going to press ctrl b to open the sidebar and I'm going to go in source routes and this isn't convention but I prefer naming the standalone endpoints inside this API folder so I can say api slash post and now we need to create the standalone endpoint. So now I can say plus server ts and I can close this. I'm also going to use a snippet I have so I can say endpoint and now this gives me an option of all the HTTP words I have which is another benefit of a standalone endpoint you can use get post patch put delete in this case I'm going to use get because I just want to get a list of posts in JSON and basically that's it so what I'm going to do here I'm going to say post and I'm going to create a function get posts and also time for a rant because this is something that drives me crazy when people create a thousand files for every single thing. What I prefer to do is if I'm using something in one place, then I'm just going to stick it in that file. And if I end up reusing it, then I'm going to put it in something like lib, slash, post, yes, or whatever you want, right? And then we can also say return JSON, so we can import this helper from SwellKit.

 And we can just pass it post. So let's create this right now. I can say async function getPost. So now I'm going to create this post. And we're going to use a type for it. Which I'm going to make later. So I'm just going to say hey this is an empty array. And now let's use something cool. So now we need to get all the paths to the post. And this is really easy to do using Vite import meta globe. So we can just pattern match the markdown files. so we don't have to write some node code and et cetera. And this works across many platforms. So we can say import metaglobe. And now inside of here, I can say source. So it's relative to the root. Source posts. And even if they're inside folders, it's going to find it. So I can say slash star.md. And for example, if you have these margain files inside folders, you can put a star here. You can just do a slash like this, and it's going to work beautifully. But this is going to return something interesting. So let me just return posts. Let me just show you. So I can go here and say console of paths. Let's go here. And now we can go to API posts. Here you see some stupid error for the favicon, this release and the portraits. You can see how the globe slurped up the posts, but it returns this function, which is basically just the module that it returned. but basically instead of that we can use this option we can use eager true so this is just going to read the contents of the file you can learn more about this in the vit documentation so now we can save this let me just rerun now we're going to see we get back the content so we can say default and get the value from that but right now here i'm going to remove this line and i want to loop over all the posts and i'm just going to insert them into this post array so it couldn't be simpler than this so we can say for const path in paths and now we can say the file is equal to paths path so let's just log it out to see what's going on as you can see let me just like this so you can see again we get the same thing default and default but now we also need to get the slug and basically the slug is going to be the extension so firstpulse.md but we also need to remove the md and it really not that bad so we can just say path split Actually let me show you If I go here and say path just refresh this so the code runs You can see here is the path source post first. And basically, I want to split this on the slash so I can just grab the last one. And then I'm going to remove MD from the end. And that's how simple that's going to be. So I can say const slug path split. I'm going to split it on the slash. and then I can use at, I'm going to take the last one and I'm just going to say question mark in case it doesn't exist. And then I'm going to say replace and basically I just want to replace .md with nothing. That's how simple that is. So if I console.log out slug, let me just refresh this. So basically, if you didn't know, if you refresh this endpoint, you're just going to rerun this code. So basically that's how I'm testing it. So as you can see, here we get the slug. And also some people are confused what a slug is. And basically a slug is just a term for a title post, which is probably taken from journalism or whatever because slug is the title of the article. But in this case the slug is going to be the thing in the URL you link to the post. All right so now we need to get metadata so I can say const metadata equal file metadata. This is what you're going to get as you can see here from the file which is going to be our front matter so we don't have to use some library to pass the front matter in the markdown. and now we can say const post i can spread the metadata but i also want the slug so i'm going to include the slug and i'm going to say if the post is published only then we're going to do this we're going to say if that is truthy then you're going to say post push the post also i'm going to save that and now if we refresh this you can see ah how awesome is this now we get our post here so you have title, description, date, categories, published, true, slug. What we have to do is sort it, so what I like to do, I'm just going to reassign posts, I'm going to be post, not some, sort, and now people name this AB, that's really, I really don't like the sort of name, so I'm going to say first, second, because it compares the first and second item each time, so actually I'm just going to do it like this, and now I'm going to say newDate and I'm going to pass secondDate and we can turn this into a number to a piece style script but we can use this method getTime and now I going to subtract this from newDate and we going to say first date And then again we can get time And that's it. So now the first post should be second because when you add a new post to your blog, you want it to show first, right? In that chronological order. So let me just save this. And now when I refresh this endpoint, second should be at the top. And how beautiful is this? All right, friends. So if you don't care about TypeScript, close your eyes. I'm just joking, it's really not that bad, but really I'm just going to show you the types quickly, and for you that don't care about TypeScript, you really don't have to concern yourself with this. So what I'm going to do in source lib, I'm going to create a types file, going to be types.ts, so I'm going to say export type categories, which you can always update, but for now, you only have SvelteKit and Svelte, and I'm going to create a type post, which is going to have title string it has a slug string it has a description make sure you spell it properly it has a date which is a string so the categories we can use the categories we created and now I realize my mistake because this should be capital and also we have published which is a boolean and now we can save this and now we can use this so let me show you how i type this and this is why really tyscript is awesome because if you're not using tyscript like this you might be just going gung-ho for this like this but you're going to encounter so much problems down the line and tyscript is going to guide you gently or some might not agree with that but yeah so for the post we really want to use that post type and we can just specify it as an array. So you can see here it's imported at the top. So now we need to specify this metadata type because file is unknown. So we really need to do a check that this is existing inside this file. This is why TypeScript is so awesome because this really isn't just TypeScript. This is just really some good old-fashioned JavaScript checking at runtime, right? TypeScript just surfaces these sorts of problems for you. So it actually forces you to do it properly. So I can do something like this. I can just say if the file exists and typeoffile is an object and the field metadata exists in file So I can do it like this and now I can move all of this code here So for the file metadata we can assert it We can say, hey, this is s post. But in this case, this is a lie because it doesn't have the slug. So we can use this helpful utility from TypeScript. We can say omit. We can pass it the type here, and we can say, hey, remove slug from it so we don't have to create a special type. So here, what we can also do, we can say s post, and this is going to satisfy, but one cool thing, we can use the new satisfy operator here, so we can say satisfies post, and now we're going to get an error which we wouldn't catch otherwise, so slug can be undefined, right, so now inside of here, we can also add a check if the slug actually exists, and this is why TypeScript is so awesome, because it actually forces you to do things properly, right, so now, since this is knows that this is satisfies, this sort of type, post you can see here is it matches this shape so now this is happy when we pass the post and now we have a lot better error handling so i can save this and really nothing changes regarding functionality but now we have more confidence our code works as expected and this is why it's really worth it going through these struggles of learning tights and etc because at the end of the day it's going to make you a better developer another thing i want to mention is that you can see how i have this highlighting here and that's because I'm using this plugin so I can say Chrome JSON viewer let's just see if it's going to find it all right so you can get this extension yourself because by default you won't get this view and then you're going to get the same highlighting as I have I'm just using another team that it comes with but you can pick whatever team you want all right all right so far we've been assembling Lego blocks ourselves but let's actually use those Lego blocks and first we're going to show the post so I'm going to open the sidebar inside source routes because we want to show the data inside plus page.swell we're going to create a plus page ts file we don't have to say server because we don't really depend on anything on the server reading from the file system and etc so you can just say page ts and now we can use the api endpoint we created so as you can see these things work hand in hand it really doesn't mean if you're using an api endpoint you don't use a page endpoint these things can all be combined and you don't even have to use that API endpoint. You can write that logic for fetching posts here or inside the lib function, but then you're just duplicating the logic, right? So I hope you really have a better understanding when you would use these things, but actually let's stop talking and let me show you. So again, I'm going to use this snippet.

 So now we're going to use a load function. And from the load function, we need to get fetch because this fetch has superpowers. It can resolve relative URLs. So if I say const response, for example, await, this is just like regular fetch. But here we can say to SvelteKit, hey, use API post that you created. And this wouldn't work with regular fetch because you would need to give it the entire URL. So this is fetch with superpowers. And then you can say, hey, post, let's import the post type and we can even remove this JS. Sometimes it includes this for whatever weird reason. And we can just do whatever else we need. Response JSON. You can even turn this into a function if you want. But yeah, basically we just need to return this and we're done. Save it and boom. Now we need to show the posts. All right, so if you're following along, I want you to be more comfortable using keyboard shortcuts instead of clicking around. So press Ctrl P in your editor. You can just type routes and you can see source routes. This is our route. So you can open this, you can see welcome to Svelkit, or you can just remove all of this. I can just do this, and we can say export let data. So now we get the data back from this endpoint, which is going to be post. So let me just really show, we also have this handy snippet pre, and I can just say data, and now we're going to see what it returns. So this is post, and now we can loop over them and show them, and that's how simple that is. All right, friends, but let me remove this, and I'm also going to import the config, so I can say import all as config from config. That's going to be it. And now let's work on the markup. So here for SEO, let's just say Swellhead. And now you can specify a title. So not sure what this imported, but let's just do it like this title. And you can just say banana, right? This is going to change the title banana, but let's use our config, config title, and awesome. So let's create a section for the posts. Now I'm going to create a ul with a class post. So I'm going to create it like this. And now we can say each. I also have this snippet. We can say data posts as post. Now inside of here I can create an li with a class of post. And I can first turn it into a link. So for the link I want to use the slug right. So I can say post slug. This is also going to have a class title. And inside of here we're going to use post title. so next I going to create a p tag with a class date so p class date and i going to use post date and then i going to create a p tag with a class description now we can use post description so let me just save this you can see it works but you might be noticing here it should have type completion because we get this from the back end right so you can see if we hover over it this is an array of posts but if you ever have issues, you can just press ctrl p, type the point you boy, or you can press ctrl shift p, this is going to immediately launch you into this mode, language server, you can say restart language server, or you can restart your development server, and everything is going to work great, so just give it a second, and now if we hover over data, you can see, ah, now it infers it correctly, it's just sometimes a lot of things are going on under the hood, right, so use the tools that you have. Alright, awesome. So let's jazz this up. I'm going to add some styles. I'm going to say post display grid gap is going to be 2rem post max inline size bar and here is some useful utility. So we have size content 3 which is going to be 60 characters and we should probably use, let's see, var size 7, who's to ram right there, we should probably do that. Awesome, so this is going to set the max size for the post, so let's save this and see what we get, awesome. And now I also want an underline for every post, but I don't want it for the last one. So how can we do this? We can really use this handy selector, we can say post not last child and then you can say border bottom one pixel solid var we can use border which is specified in our css and then we can also say padding bottom size 7 let's save it and now you're going to see we get this border here but it's not going to give a border to the last item and how simple was that all right now let's add more styles I'm going to add styles for the title. I'm going to set the font size to var font size. And this is another useful utility from Open Props. We can give it a clamp which is a fluid font size. So you can see in this case I'm going to use fluid free. And I also want to say text transform capitalize and this should already look a lot more beautiful right so we need to style the date which we going to fix in a second So we're going to say color and then we can use text2 so we can make it more muted. And let's also style the description, margin top, size 3. And this is really great. All right, so let me show you a cool utility I often use for formatting dates. So I'm going to open the sidebar. I'm going to go to lib, and I'm going to make a file utils, and this is all the utils I use in a project. And let me just, I think I have this as a snippet, format date. Let me just paste this so you don't have to type all of this out. And I'm going to say export format date. Let me save it. So let me explain this. So you can ignore the TypeScript. This is really, I'm just plucking the type from Intel date type format, which I deducted from hovering over the code. So date style, and it shows you, actually it's right here, date format. And now we can hover over these values and get type here, but that's really not what's important. This is format date. So you just need to create a new formatter. So you can do it like this, const formatter. You can say new Intel date time format. You can pass it the locales, which you're passing through the function and the date style. So you can do it like this. And then you can return instead the formatter. So you can say formatter, not format, date. Formatter, format. And you can say new date. And you can pass it the date in the function. So in my opinion, this is more readable. So you can save it like this. So I basically create the formatter. you don't need really any library for date and time and etc. It's just really using the built-in browser API. So new Intel datetime format, we're passing the locale, date style, and then we just format it and that's it. So inside of here, I can import it at the top. So I can say import format date from lib utils. And now we can go here, where is our date? So we can just say format date, pose date, and it's going to use the default. So it's going to look absolutely amazing. And that basically it And you can also pass it other options and make it more flexible All right so let work on how we can show a single post And of course if I go here in the sidebar in source post the way how we do it of course we're going to slurp up this post to show post. And of course, we also want to read this and get the single post based on the slug. And of course, inside the routes, if you're here, you can just add those plus page.md. But imagine having to add each of those folders and files for each post. That would be really tedious. but thankfully SwellKit has dynamic routes so for example we can do something like this we can say slug which is going to be dynamic and then we can get first post md or whatever else you right and that's basically how that works so this is what we need to create so inside routes I'm going to say new file I'm going to say slug and then I'm going to do a slash and now we're going to need to specify page TS and I'm also going to create plus page so we can show the data. So let me just do it like this. I'm going to close the sidebar. I'm super excited to show you something cool right now. So let me just go here and I'm just going to use this snippet so I can use a load function and I'm going to take the params. So this is going to be whatever comes here. So let me just do a console log params. I'm going to open the terminal and we can also see this in the client, but really it's not important. So if we go here and you can just say something like banana and then let's see, as you can see here, it says slug banana. So basically that's how we get the params and now we can do this to import that file based on this slug. All right, but I'm going to show you how cool this actually is, what you're going to do here. And it might take a second to understand, but it's going to make a lot of sense. So what we can do, we can say const post, and now we're going to use a dynamic import we can say await import and now we can say let me use backticks we need to go two folders above and we can say post and now we can just do this params slug dot md that's it how beautiful is this and basically the reason we can import this as a module is because if you remember we specified in the config that svelte should read with also markdown files. And now we can also parse those markdown files with MD-SREX. But you're going to see another cool benefit of this. So let me just console.log.post. So let's see what do we get.

 If I go here and let me just, I'm just going to go to the first post. Right now, there's nothing here and there shouldn't be anything here. But you can see here we get the default. Again, you might be familiar with this from earlier. So if we say post default, this is going to give us the content of the file, right? So as you can see, render. Let me just refresh this. So you can see here is our render function and we also get the default. so we can use this render function and we can use cell special component cell component and render this as a component on the page which is going to make it really simple and as you can see it's not post default but we also have post metadata so you can see here is going to be the render function which is going to be the content inside the default right but we also have the metadata how beautiful is this friends we don't have to parse this using front matter or whatever this is just going to extract this for us so we get the title description date categories and the published boolean so how beautiful is this and basically all we need to do let me just remove this i can just say return and we can name this whatever you want we can say content remember this is the component that we can render and you're going to see how this works in a second You can say post default, and now we can return the metadata, post metadata. And also, let's be more responsible, so we have to wrap this in a try catch. So I'm just going to take this code, let me wrap it like this, and now I can say here, hey, catch the error, and now we can import fro error. So this is imported from cell kit, error. and now in case this fails we're going to say 404 let's use backticks could not find params slug so we're going to get this error which is beautiful so for example let's see if i go here and say something like banana you can see 404 could not find banana so let's go back here and now we can go to our page let me just close this i'm going to create this script tag again export led data so we get the data for the page let's use my sneaky little snippet okay so now let go to a pose that exists ah how beautiful is this friends look how simple this is this is so beautiful we get the meta title description date categories and published and we just now need to loop over it An interesting thing it didn include the component itself because probably JSONSRingify can't display it, which is fine. It exists, trust me. You're going to see it in a second. All right, all right. I'm going to stop teasing you. Okay. So first, let's get some SEO out of the way. So we can create Svelte head. We can use title. Actually, not this. Again, you can say title like this. and now let's import the config same as before. Import all. Yes, config from lib. Config, don't remember, dollar sign because it's aliased. And now we can say, actually we don't even need config, my bad. I jumped ahead of myself. Yeah, let's just do it like this. So for the title, this is going to be what we get from data meta title. How awesome is this? Again, if you don't have auto-completion, And it's because we really don't have types for this here. But you can also use types. And it's going to be fine. But let's just do this. And then let's just have some basic meta tags. You can say property OG type. And as a homework, you can also add meta tags for social images. You can add social images also. And yeah. So we're going to say article like this. And then let's just copy it over. So if you really don't know about this, you can just go to open graph, I think. just see open graph the open graph protocol and you can learn about these different things but honestly who has time to read for all of this nonsense you can just go to my blog or whatever blog you read just look at what they're using for the meta tags and just copy it over like everyone else does right easy okay so for this content we can just say content and we can say data meta title and basically these are just the bare minimum meta tags right so now let's create the article itself so I'm going to say article and now here I'm going to create a h group which is more esoteric so I can say h1 and I can say data meta title and now we're also going to have publish date published at again we're going to use format date and we're just going to pass it data meta date. Basically that's it. And now we're also going to show the tags. So let me just save everything. You can see first post published at And now I can go here So let just create tags So now we can create a niche block We can say data meta categories. And again, if you ever have problems with this, like you don't need to console log these values all the time. This is why this is one of my favorite snippets. So you can just do this. And now just look at these values here so you don't have to remember it. but usually you don't have to do this because you have auto-completion, but here we haven't specified the types because as you can see here is any, but you can also supply the types for that if you want on the backend, and it's going to show on the frontend. But yeah, that's why I really love this snippet. So I can go here and X category each, and I'm just going to use a span, and remember from before, we have those surface classes, so I'm going to say surface for, and I'm going to use the num HTML entity, and I'm going to say category. So let me save it so you can see here it is. We're going to add some styles, but also homework for you, if you're keen on doing it, what you can do instead of using a span, you can create a link here and you can use the category as a link. So for example, you can have something like this, categories, and then you can have this dynamic parameter category. So maybe as a homework assignment, assignment you can see if you can figure this one out which is going to be really fun but yeah let me just do this and now since we have the tags already now we need to post itself i know i know i'm such a tease so let's go here and you can create a div pros and basically we're going to need to style this pros because we don't really have control over the markup ourselves we're just going to spit out from markdown whatever it is so we're going to have to add some styles to the global styles. Alright, so let me show you something cool. So here is a svelte component like this and now it accepts this attribute and we can pass it data content because we're importing the Markiton file as a component, right? So now if I save this, ah, here is our post. How awesome is this, friends? Alright, so let's quickly add some styles. Let's go to a style. now we're going to style the article max inline size so we're going to use size content free 60 characters we going to say margin inline auto so it centered like this Then let add h1 text transform capitalize And then we can also do h1 plus p. See how lazy I am. I try to avoid classes as much as possible. So let's go margin top, var, size 2. And you can also flex your CSS selector knowledge, right? text 2 so now we can do this okay this looks a lot better so now we can also style the tags we can say display flex gap or size 3 say margin top size 7 which is going to be 2 ram so we're going to have some spacing and now for each tag oh this is starting to get really lazy how embarrassing is it no no it's awesome trust me so now we have to target each isle we're going to say padding var going to say size two and we're going to say size three so padding when you do it like this so it's really top bottom first one and the second option is left right and then we can also say border radius var and we can use radius round from open props let me save this and this already looks a lot better all right so this is the only markup we have control over inside our template but as you can see here if we inspect this we really don't have control over something like this let me just do it like this so you can see we need to make these styles global you can do it here for example you can say global h2 and etc but let's just press ctrl p we're going to open the css file let's just place it here and now we're going to scroll to the bottom and let's just add some styles so we can say pros and we can use the new selector is so we don't have to repeat ourselves and now we can say h2 h3 h4 h5 h6 now we can say margin top var is going to have a size of 8 so free ram then we can say margin bottom going to have size 3 Let me just save this, let me just close this so we can see what's going on. So we have some spacing for the titles and this is really a cool new selector if you weren't aware of it. And I think it works in every browser. Alright, so I'm going to target the piece selector, but basically I don't want

 So we can nest it is, and let me just copy over this tag so we don't have to type it. So is, where it's followed by a p tag, right? We can just say margin top bar size 7. Let me save this. Of course, you don't really have a lot of paragraphs, but you can just use a placeholder or whatever to test it out, and it works, trust me. and then we can say pros is and we can target unordered and ordered list we can say list style type which is really cool so we can give it an emoji and this is also accessible i believe so we can say padding left var size five and you can see we're going to use lists later so this is really something cool then we can say rows is unordered ordered list li we don't even have to be this specific since we're already using these selectors let's use it margin block size two actually yeah i think it's size two and we can say padding inline start. Again, a cool property so you don't really have to say padding left or whatever. And you can say size 2. So now this is also going to work great. It's going to push the list a little bit from the left. And now we need to style the pre-tag. So as you can see here, pros pre, if I say background red, you're going to see this is our pre-tag. So we're going to say max inline size and I'm only doing this because I need to override the open props value I'm going to say 200% because I want to take the entire width I'm going to say padding let's see size was 7 I think 3 was 1 RAM yeah so I can do it like this I want the border radius to be 8 pixels and I can save this and another thing I want you can see this tab size here is large so it's using four tabs I think but you can say tab size 2. Let me just remove the background. We can save this and everything looks great. Alright so that it If we go to the other post you can see here it showing the image the markdown is rendering properly and how simple was this and you learned a bunch of things In this part I going to show you how to do syntax highlighting So you can see here is our code block right now but it looks really sad right It has no styles and etc But MDSwags by default uses Prism, which is a really tried and tested syntax highlighter, and to get themes for it, it's simple as going to their repository, which is Prism Themes. So you can pick any of these themes here you can change the css values you just have to include this in your css and that's it you're done but i really want to do something more awesome i want to use a more modern syntax highlighter shiki which looks like this so let me just really show you what's the main difference well the main difference you can see how let me just inspect this this is how this works so prism basically goes over that markdown and tokenizes these strings right so you can target these strings and you can style it using css this is really tedious so you don't have really a lot of these tokens but something like shiki uses the same tokenizer as vs code which means that you can use actual vs code teams as you can see it uses text made grammar to tokenize string which is the same thing vs code uses so you can use any vs code team as you can see in this example they're using the nor team but you can actually just point it to a json file and everything is going to work great and this is really so much easier and looks better in my opinion than using prism all right so how do we get cheeky working and basically we need to create a custom syntax highlighter which might sound intimidating but it's a couple of lines of code and let me just go to the md-swex docs so if i search for the docs it should show up md-swex docs so let's see custom highlighter so as you can see here in their docs you just have to specify this function highlighter and then we can use Shiki inside and just pass it as an option to MD Swax and that's how simple that is. So let me show you how we can achieve that. We're going to go for the terminal first. I'm going to stop everything. I'm going to say pnpmi. I'm going to install Shiki. Let me just close these developer tools. Awesome. Let's run the development server again. And now inside the redditor control p start typing config and open the swellkit config. Awesome, so we just need to import Shiki from Shiki and now we can create our custom highlighter. So this is why I split things like this so it's really easier to understand what's going on since we have MD6 options here which are also typed So as you can see from all of the options we can also pass a highlight option And now we can pass it an object And this has a highlighter which is also going to be an async function. It's going to take the code, language. We're going to default this to text. And then let's just give it a body. And now this is just going to take a couple of lines of code. So for example, if we read the Shiki docs, they show you how to use the highlighter. so we can create a highlighter like this you can say await shiki get highlighter we have awesome completion right and now we can pass it a bunch of options but in this case i'm going to use a theme i use myself so this is a theme i use it's poi mandress so i can say poi mandress and that's basically it so this part is a bit trickier but i found the solution reading the issues on the md6github basically we need to create the html right like this and we can just use the highlighter you can say highlighter code to html so shiki is going to turn your html into something that looks like vs code right and we can also pass it the code and we pass it the language here and then we just need to return it so we can return the html but there's really a problem here and basically SvelteKit is going to freak out when it sees a symbol, actually a character like this and etc. So we really need to escape it somehow and thankfully MD Svelte provides us a function for that so we can wrap this by importing escape Svelte which is just going to get auto import for us from MD Svelte and now we need to wrap all of this like this and now we also have another problem we just want to render this inside the template so we can return this with backticks and basically just want to input this in the template right so remember how we have this useful feature html in swell so we can just show the content and we can also say html but we also need to give it backticks so we can escape this code because we're going to run into problems right and then just to escape it you just need to use the backslash like this and now you can save this and everything should work great you might need to restart the development server as you can see it already kicked in and how beautiful is this so this is literally the same theme you seeing me use here in the VS Code editor being used live in the markdown How mind is this friends And there a ton of options for Shiki You can figure out syntax highlighting and line highlighting. The unfortunate downside is that their docs, really, no way of sugarcoating, it sucks. So you have to go through their issues and figure this out if you want things like that. Or actually, sucks is an understatement. Their docs don't exist. Okay, maybe that's harsh, but Shiki is really amazing and you're going to be so much happy using this. But again, let me just show you Shiki GitHub. So if you go here, let me just zoom in. As you can see, here is their definition of docs. So it's a bit rough, right? Shiki explains how Shiki also works. So configuration and option. This is the same thing I done. Get the highlighter. You can specify the theme, languages. If you don't want to include every language or you want to include specific languages, let me just also go here. ah you can see awesome paths you can specify a theme so you can give it a path to the json awesome then languages convert code to html let's see what else even has locales yeah yeah actually you can just pop through this it's really not that intimidating i think there's also an option so you can load a light and dark theme if that's something that you want let me just see if i can quickly find it if not i'm going to move on but yeah basically and we're going to have some fun and read it. And yeah, basically that's it. You can see how simple it was to implement your own custom syntax highlighter in a couple of lines of code. And of course, Shiki isn't the only syntax highlighter out there. If you want any other syntax highlighter to use, you can apply what you learned here and implement that one. So there's also another awesome project, for example, Shiki 2 slash, which is completely insane. It also gives you TypeScript feedback in your editor and this is really a fancy page for Shiki 2 slash. Basically, this thing is Shiki and turns it up to 11. So you can see you get these tooltips in your code blocks. Is that something that you want? Sveltee documentation, for example, uses two slash. So you can see here you have this documentation. And let me just see. Now you can hover over it. You get the types and everything. So if that's something that you want, for the purposes of a simple blog, I really think this is overkill. But how beautiful is this? I think this is really awesome. All right. If your mind isn't already blown, I'm going to show you how you can use components inside Markdown. First I'm going to start by creating a counter component inside source post but you can place this wherever you want. I'm going to say counter.svelte. I'm going to create a new script tag.

 count actually zero so let's say cons increment which is a simple function we can say count plus equals one because in salt you need a reassignment to update the value so you can say button i'm going to show the count and for the on click let's say increment that's basically it so let's press ctrl p let's find the post and look what you can do now this is crazy So you can use a script here. And now inside of here, you can say import counter from counter Svelte. And now you can just use this. So let's create a counter section. Let's save it. And how beautiful is this? So now you have a regular Svelte component inside Markdown. But let me show you another awesome thing. And that is custom components. So for example, if I inspect this image, what if you wanted to lazy load images, iframes, or etc? If you're not aware, there's a loading attribute in HTML you can use and set it to lazy, so the asset is only going to load when it's in view, so you don't need intersection observer and etc. because it's baked into the browser. But as you notice the problem here, we really don't have control over this markdown, right? Or the generated HTML. But thanks to MD-SWACKS, we can pass it a component with the same name, and we can get the same props of the element we're trying to replace and we can do whatever we want with it. But to do that first we need to create a layout and to not be confused with plus layout.swell this is something entirely different basically this is what happens. So inside the layout here you have your markdown and this is just what happens so the layout you specify just wraps your markdown you can pass it whatever you want. As you can see here in the options you need to specify a layout so you can create a special layout for a blog article or use a default layout And this is really confusing how they're using layout.svelte. So I prefer to name mine MD-SWECKS. And you can do other things with this layout. But basically the only reason I use MD-SWECKS layout is to replace a component. So let me show you how that works. So I can press Ctrl-P. I'm going to open the SvelteKit config. And here since we have auto-completion, you press Ctrl-Spacebar. I can just start typing layout. And now inside of here we just want to use a default layout. I want to place this into source. instead of using layout.svelte you can name this whatever you want, banana, right? So I just going to name it mdswax just to be obvious and then in the sidebar just collapse everything inside of source I going to say new file mdswex And also for good measure I like to restart the development server because when you change the config, it often doesn't get picked up. So let me show you that. And this also similarly works to the Svelte layout because you can use a slot and now everything is going to get passed, as you can see. And now you can say hello, for example. this is going to wrap your entire markdown as you can see but we can use this to override these elements let me show you how we can do that i'm going to close the config we don't need it anymore you don't need the post anymore i'm going to close the counter so let me show you how we can create custom components so for this i'm going to go into source lib i'm going to create a new folder components i'm going to have another folder custom components and then i'm going to create a cell component that has to have the same name as the element you want to replace so i'm going to name it imageSwelt and I'm also going to create another file in custom which is going to be index TS and this is only going to serve to export the components because it might seem like overkill but later as you add more components it's going to be easier to import them I'm going to show you how let me just close this and now we can just add a script tag here so you get all of the same attributes as the element you're trying to replace so export let's source alt and we can just even let's just specify an empty string like this so it doesn't complain and now you can just override it however you want so you can just do this you can pass it source alt and now remember what we wanted i want to specify loading lazy so i can save this and now inside of this file i can just say import image from image.svelte and i can just export it as an object this is going to be really easier to import. Let me show you how. So now inside of MD-SWACS layout, we have to use script language, but we also have to specify context module. So we have to say context module, and now we can import the image from libComponentsCustom. This is basically doing index ts but since you don't have to include index ts this works great. So now you can see this is already going to be much easier so you can import whatever else you have in the future h2 h2 and etc instead of importing every component individually And now we can also have to do an export And now we can say image So now let me save this And now we might need to refresh the page. And let me just inspect. And again, if things aren't working, you might need to restart the development server because this thing gets confused easily. I found out just because when you change and mess with the config, weird things happen. all right so now that i restarted the development server and you can also go here and restart language server sometimes this also fixes it when you change the configs it's just how it is but once you get it working it's all right but look at this power that you now have so we have image source favicon also loading lazy how awesome is this and now you can modify any element you want and this is really powerful let's talk about how you can extend your markdown blog using markdown plugins. But first I need to briefly explain something that sounds spooky, which is abstract syntax tree, which sounds intimidating, but it's really not. So for example, let's say you have a HTML file or a markdown file, and I ask you that your job is to parse it and modify it. So what would your solution be? It would probably be something naive, right? Like using regex to parse it, but that's really inefficient and prone to errors. So at the end of the day, everything you see HTML markdown gets turned into this tree that you can reason about which is called the abstract syntax tree and then you have all these awesome libraries around it so you can what's referred to as walk the tree so you can just walk the tree yourself so you don't have to implement that and then you can say okay does this node exist here then I can do something based on that and etc and okay this might sound like complete nonsense but why would you care about this so first let me say if you're interested in learning about abstract syntax tree or writing plugins for Markdown. This is really a great post from CSS Tricks on how to modify nodes in an abstract syntax tree, which is really a great read if you're interested in that. But let me show you the ecosystem of Markdown plugins. And I'm going to refer to them as Markdown plugins, but they're more general HTML and Markdown plugins that transform it, right? They're really not called Markdown plugins, but for simplicity's sake. So you can see here is Remark. So Remark is a tool that transforms markdown with plugins. So basically you have some markdown and then you can transform it however you want. And then on the other side, you have Rehype, which is the same thing, but it transforms HTML with plugins. And then you can look at this repository So you have a bunch of Remark plugins so you can add titles and etc You also have a Rehype plugin so this is going to modify the HTML but I going to show you what we going to use. So we're going to use something like Remark unwrap images because let's say that you have this problem. What annoys me about images in Markdown is they're often surrounded by this p tag which is really annoying and can cause problems with styling right but really didn't even fix this by using a custom component it still wraps it so we can use our remark plugin to remove this p tag from the markdown right and everything is going to be great and then for example let's say that we want to link this tags here so for example here is a h2 swell but what if we want to add an id here that says id equals swell and why would you do that well you can then simply link to that so you can say something like pound sign swell then it's going to link to that section of your site which is really awesome but we can do that because first we have no ID right so we can use another awesome plugin which is going to be Rehype Slug and it's going to add what's called a slug to these titles and why is this also awesome because we're going to use a third plugin Remark Table of Contents so it's going to slurp up all of the headings in your Markdown and it's going to create a table of contents for you and how awesome is that and also I want to show you that these things aren't really that intimidating basically what a Markdown plugin is at the end of the day just a simple function. It's packaged like this, so you can consume it, but basically you can create in your own project just a simple function, and you can include it as a Remark or a Rehype plugin. So let me just show you, if you go to index.js, you might be thinking this is something super complicated, and yeah, there's some intimidating parts about this code, but you can see Remark unwrap images, this is it, this is the code. Here is a walker, it just walks this tree, right? And then it says, okay, if I find this type of node and do that or whatever else, it's really not important and anyone can do it as i can show you here here is a plugin i made a while ago this was two years ago so basically if you remember how popular was that image placeholders with gatsby i wanted the same thing but i was using an hjs at the time i think so i made a mardon plugin for rehype that gets the image size turns it into base 64 so it acts as a placeholder so you get this awesome effect before the image is loaded with the lower resolution so i'm actually I'm actually not sure if this works today, but again, really simple. If you go here, it's just a function, right? And it just goes through the tree, walks the tree, right? And then look at this, no tag image. If it's image, then we're going to do something with that image.

 isn't important what's here. You can learn this. Again, you can read this post and you're going to be enlightened. And abstract syntax trees are really cool and powerful. All right, but enough talk. Let me actually show you how we can use this thing. So I'm going to open the terminal. I'm going to press control C and I hope all this talk didn't intimidate you because just to use the plugins, it's really simple. So we just need to first install them. So we can say remark unwrap imagers, Remark TOC table of contents and Rehive slug. We're just going to install them and then we're going to import them inside the config and pass it on to MD-SWACKS. And this is why MD-SWACKS is awesome because it makes it easy to do so. All right, so let's run the development server again. I'm going to close the terminal, control P. I'm going to open the config. So here in this section, I'm just going to say import Remark Unwrap Images. from Remark unwrap images. Then I'm going to import Remark table of contents from Remark table of contents and then Rehype slug. Awesome! And now again, MD6 makes this really easy. So after the highlight, we can see if you press control spacebar, what options do we have? Oh, Rehype plugins and Remark plugins. Awesome! So let's first start with Remark plugins and then we can just pass it an array. And just pass the plugin. Remark unwrap images. I'm going to pass in Remark table of contents. Actually, we need a period. Awesome. And now we can say Rehype plugins. Rehype slug. That's it. All of this talk for 20 seconds of work, right? All right, so let's see if this works. Awesome. Now we have slugs for the titles. And what else did we add? Table of contents is going to show you that. so it unwrapped the image let me go inspect the image ah now no longer it isn't surrounded by that annoying p tag yeah let me show you how simple it is to add a table of contents so right now we have svelte and counter as headings so this is going to create a table of contents for us so let me press ctrl p so this is the second post right and all you have to do you have to go wherever you want actually and you can just say table of contents and it's going to generate it based on that It works like magic, right? Look how awesome it is. So now because we used an ID and a table of contents now when someone visits your site or you want to link to a specific section you can just say counter for example and now you can just copy this link over and paste it to someone. Another thing worth mentioning is that when you're using such plugins, you should read their docs because they have some extra options. So for example, if I inspect this here, it has also something annoying by default. Some LIs are surrounded by P tags, I think. It's not in this case but actually you're going to see that in which case you can just go here and this is going to also show you how to pass options for a plugin so for the plugin you're using turn it into an array and then you can add a configuration object and because i've read the documentation like everyone does right there's a config option which is right actually not right it's tight but yeah tight true and then you can save this and again refresh and everything is going to work so now again if we go here everything looks great this is how simple it is to use markdown plugins to extend your blog all right friends so adding a theme toggle is going to be a breeze because we set ourselves up for success if you remember at the start in our global styles we specify these variables so it already respects the user's preference based on the media query but we also included something like this which is color scheme dark so if i go here and on the html i can just add color scheme light for example and this will change the theme which is awesome so now we just need to use javascript to toggle it and this is going to be really simple the first thing i'm going to do i'm going to press ctrl p open app html and first i'm going to get the theme here which is going to prevent flashing because flashing happens because you're loading your component the site loads but the component still hasn't loaded so it defaults to some value for example you have it set to dark theme, but maybe the default is light. So it's going to be light by default because it still doesn't know the preference. And when the component mounts, it's going to check the local storage, right? And at that point, it's too late. And that's what causes that flashing. So I'm going to do it here instead because this runs before anything else. And to be honest, maybe a better approach than using local storage would be using a cookie. But in this case, if you're building a static site or you're going to maybe use a static adapter later, you really can't use cookies without a server, right? So, this is going to be the easiest method for us. So we can say script we can say type module and really nothing intimidating We can say const theme We can check local storage Local storage get item I going to have a key that named color scheme All right, so now we can say, hey, if team exists, then we can say document, document element. So this targets the head of the document. And then we can set the attribute. We can say color scheme. and you can set it to the theme that we received. Otherwise, if the user doesn't have any preference, we can set the default to be the dark mode. So you can set item, color scheme, and we can say dark, save it, and everything works great. So now if I open the developer tools, let's go to application. So now you can see local storage, color scheme, dark. So you can clear it. Again, it's going to appear. and you can improve this by also listening using javascript to the preferred color scheme and you can set an event listener when that changes to update everything else so that's a challenge for you if you want to take it so next i'm going to make a simple swell store that's going to export the active theme so you can subscribe to it anywhere and get notified if it changes and then we're also going to include a toggle theme and even a way to set your theme in case you ever want use it. So it's really simple. Let me just close all of this and now inside source lib I'm going to create theme ts. You're also going to see that people love to put their stores in a folder named stores but I'm just going to do it this way and let me just show you how simple this is. So first I'm going to add a type theme which can only be light or dark right and now we're going to use a store so we can say const user theme we're going to need to import writable from sale to just an object and this is a way where we can subscribe to it so actually let me set this to theme and this is going to be writable and now we can create this variable const user theme so again we need to check the local storage but because we set it before this component is mounted it's not going to cause flashing so we also need to import another thing a browser so we know that we're in the browser context because your components run on the server and client, which is going to cause an error. And let's just do that. So we need to check if it the browser in which case we can do local storage get item and remember I named it color scheme So now in our store we can can pass userTheme and if it doesn exist we can just default to dark And also let me space this out so it's more clear, and you can see how simple this is. So now we can also export function toggleTheme, and we're also going to export a function, which is going to be setTheme, which we're not going to use, but you can use it if you want, and I'm going to show you. So let's also export this. So this is our store. So let's toggle the theme and it's really simple. So you might be familiar with stores and using the syntactic sugar dollar sign, but that only works inside the swell component. So basically you have to use the methods on the store yourself like this. So you can say team update and now you can get the current theme, which is a callback, right? And now basically we just want to flip the theme. So we can say const new theme equals and then we can say hey if the current theme is dark then the theme should be light otherwise flip it back to dark. And again what we want to do we want to update the head with that attribute. So you can say document document element set attribute color scheme and we can pass it the new theme. And then we also want to update local storage. Local storage set item color scheme. We're going to set it to the new theme. And always with a store you have to return the value. so we have to say return new theme and that's it it's really nothing complicated right this is how simple stores are and for this one if you ever need to set theme so you can for example in part of your app you can say set theme dark like this and it's going to update the store so if we ever need this it's simple as saying theme set we can pass the new theme which is going to be here new theme and we also made a type theme, which is really awesome. All right. And that's how simple Svelte stores are. Of course, you can also, again, as I said, you can use JavaScript and you can listen for the event or the user preference, what color scheme they prefer. And then you can even add an event listener so you can watch if the preference changes, right? So if you ever want to challenge and want to implement yourself, you can...

 do something like const preference window match media and then you can say prefers color scheme dark or something and then you can get it by saying matches so this is going to return a boolean and then if you ever want to listen to it you can say preference add event listener change and then you get the callback and this is how you can implement it so you can also account for that but basically just to save on time i'm going to do it like this so now i'm also going to create a toggle component so let me just close this inside source routes i'm going to create a new file toggle svelte let me close this sidebar i'm going to create a script tag so let's just import some transitions we can say fly from svelte transition let's import some icons I'm going to use the moon and sun from Lucid Swell. And I'm going to import the theme and toggle theme from our store. And that's basically it. So now we can create a button. And on click, we're going to update the value in the store. So we're going to say toggle theme. And we also need to give it an ARIA label so it's more accessible. toggle theme, and then let's make a check. So now, remember that syntactic sugar magic. We need to subscribe and unsubscribe to the store, and this is how we do it in a cell component, and actually, here is an error, from, awesome. And now we need to check what the theme is, okay? So if the theme is dark, then we're going to create a div like this, and let's just give it an animation, it's going to be in fly, y10, we're going to use sun and let's see it also has a span which is going to be light so this is also going to be an else block like this so you can say else let me just copy over this code and let me just see fly so this is also going to be y but we're going to be negative so we're going to create a cool effect we're going to see what it looks like so we can say moon And then we're going to name it dark. Let's save everything. And let also give it some styles which is really simple We just need to overwrite some default styles So we going to say padding 0 font weight inherit You can also set appearance none, but that creates more work than it's worth to be honest. Border none. Box shadow. And we want to set overflow hidden because of the animation I'm going to show you. If you set a high amount of Y, you need this overflow. And then again, I'm going to be lazy, classic. I'm going to target every child. Let's say flex gap size 2. Let's save this. And of course, now we need to import our component inside the header. So let's press Ctrl P, start typing header. So remember how we had this toggle placeholder right here. So let's see if it's going to auto import it. We should just start typing toggle and it's going to know to auto import it. If we look at the top, it imported the toggle from right here. All right, so let's see the moment of truth. If I save this, and also sometimes because when you load these things and change files all of a sudden without changing, you might run into some issues. So again, restart the development server, and it's going to fix itself. As you can see, it took a second, but here we are. So now look at this. So this is our cool animation. It's going to change the theme. How beautiful it is. So this is that animation. You can see it comes from the top, and then it comes from the bottom. You can see the value is updated, but let's test it if it persists, right? And there shouldn't be any flashing because we set it in app.html. How beautiful is this? So you can see everything works. Let's add some simple page transitions which are going to give your site an air of whimsy and sophistication. I have an entire video on Selkid page transitions, so I'm going to go through it quickly. But basically, we need to know when the URL changes, and then we can use the key block to destroy the elements and then create them again, which is going to play the transition. So the easiest way to do that, we can go to source, routes, and then we can create a layout TS file. So now we can use a load function again. And now we're going to get the URL from here. And then we can return a prop URL. but we're going to look when the URL path name changes so that's how we're going to know the transition is in play and then again here in routes I'm just going to create a new component transition svelte and I going to give it a script tag I going to say import fade from svelte transition and you going to take the url as a prop it going to be a string like this and now we can use the keygen the key block actually I'm curious why it doesn't complete probably because it's mad about this yeah so we can do it like this then we're going to pass the URL and let's just create a transition and then we can say class transition and we need this class because now since we're wrapping everything we need to give it a 100% height and then we can just say in fade and by the way if you're going to use out just make sure to give it a delay the same amount of duration as you're in transition but you can learn more about the video I mentioned and then we're going to pass it a slot so anything else and then for the styles I'm going to quickly say transition height 100% and now press ctrl p go to your layout and now inside of here we can say page we can say transition and it's going to know to import it so it's going to work like this so we can put it here but I also like to be more descriptive so I can say page transition and then let's put the slot inside so now we need the data prop So you can say, export data. So this is going to come from the layout.ts endpoint, right? So now we can pass this as the URL. You can say data URL. Let's save it. And also don't forget, since I named it page transition, I should also name it page transition here. So now if we go here, now we should get the page transitions working. So I can go to the first post. As you can see, now it looks beautiful and elegant. another thing i want to mention is in transition you can also use import navigating from the store so it's like app stores yeah it's like this and you can pass navigating instead of doing this with the layout but careful this comes with a downside it's going to work when your page is fast but if someone is using a slower connection and they for example go to the second post and they try to navigate to your main if this page doesn't load instantly the transition for this page is going to play again because you triggered the navigating event from the store but the site you want to go to isn ready to be navigated to this is going to cause issues to the user because it going to look like if they clicked on here that this page has reloaded again which is not true because if they wait a second it's just going to go to the main page. So this is really a downfall of using navigating. And I never trust Svelte stores for navigation because of this reason. And this is why using a layout to pass the URL is a safer method. But yeah, that's it. And that's how really simple it is to implement page transitions in SvelteKit. In this section I'm going to show you how to create an RSS feed. You might not use an RSS feed yourself, but a lot of people do and they prefer to get notified about updates using their RSS reader. And creating an RSS feed in SwellKit is simple as creating a standalone API endpoint that returns XML. And this goes back to what I said at the start about the difference between a standalone endpoint and a page endpoint. Basically a page endpoint can just return some JSON for the page and it's just the page data, right? but using a standalone endpoint you can return whatever you want it can be text json xml and etc it's basically if you ever used express and created an endpoint inside of that that's what a standalone endpoint is so here's how you do it i'm going to open the sidebar inside source routes i'm going to create a new file i'm going to name this rss.xml so when you go to the path in the browser we have to type rss.xml which is really optional and also when you created the post endpoint you could have also named that folder post.json then you would have to type post.json in your browser but that's really up to you so now we can say slash and then we create the endpoint server ts and now to disappoint you i'm just going to copy the code over because there really isn't a lot to learn from here so i'm just going to go to the post the rss section i'm going to copy the post and i'm going to save it let's just go over it so you can see what we're doing so here importing config the types from the post type. And here I have a regular get function I'm exporting. We're getting the post from our endpoint. And then we specify the header. So content type is application XML. And you can see I'm just constructing here an XML string. This is the minimal markup required for the XML. This is why I didn't want to type all of this out because it's really pointless, right? And also how I check this, when you deploy your site, you can use the feed validation service and you can give it a path to your RSS. So as you can see here, you have this channel title description link and here we're just using the config title description URL and basically that's it. And now we're taking the posts that we got here and then we're looping over them. So we need an item.

 And each one is going to have title, description, link, guide, which I don't even know what it is. To be honest, I just looked up what you need for an RSS reader and here it is. And then you need the published date. And here's how you find out what you need to do. Because first I did the naive thing. I just said new date, post date. And then the RSS earlier was like, wrong. We want this type of thing. And I was like, okay, how do I get this sort of date? And then I learned from MDN that you can use to UTC string to give it what it wants, right? And basically that's it. And then I'm also using trim at the end because I made a new line here, which would cause a parsing error in the XML, right? And then it's simple as returning new response XML headers. All right. So now that we have this, if we go here and remember how we had this post here, so it's going to open it in a new tab and you can see it works. So you can see a beautiful RSS feed you can use. But yeah, I hope this section wasn't disappointing because we will just spend a lot of time typing for no actual benefit or to learn something new, right? But yeah, that's basically how simple it is to make an RSS feed. And you can also make a sitemap if you want to look into that. Another thing you can do for RSS feed discoverability. So for example, let's say someone has an RSS feed. They would have to take this literal link and copy it in their reader. But what most people do is they take your site URL and copy it into their reader. But if you don't have this particular tag, it won't work. So let me show you what you need to do. so inside app.html you can go to head and you can add another link so you can say link rel alternate and then you can say type application which is atom plus xml and you can give it a link to your rss feed which is going to be slash rss xml then we can close this and not sure what happened but you can just refresh here and basically now when someone copies over your link in the RSS feeder is going to work. And you're going to get your feed and they can enjoy your content. Alright friends, that's basically it. But before we deploy the project, let's first add an error page so we get a more custom error. So for example, if I go to banana, that doesn't exist. This looks fine, but we can do better. So we can go to the project source routes and we can create new file plus error.svelte. So now we can override the default template. As you can see, nothing is shown. And you can also add this plus error.svelte page for every route. But because we don't have a lot of nesting, it's almost pointless. So let me just add a script tag Now we can import the page store from app stores And now we can just get the values Just create a div error H1. So we're going to subscribe to the page store. We're going to say status. And we're also going to say page error, which will not exist. So let's do it like this. And not stats, but status. And let's go to the style. We can say error. and then let's say height 100% we can say display grid and I want to center it so I can say place content center let's save this and we can see this already looks a lot better all right friends our site looks great but before we deploy it let's do a couple of things first I'm going to create an about and contact routes because we didn't do that yet just for completion so we can go a new file, we can say about, so we can say plus page svelte, and we can say about I like long walks on the beach, because why not? So let's save this, and now let's just copy over this folder inside routes, say paste, so now we can say contact, let's open the contact page, we can change this title to contact, and we can say new phone hood is. Awesome. So now when we transition to the size, they work. All right. So now let's close everything. And now we want to pre-render all of this content. So basically we just want to make this static. And this is really simple. If we press control P and start typing layout. So if we open our root layout endpoint inside of here, we can say export const pre-render true. And when SwellKit sees this, it's going to crawl all the links on your site and it's going to pre-render the pages at build time, so when you run pnpm run build or vid build whatever, instead of assaying the server each time to create the page, it's going to serve the static files instead. And we also have to do this for the RSS endpoint, so we can go here, export const pre-render true. We can save this. and I'm also going to show you how that works we're going to understand what pre-rendering is but first we need to go to the terminal stop whatever you're doing and then we're going to first remove the default adapter you can use adapter auto inverse cell is going to detect it but they recommend you install their adapter which fine who am I to question Vercel So now I can say pnpm id Swell adapter so just make sure you say adapter Vercel which should take a second, and now press ctrl p, go to your SwellKit config, and you just need to replace adapter auto with Vercel, and that's basically it, so now we can close this, and now inside of here, which I recommend you do before you deploy to catch any silly mistakes like typos and etc. I recommend you do pnpm run build and then you can also say npmpm run preview so you can preview your page. So first it's going to run the build and then the preview so you can check if everything is working fine. So I'll give it a second. Alright so now instead of 5173 it's 4 and you should see everything looks the same. Okay beautiful. Our posts work. Let's see. Okay everything looks great. So let me show you what happens when you pre-render and basically it's nothing intimidating so another thing is it creates this dot per cell folder which you should add to your git ignore so you can go here and add this this should be by default i guess since you can use any adapter it doesn't make sense but here are your functions so you can have serverless functions here but let me just show you the output static so as you can see here is the app the api that we created post which we can also pre-render so when you use pre-rendering it's going to crawl your entire site for links, right? So you can see if you go to the about, this is just a normal static site, right? Then you have contact, first post. So now we just computed all of the data. You got the data for the page in advance. And now that's what you're going to see when you load the page, right? So this is why it's blazingly fast once you upload it. You can see we already pre-rendered our RSS and everything works great. So basically that's what pre-rendering is. It's nothing spooky. It just gets the data ahead of time and it does it at build time instead of request time when you go to your post. So, let me just collapse everything and now we just need to create a new repository on GitHub. Here I am on my legendary Smurf account. So I can name this SwellKit blog. A blog for Markdown Poets. So we can just create this, make it public, create repository. And now inside the terminal, I'm going to use the terminal but you can use your GUI or or whatever else, let me just collapse this. So you can say git init to initialize an empty repository, you can say git add dot to stage all of the changes and then you can say git commit m we can say add project so now you have all of these instructions here and you can just copy over this part say copy, you can run all of these commands in the terminal at once if you want, so you can copy it over, paste, and now this should be pushed to your repository, so you can see here it is, how beautiful is this, you can also update everything here, and let me show with how simple this is using Vercel. So now we can go to the Vercel dashboard, add new project, and now give it a second to all. Since we already have one project, you can just import the SvelteKit blog. You don't really have to change anything here, because Vercel has great integration with SvelteKit. You can place your environment variables here if you need that, but let's just press deploy and it's going to take a minute. Also, don't be afraid during build to look at this outward, because this is basically the same thing you see in your terminal, but it's run on someone else's machine, right? this is all that is and you might have made a silly mistake or typo so don't freak out just read the error message you can see here is a lot of junk that really isn't even important but if you see here something like error and it's red just stay calm and read it and you're going to figure it out but there should be no problem just give it a second to be done all right so it's working its magic the first time is going to be slower but subsequent runs going to be much faster then you're going to get greeted by a congratulatory screen so congratulations if you made it this far and you can go to your dashboard and Vercel is going to give you a unique URL, silky blog sigma like this, and now you can open it and congrats. Now you have your blog hosted online. Okay, look at this. How beautiful is this? Everything works as expected. Let's see about. You have our transitions. You can go to the RSS. That works. Let's see if our theme works. How beautiful is this, friends? And let me also show you something else. You can go to the deployments here. and now each time when you add a post this is going to trigger Vercel and it's going to redeploy and bust the old cache so you're going to get the new post and it's going to take you see it didn't even take long like under a minute like this is super impressive and you can even enable some basic analytics here but this really isn't important what I wanted to show though if you go here deployment so if you have any errors from your serverless functions or whatever you can go to the logs here and you can see if something goes wrong here for example here's complaining about the favicon not being present, so you can probably add a favicon.ico in your static folder, but I honestly don't bother with that. And also let me show you something cool. So if you go here to your project, if you don't like the name Vercel gave you, you can also use a custom domain

 main here if you have that but this is already a great looking url but you can edit it and if it ends with dot for sale app you can place anything here that you want you can get a nice unique looking url basically that's it all right friends i hope you learned a lot and don't forget to like and subscribe you can find my patreon if you want to support me join the discord and all the links to what i use is in the description including the post so thank you for watching and catch you in the next one peace Thank you.