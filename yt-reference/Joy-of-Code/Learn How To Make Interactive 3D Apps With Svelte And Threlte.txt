 Hey friends, today I'm going to show you how we can create interactive 3D experiences for the web using Frel. So if you don't know, Frel recently released their 8th version, so it's been around for a while, but what is actually Frel? Well, Frel is a 3D framework for the web built on top of Svelte and FreeJS. So today I'm going to show you how we can get started with Frel. I'm going to show you how you can convert FreeJS concepts to Frel and etc, because I think that's the most important part. And if you aren't aware, FreeJS is a popular JavaScript library for building 3D on the web. So you can build anything from cool interactions to games. So let me show you an example of FreeJS. So this is a basic FreeJS example using Svelte. So here we're just using a Svelte action, useScene. We're importing the namespace free from FreeJS. So we're creating just a scene here and a camera, a sphere, and then we're using the renderer to output it to the canvas. Basically, it's really not that intimidating as you can see, but let's look at the equivalent FreeJS code. So we're taking this imperative JavaScript code, where you have to define line by line what it has to do, so we're using Svelte to make it more declarative. And here is the same example using Svelte. You can already see how much cleaner it looks. And don't worry, we're going to cover everything step by step, but if you're newer to Svelte or FreeJS, I highly encourage you to go through the Svelte tutorial and read the FreeJS fundamentals. So you can learn a lot here from how the renderer works to how the camera works and etc. So you can see this is a really great resource and it's really not that long to read. Or of course, you can watch a video or anything else on that subject. All of the resources that I mentioned in this video are going to be linked in the description. Let's go through some frailt basics. In this example, I have an app.svelte component, so the first thing I'm going to do is import canvas from at frailt slash core. The canvas component is the root of your frailt app. It creates a renderer and sets up some sensible defaults like ND aliasing and color management and gives you a default camera. The next thing I'm going to do is import a scene from scene.svelte. And this is mostly because frailt uses Svelte's context API, so it sets the context in the canvas component and then it needs to access it inside of children components. And this is something that always gets me, so don't forget to also add a div wrapper around it and you can set the height and width to 100% if you want, otherwise you're not going to see anything. The canvas is going to take the entire width and height of the parent. All right, but this is boring. so let's actually add something to our scene. First, I'm going to import T from addFrelt slash core. And as you can see, here we're adding a mesh and a sphere geometry, which we can pass some arcs to, and this is the equivalent of passing arguments to a constructor, because under the hood, this is just a FreeJS class. So here we're passing 2 as the radius, and 32 as the width and height segments. Next, we're going to add a simple mesh using the standard material, which requires a light source, and that is why everything is black and we don't see anything. So let there be light. And as you can see, we're adding a simple directional light and resetting the X, Y, and Z position. I've also increased the intensity to 2 so it's brighter and I'm going to say cache shadow so we're going to see the shadow on our sphere. And as you can see, this looks a bit rough but we can actually do a simple trick and that is add an ambient light. And this basically lights everything evenly in your scene. It's basically like cheap global illumination. Next I'm going to add the plane but as you can see we can't actually see it because it's looking directly at us. And I'm just rotating it 90 degrees using math pi divided by 2 with some arguments for the width and height, with a basic standard material. Alright, so let's add a camera. And we can add a new perspective camera, we have to say make default so it uses this camera instead. And then we can set a position and we can even pass a non-create prop, we get a reference to the actual mesh so we can say, hey, wherever you are in this space, look at this mesh at coordinates 0, 0, 0. Let's look at how we can add some interactivity. We can import the interactivity plugin from atFrailt.extras. And then we can use Spring from Swell to animate this value over time, and Spring is basically just a signal under the hood. And on the mesh we can set the scale to the signal value so we have to say scale and we can use this event listeners on pointer enter and on pointer leave so we can set the scale to 0 when the pointer enters the sphere and we can set it back to 1 when the pointer leaves the sphere and we can also rotate the sphere we can just set rotation and then we can use this use task hook so we can use this to run the code on every frame so we get back the delta which is the change between every frame and then we can just multiply it by 0.5 to slow it down and then we can just apply rotation.y on the mesh and that is basically it now we can use animations in frilt let me show you how we can translate freejs examples to frilt and this is very important because most of the time you're going to be looking at freejs examples so let's take for example this sphere geometry from their docs and this example isn't even complete because it lacks this wireframe but as we can see here they're creating this geometry material and the sphere mesh at the end and then they're adding it to the scene you see if you read these dogs they have all these arguments you can pass here and of course if you have type script in your editor then you probably don't even need this but as you can see this extends all the classes such as buffer geometry and if you go to buffer geometry you can even see more arguments that we can pass to it and that is basically how you read freejs docs so let's look at an example in this example i have a simple camera a sphere geometry and the wireframe geometry that was absent from the free js example so let's convert this same example to frill so the first thing i'm going to do is import canvas from at frill slash core so let's add the camera first as you can see the camera comes from the free namespace so you can just say t dot perspective camera and we have to say make default because feral provides a default camera so you can see we can just easily convert all of these props, including field of view and the position.z. Next, let's add the sphere geometry. So we can see that 3.mesh accepts a geometry and material, so we know that it's nested, and that is why t.sphere geometry and t.mesh basic material are nested inside of t.mesh. And we can also include rotation.x. The only thing left to do is add the wireframe. And if we look at the FreeJS code, the wireframe is a children of mesh, so we can also just include it as a child of mesh. And to pass the geometry and the material from the mesh to the wireframe arguments, we can use bind.ref. And as you can see, we get the same result. But there's even a simpler method, and that is using the children snippet. Snippets in Svelte are just random functions, so we can use this children snippet and get a reference to the mesh. And then we can pass the geometry and the material from the mesh to the wireframe. And as a bonus, if you want to make this example look the same as the FreeJS example, we have to pass in no tone mapping from Free, because there are some slight differences between FreeJS and Frelth. But of course, that is completely optional. The Frelth docs do a great job of explaining things in more detail. So for example, we learned that we can use this dot notation when it comes to T, so we can say T.mesh, for example, but we can also pass this isprop. And this isprop is very interesting because we can just pass a class instance from FreeJS itself, for example. So you can see we can import Mesh, BoxGeometry, and MeshBasicMaterial from FreeJS, and we can just pass it to T as this isprop. And this might not look useful, but it's very useful in this example where we have like this OrbitControls, which we import from free examples, so this isn't something that's available on the free namespace. In this case, we can just pass this class to the isprop. And another interesting thing when it comes to props is the type of props that you can pass. So for example, we learned that we can pass this position prop. So this is an array of a vector free type. So we're passing x, y, and z to this mesh. But we've also seen that we can do something like this. So we can say position.y equals 1. And this is called a pierced prop. And this exists for two reasons. The first reason is to match the FreeJS API more exactly. And the second one is that this makes it easier on frel because you're passing a primitive value such as a number so it's easy for frail to compare under the hood if the value has changed The only downside of this approach is that it doesn have great type completion And using a pierced prop is recommended by Frailt but of course which type of prop you use is completely up to you Let talk about Frailt Extras So what is Frailt Extras Basically at Frailt Extras is a package by Frailt which provides useful utilities, abstractions, and plugins for your Frailt application. So you can just install it as any other package, and then you can get a bunch of cool things. So for example, here they have this gltf package, where you can just import models using a url so they're importing this helmet just using this component in here so if you go to scene for example here we can see this is this gltf component here they're just passing this url and you have a bunch of cool things here like working with html in your scene and you have text 3d geometry so this looks really cool but let's actually talk about interaction to make your life easier when you're working with 3d in felt so for example here we have this gizmo So as you can see, we can navigate more easily, including these orbit controls. So this makes your life a lot easier. As you can see, I can move freely in the scene, like I'm using something like Blender, for example. And I can just have a nicer time. So let's look at an example. Here we have a simple scene with a camera and a sphere. So first, let's add orbit controls to make navigating around the scene easier. So we can import orbit controls from at-threlt-slash-extras. and then we can pass auto rotate and enable damping props. So this is going to rotate the camera around the scene for us and since we have damping, it's going to make this navigation smoother for us. Alright, that's already cool, but we can make it even cooler by importing transform controls. So now we can wrap transform controls around our mesh. As you can notice, we need to move the position Y to transform controls. And now we can manipulate this however we want in our scene. How beautiful is this friends? Having to tweak values by hand is annoying and doesn't exactly let you be creative. So I'm going to show you how you can use this package Swell TweakPane UI to create a GUI where you can change those values. And in this simple example, I have some lights and the sphere. The first thing we're going to do is create values that we're going to control. So we're going to create a light, ambient, and sphere signal. And now we can use these values for the position, intensity, and the color. Next, we're going to import color, folder, pane, and the slider from Swell TweakPane UI. And the last thing we have to do is construct the GUI. So we can create a pane with a title, and then we can organize things into folders. And then we can bind our values. And now the changes in the GUI are going to be reflected in our scene. So we can go here and play around, and this is a lot easier than having to input these values by hand. As you can see, we can do something really nice. we can maybe make this bluish or something actually you know what let me actually make this super red and let's actually mimic like atmosphere or something so you can make it a bit more bluish and now it kind of looks like mars and this is so much nicer than having to tweak values by hand and gives you more artistic freedom and of course you can learn more what you can do with swell tweak pain ui by reading their docs let me show you how you can load light and play animations from 3D models. And if you're looking for free 3D models, there's a bunch of cool resources. One of them is Sketchfab, which is a really cool site. Just make sure that you check downloadable and then you're going to see an icon if the model is available for free. Another cool resource is Mixamo if you're looking for animated 3D characters, and these are really high quality. To show you how to load assets in Frelth, I'm going to use this FreeJS example. If you want to follow along, you can find the link in the description. The most common format you're going to find for 3D models on the web is probably going to be gltf or glb. And you can use gltf files which is basically just a JSON and you can use the binary glb format. But of course, there are other formats and FreeJS has a bunch of loaders that you can use to import them. And not only 3D models but audio and etc And of course frailt makes this super easy Let start with an empty canvas in app and then in scene we can import t from at frelt slash core and then to load the model we can use the usegltf hook from frelt from at frelt slash extras and in a normal case scenario you will just be able to load the model if you use the await block in svelte since it returns a promise and then you can say then and we can destructure the scene and pass it to the is prop if you remember that from before so this is just a class instance that you can pass but in this case depending on the model that you're using you might get this error no draco loader instance provided and this is probably because the model that we're using uses this draco compression and this is actually really simple to fix we can just use use draco from frealth so you can import use draco and you can see everything works kind of we we don't actually see anything because there is no light source. Alright, so let's add some lights, but I'm not going to use a normal light because all of the materials and shadows are already baked, so it would just look ugly. Instead of that, we have a couple of options. We can use the environment component from Frelth and then pass a HDR to light our scene, but I'm actually going to opt for a skybox from Frelth. So in app.svelth, I'm going to import the sky component. And as you can see, we can see our model, but we're too close to it. So going back to scene.svelte, we can change the position and the scale of the model. And now we can see it. And now let's add a camera with orbit controls. So now we can actually rotate around our model. And that is how simple that is. So you can see we can orbit normally. So next, let's see how we can add animations. And for that, I'm going to actually show you the output of this GLTF model. So you can see we get this object. and we can see we have a bunch of interesting things on it, including the scene and etc. But the important thing is these animations. So we can actually see all of the animations here. And here is this animation that is named Take001. Knowing that, we know what animation to play. So we can use another hook from Frelth called UseGLTFAnimations. And now we can destructure actions from UseGLTFAnimations and we can just pass it the GLTF model. And then we can use an effect in Svelte to subscribe to actions, access the animation and then when it's ready we can press play and that's basically it but of course you don't have to use an effect you can create functions that have play reset stop whatever you want you can export them and then you can bind the component and use them elsewhere and that's it now we have a beautiful scene in 3d using frelt how beautiful is this friends frelt recognizes that the glt workflow on the web is not ideal as you can see we run into some weird issues but thankfully frelt provides this useful cli utility that you can use and create everything that you need so for example you can just say npx at frelt slash gltf at latest you can pass in your model and the transfer flag and is going to generate this component for you with everything that you need. And that is how easy that is. And you can learn more in the Frail docs. All right, friends, and those are the basics. But to be honest with you, we barely scratched the surface. So for example, if you want 3D physics, you can use something like Rapier. Then you also have things like Theater. So this is a JavaScript animation library with a professional motion design tool set. So Frail has bindings for that also. So you can check it out if you want. You can see how crazy this is. So you have this entire GUI. It makes it really easy to work with animations in 3D. But you also have some other things. If you're interested maybe in augmented and virtual reality, you can check out XR. And then you also have layouts here. So you can use Flexbox if you need in 3D. And you have other things such as Studio. So you can turn Frelth into Blender. You get this GUI, right? So you can see it here. Let's skip the tour. You can see here you have this nice GUI that you can interact with. Let's just click on the camera. And now we can drag around. we have the scene graph, whatever, but yeah, that's basically it. You can support me by becoming a patron, and if you like what you've seen, don't forget to like and subscribe, and I'll catch you in the next one. Peace!