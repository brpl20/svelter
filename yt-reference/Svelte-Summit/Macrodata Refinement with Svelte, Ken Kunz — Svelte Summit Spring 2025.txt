 We're good. Is Rich Harris in the house? Come on up, Rich. Oh, I get to say I shared the stage with Rich Harris. So on behalf of Lumen Industries, the Lumen Board, and Jamie Deegan, we wanted to present you with this bouquet of Rich Harris-themed balloons. to thank you for really the work that you and the whole Svelte Core team have done to advance Keir's vision, eliminating pain and suffering in the world through Svelte. And we also have this PIPs VIP access card for you. So hope you were able to enjoy that sometime when you're in the Northeast. So thank you. Thank you, Rich. I should use this as an opportunity to welcome the board to today's presentation. They'll be joining us. We'll see if they have anything to add, but mostly I think they'll be listening. Well, hello, Svelte Summit. I am truly humbled and honored to be here representing Lumen Industries, to be able to share with you some of the work that we've done and sort of the why behind why we selected Svelte to develop our macro data refinement interface. to go into a little bit more detail about animation, animation design, and how you can leverage Svelte to add animation and transitions to your interface. I won tell you a whole lot about myself because I think I the least interesting part of this presentation but I am Ken Coons I been part of the Svelte community for several years now and I work as a lead software engineer for Lumen Macro Data Refinement Department Now, a little checklist just so that I can keep track of what I'm going to be talking about today. We're going to have a brief Lumen slash severance orientation. We'll talk about how Svelte serves Kier's vision. Then we'll also go into a little bit of the benevolence of movement, why animation and transitions are so important in user interface design. And then, you know, eventually we'll get to probably the part that a lot of you are most interested in, right? The code slash demo part of the presentation. We'll talk about the taming of the scary numbers. and if we have time, I hope we can get to the refinery compliance manual. Now, I realize that many of you may be most excited about the code and demo aspect of this presentation. The board requests that you please try to enjoy each section equally. So some of you may be less familiar with Lumen Industries or the severance procedure, and so you might be feeling a little scared or disoriented right now. Well, that's okay. You're in an orientation. Lumen Industries was founded in the late 1800s by Keir Egan and has been served since then by several generations of Egan CEOs and has grown into one of the most important biotechnology companies in the world. We are a global company. and about 10 years ago, you know, we famously invented the severance procedure, which through a tiny chip implanted in your brain allows a worker to have their personal life or their normal day-to-day life and their work life separated such that their memories from one don't cross the barrier to the memories from the other. And they effectively have two separate identities and they don't have to take those burdens of work, home with them, or vice versa. Now, I'm curious how many of you may have become familiar or acquainted with Lumen or Severance through the Apple TV documentary, Severance. I see a good number of you The board wishes me to take this opportunity to state extremely clearly this is an unauthorized documentary full of many falsehoods and misrepresentations. And we want to just take a brief opportunity to maybe reset some of your understanding of Lumen and Severance, or for those of you that are less familiar, to give you a little introduction. So let's hear from Natalie and learn a little bit about Severance and Lumen. cherished activities from pottery to erobics to win some conversation children radio games thanks to Lumen you never need to win more comedy again we've heard the concerns and are committed to solving the challenge of maintaining a work life balance let us know how Lumen Industries can help you Lumen is listening Thanks. So I hope that possibly clears up some misunderstandings about Lumen. We don't need to watch it again, right? Ooh. Clears up some misunderstandings. And, you know, for those of you that are newer to Lumen and Severance, gives you a little bit of background. I'm sorry if the audio wasn't super loud there. So, you know, Lumen is listening. The board is listening even now as we enjoy this time together. So, moving forward, let's start to talk about how Svelte serves Kier's vision. This commissioned piece of artwork, by the way, is properly titled Kier's Validation, the framework night. I also want to dispel the rumor that was started that a previous working title of this was the severance of Rich Harris. That O&D employee that started that rumor has been terminated Just fired But yeah we want to express a little bit like why did Lumen select Svelte Why is it such a good fit for Lumen Industries First off, as I said to Rich Harris, Svelte eliminates pain and suffering. How many of you would agree with this statement and have experienced this firsthand, right? Overwhelming evidence. Svelte enables Lumens software engineers to meet their quarterly objectives at an increased rate of 47.2%. That's phenomenal and really is one of the reasons that Svelte is now so supported by Lumens management and the board. We found there to be very strong alignment between Lumens and Svelte's core principles. Now, I'm detecting maybe a hint of skepticism in the room around this one, so let me see if I can convince you. First off, Svelte optimizes for vibes. As our founder, Kier Egan, stated, be ever merry. Svelte embraces progress. and as Kear Egan said, the light of discovery shines truer upon a virgin meadow than a beaten path. Svelte, especially Svelte 5, we believe in it's magical but not magic and at Lumen our work is mysterious and important. and finally Svelte really values and believes in progressive enhancement and at Lumen we also really believe and value progressive enhancement of humankind so hopefully you're convinced at this point that there is tremendous alignment between Lumen's and Svelte's core principles fourthly you know we all know Svelte to be a batteries included framework and how valuable that is in our day-to-day work. Well, Lumen products, I mentioned, were a biotechnology company. Lumen products are also batteries-included products. So again, another alignment of philosophy. Imagine, if you will, that you're in a busy place, maybe an airport, and someone nearby goes into an irregular heart arrhythmia, and you see this...

 this lumen defibrillator nearby, and you open it, and there's no battery inside. And you're like, hey, sir or madam, would you mind getting me a battery for this defibrillator, right? And 10 minutes goes by, and, you know, the consequences could be catastrophic. So all of our biomedical devices come with batteries included. Similarly, imagine that you're working on a new web application, and you want to add some animations and transitions or you need some state management and you open up your framework and there's just no batteries, right? Equally potentially catastrophic, you may find that you don't meet your quarterly objectives. So ships with batteries included another tremendous sense of alignment. And fifth, not least importantly, I don't know if anyone else has noticed the uncanny resemblance between Keir Egan and Rich Harris. It's difficult to explain. A recently rediscovered and refurbished photo of Keir Egan from his Civil War days. Keir conquers the pizza roll. It is truly uncanny. One is left wondering whether there isn't some ancestral provenance involved or if it's mere coincidence. So hopefully you get a sense of all of the ways in which Lumen found Svelte to be well aligned philosophically and in our principles, and why we've chosen Svelte for developing our macro data refinement interface. Let's move forward and talk about the benevolence of movement. if you've seen severance then likely you were greatly inspired by the movement of seth milchak right uh it may have gotten even you off the couch uh you know if there was some defiant jazz playing in the background i would probably have you all stand up right now and even if you're not a great dancer, you know, you're inspired by Seth and his amazing movement. Movement is an important part of life. Otherwise, we would just be static. And it's also an important part of interface design And so if you someone who been inspired by Seth Milchak and his movement I would encourage you to consider being inspired by Val Head As far as I know she still a principal designer at Adobe and she wrote a book a little under 10 years ago that Ethan Marquette called A Foundational Text for Animation on the Web. I'm curious if some of you here make use of intentional animation and transition design within your front-end applications? Anyone? All right, not as many hands as people who saw Severance, but some of you. Does anyone care to share sort of just one example of why you find animation and transitions to be important within a user interface? Context, excellent. Anyone else? I do want to reward this type of participation, So here is a finger trap. We do welcome participation. You know, it's boring to listen to me the whole time. So, yeah, you know, the why behind using animation or motion in your interface design, it is, you know, if we think of designing, often we're designing in two dimensions, right? The X and the Y. We were fortunate enough today to hear a little bit more from a couple of talks about designing in that third dimension, right? The Z dimension and using three dimensions even within a two-dimensional screen. But we often forget about the fourth dimension, which is time. And so using animation and transitions in your design is really paying attention to that fourth dimension. And here's just some of the reasons you should, like some of the things that it does for your interface design. and these all come from Val's books. In fact, each of these is a separate chapter in her book. Using animation well in your UI design orients and gives context, as was expressed. It directs our focus and attention when needed. It helps to show cause and effect between different actions. It provides the user with important feedback. It can be used to demonstrate, right, like UI onboarding or new feature onboarding or highlighting specific features. And ultimately, it can also be an important way to express your brand. At this point I break briefly into a little bit of a demo For those of you that haven seen it so that you have a sense of our MDR interface and how it uses animation And hopefully you'll notice some of the sort of why that I went through on that last slide brought forth in some of the animations we use here. I have the inspector open, not because there's anything you need to look at down here, but more just to push the interface up. Is that pretty visible to everybody? Okay. Okay. So while I can't give you exactly the full rationale for the purpose behind the macro data refinement UI and product, I'll tell you that it's used by some of our most cherished employees, our macro data refiners, who are severed employees, who are highly intuitive. and they respond in an emotional way to the movement of the numbers to refine and categorize the numbers in such a way that it enables us to further CARES vision. And the board does not want me to say any more than that. But what they do is, again, through an emotional response to the movement of the numbers, they're able to sort of draw a fence around, identify a set of numbers, and ultimately move that into a bin. And they can navigate around that interface, both zooming in and out and panning throughout in order to find the numbers where they look particularly scary and address them in this way. So you can see how animation, as demonstrated through that interface, you know, you can see how it gave us context through our movement or context for where we were in the process. You can see how, you know, by highlighting and selecting elements or even, like, as we moved and hovered over them, it directed our focus and attention. You really get a sense of the cause and effect in that binning process, moving the numbers into the bins. We're not currently using it to demonstrate, per se, and you do get feedback on sort of the progress that you're making in the refinement process. And finally, I do feel like this experience is highly expressive of the Lumen brand. I felt like it would even further highlight the importance of animation if we took a moment and saw what that same interface would look like with no animation So let just turn it all off So I'm going to zoom and pan. And you notice that when we pan, because the numbers are aligned, it's very difficult to tell what's happening even or what direction we're even going. No animation here, but just a scaled effect on the number that I'm hovering makes it feel very jarring. I can still highlight some numbers, and then I'll move them into a bin, and you have very little context or sense of the cause and effect involved, right? And so if we lose animation or we don't intentionally design it in our interfaces, then we're missing out on an opportunity to create a more usable experience. And because our macro data refiners actually have no idea what they're actually doing with these numbers, it's so important that we give them sort of a visceral experience that at least grounds them to some degree in their work. I'm going to hydrate, and then we'll talk about some of the benefits. So the previous slide was why we do this. This slide, we talk a little bit about, you know, what actually results from using animation well. It decreases cognitive load, enables your users to have greater focus because of that reduced cognitive load, improves overall task efficiency, very important to Lumen, improves the end user's decision-making capabilities, and their learning and memory of spatial relationships. And I'm not just saying this. This is based on science. This is research that is referenced and highlighted by Val in her book on UI animation. So another way to think of this is if you're not intentionally doing these things in your UI design, you are increasing cognitive load, decreasing focus and task efficiency and decision-making and making it more difficult to learn and remember spatial relationships. So I would encourage you to begin small baby steps, to take more steps towards using animation design.

 and animations and transitions within your UIs. The great thing is Svelte makes it easy, and we'll get to that in a moment. Let's talk about the taming of the scary numbers. How do we take this UI that I've now turned all the interface animations off, and how do we actually tame that with Svelte? How do we implement these? And we're going to talk about five examples of how we can tame the scary numbers. I'll try to move through these quickly. And as we move through these five examples, will be advancing in the level of wit and wiles required to implement these particular cases. We're going to start with the simplest and move to more complex. So let's go back to the live demo. So we now turned off all of the UI animations, and I'm just going to turn them back on one by one. So let's turn on our grid zoom, our panning and zooming animation. Okay, so now as we move back and forth, we get that pan and that zoom animation that kind of gives us a sense of context of what's happening. And this is really the simplest thing that you can do as any type of a front-end developer with respect to animation and transitions. It's just a CSS transition, right? It's fantastic that Svelte gives us these batteries-included transitions. but in many cases, you know, if you're not introducing or removing a particular component or element from the DOM, then there's no reason to reach per se for the Svelte transitions. Just use a CSS transition. It's what it's there for, right? And we believe in that progressive enhancement in using the platform. So we have simply, oh, am I looking at the right one? Yeah. So on our data field component, which represents the grid that you're seeing, We have this simple scale and translate transform, which is based on some CSS variables that are just being assigned up here to this particular section. A pretty common pattern is to either set the style directly itself or to set some variables, set the style in your CSS block, and then use that for a transform. And it's really one line of code beyond what I already had to do in order to support the panning and zooming. Next let take a look at how that number emotional scariness effect is implemented Okay, so now I'm just going to refresh in case there's any issues with state here, but now you can see the numbers moving up, down, side to side, a little bit variance in their rate, et cetera. In our real macro data refinement interface, there's a correlation. There's a relationship between each number and certain real-world properties that it represents that are being refined. In the demo version, since that's highly confidential and proprietary Lumen information, we simply have some random values being assigned per data cell, right? So very simple. There's the numerical value itself. There's a range, how far it moves from left to right. duration so that will affect the rate at which it's moving and whether it moves on the x or y axis. And those just get reset when a number is removed from the grid. So, you know, again, very simple pattern here. We're setting some CSS variables in our actual element, and then we're making use of those instead of just for a transition, now for an animation. We have a keyframes block that defines our wiggle animation, and depending on whether it's the X or the Y axis, we have some different translate from and to variables that are getting set based on just a class name, right? So again, very straightforward. You're using the platform. You're using the features that are just built into the web because that's what the situation called for. It doesn't even require some of the batteries that come with Svelte. let's now take a look at how we handle the the hovering of these numbers and the the sort of focus effect or the hover effect that you get so here we did have to reach into our svelte tool belt a little bit because we're not just doing a simple hover from our mouse position on one element and animating you know an increase in scale of the single element but instead imagine that as I move the cursor we basically have a magnifying glass and what towards the center of the radius of that magnifying glass is magnified more and what towards the periphery is magnified less and at some point you outside of the radius and it not magnified at all right And so you have to really step back and think through how you could implement some of that, and you might have to do a little bit of experimentation and prototyping. But what we landed on was in our data field component that represents the entire grid, we have a stateful cursor that just has an object with an X and a Y value. And as you move your mouse pointer, we update the X and Y value accordingly. And then this is passed down as props into each data cell. So we have hundreds if not thousands of these data cells on a grid. Every one of them is receiving the cursor as a prop, and then every one of them is making its own decision about whether it lies inside that magnifying glass and how much it should be magnified by. So if we take a look at our data cell, we can see that we have this derived by value for our scale. just a guard clause if the element that represents this cell isn't yet defined and then if the element has been selected then we're going to set our scale to a selected sort of zoom level but if it hasn't then we're going to determine a magnitude to zoom it by based on the distance between the cursor and the node midpoint right this is just looking at the get bounding client rectangle and comparing that to the position of the cursor from its midpoint and then just doing a little bit of math to decide how much to scale by essentially a ratio up to a maximum scale amount right and so then unselect and as you move your cursor, you get that sort of variable level of scaling. The scaling itself is now still just being done through a CSS property and a CSS transition. So that part, not that different than what you've seen before, but really it's more this state management and individual cell by cell comparison Let take a look next at how we can animate the binning effect of the numbers right that cause and effect of adding numbers to a bin So we might start out with a sort of simple, naive version of this binning, where we select some numbers and select a bin number, and we just use a svelte built-in transition, in this case a fly transition. This is not going to be adequate to the task, though, right? For one thing, we need to dynamically decide where we're going to be sort of moving the numbers to, and we want something a little bit better than just sort of a simple fly-out. We want something that's more like a funnel. So this is where we reach for a Svelte custom CSS transition. so within our data cell component um we have this funnel to bin out transition and if we take a look at that function it's pretty short um if there is just sort of as an extra little guard if there's no selected bin which shouldn't happen right when this funneling out transition gets called it should be because there was a bin selected, but we don't want to end up with an error because there's no bounding box of a selected bin, so we just guard against that. But then we're going to calculate the distance from the element that's being transitioned out and the bin that you're moving it to. And then we're going to use that distance to return a CSS callback function here. Normally it receives a T and a U value. I'm ignoring the T value. because I really just need the U in this case. T represents something that moves from 0 to 1 on an in transition, 1 to 0 on an out, and a U is just 1 minus T, right? So you can use either one depending on your needs or sometimes both. And we're just defining a CSS translate. And the cool part here, I think, is how you get the funnel effect. Because if we were just doing a basic translate, it would be like linear movement. But the funnel effect comes from the fact that we're leveraging one of the Svelte easing functions, cubic out, and you could just return that, right, as you're easing. But we want to have different easing on our x-axis than our y-axis, and that's what we're doing.

 gives us that funnel effect. So we're doing just linear easing on the y-axis, and then we're doing a cubic out on the x-axis, and the result is that cool funnel effect, right? And now let's look at deanimating the animation of our box, open and close, and we'll stop there because I know we're about out of time, So I'll make this one really quick. So in this case, we needed to reach for, again, a little bit different option in our Svelte toolbox. We couldn't do this simply with a custom CSS transition. Let's actually go one more further here, and you can see it with the drawer sliding open properly. In this case we actually needed to sort of show that semi opening of the bin We had to reach for a Svelte custom JavaScript transition, where instead of a CSS property, here's our box lid component. Here we're returning a tick property, takes that same T and U argument, and we're actually doing a little bit of trigonometry to determine where on a circular arc the X and the Y coordinates should be within an SVG that we can draw a path from. And we use that right within our tick method to construct the D property of a path element of SVG, again, just based on the trigonometry of where that X and Y value should be, and then just set that on our attribute. And that what gives us the nice smooth open and closed transition What I think is really impressive about Svelte as we close here is how I did very little effort to optimize any of these transitions I did a little bit of work to come up with a fairly optimized solution for that magnification effect, right? But besides that, most of this was just how you would do it in Svelte. and we can handle large visible grids with massive amounts of selected numbers being simultaneously binned with amazing performance in the UI. So... The applause here is, of course, for Svelte. We're going to skip our refinery compliance manual because we're out of time, but this is basically how you would orchestrate multiple animations sort of in a series together and how you sort of maintain that state in a way that is coherent and doesn't have a bunch of components knowing about each other but a little bit more of a centralized manager of that Just some expressions of gratitude from me and from the Lumen board Thank you Rich Harris and the Svelte Core team Thank you to everyone I know not in this room unless you know, let me know, but who makes Severance. It's an amazing show. Thank you to Emilio Passi, from whom I got the inspiration of this from a Medium article and a version of the MDR interface that was written in React. Thank you to Front End Masters, who gave me permission to use that photo on Rich's balloons. We are hiring, by the way. We have roles at Lumen for a Svelte team that is on our unsevered floor or for React developers on our severed floor where they prefer to go home without memories. So thank you, and you can find this online. A hug is available upon request. Thank you.