 So hello Svelte people! My name is Michael and I'm from Austria from Linz and today I I would like to talk about web-based rich text editing or more specifically web-based content editing. And before we go into what I really want to present to you, give you some quick history. So I was involved in a project called Substance.js, which we developed over the course of 10 years or something like that and the goal of it was to have a foundation for a really sophisticated editing environment so we were basically building this also open source editor called texture and like scientific journals were integrating this into their publishing workflows so it had things like automatic referencing you know that creates a reference list dynamically yeah it had just like crazy requirements and our goal was to basically have just like a content oriented approach so you don't do styling like in Microsoft Word or in maybe even LaTeX where you have so much style things it's really about entering content and getting an XML, like a really structured format out of it. Long story short, this was very hard to do. We ended up with a lot of code. It got stabilized, but it never really got completely production ready, just also because the requirements were so tough. It was really hard to do. so many many years later like last year I was experimenting with with another idea which was basically lowering the scope and just saying okay let's make websites directly editable so that you don't have to use this like write something in HTML or markdown hit publish and compile and so on so it should be really live and this editable website project I was like winning the second prize there thank you for that at the last Svelte hackathon and yeah so this is how this worked you can just make changes save them and that it of course with some limited capabilities and since then I was really working more on this idea And I even found a partner who is working with me on that And we built basically four clients. So we built websites for them. But we didn't use a CMS like we instead just used this technique here. but we evolved the project to make it more flexible and so on. So here's an example. This is like a site that we just launched. Yeah, like a real estate in Germany. And the cool thing here is you can press Command E and then everything gets in place. Editable. Yeah. and basically you can manage your stuff all from inside the site so you don't have a separate admin panel everything is here you can create pages and so on because there is no time i will not go into more detail here but just so much it's like running on sql lite and everything is just live rendered and there's no kind of you know static generation and so on like everything is dynamic but yeah using sqlite it's actually pretty fast so in a reload here it's really fast okay but we yeah kind of hit the limits of what you can do with just the plain content editable so maybe i can demo this here I mean we had just like using markdown just so we can keep things plain text and yeah we had to use a lot of workarounds we were not quite happy with like the editing experience here it's it's good but it could be better and yeah so I started a couple of months ago to work on on just this topic in isolation what I wanted to mention is also that in order to do this you cannot just pull in a huge rich text editing library for instance like you need to be really humble with your kilobytes that you ship to the client because you don't want to like load something a talk and so on so it should be really just everything small so the website can be basically served to readers as much as to writers or like editors the same code base and just keep it very small yeah and basically this is the result of a couple of hundred hours and I spent since the summer also thank you for Johannes who jumped in yesterday and did a little like design for it a bit of illustrations and yeah basically same thing here but yeah i just like the goal is really to keep this very minimal and And speaking of Svelte 5, so we are using Svelte 5 since longer than a year, I guess. So really, very early adopters. Everything is stabilizing now, so we don't have any Svelte 5 problems at the moment. Other problems, but not Svelte 5 related. And yeah, I figured that it's actually ideal to have something like Svelte to do the rendering and to have signals who are just updating fine-grained parts of the document. So actually a lot of things that we had to do in substance, like manually, like our whole component thing and event handling and really updating the DOM in a fine granular way is much easier. And I will just demo you a bit how this looks like and then we have maybe a few minutes to just jump into the code. um yeah so basically you have a text cursor you can edit text nothing surprising here but um if you have a selection that goes so as you see here this is not a typical like uh words document where you just have uh text like you know lines and you press enter it's really structured so you have like this is we call it a story block and it has a title and it has a description so you can edit those and you can treat this whole thing as as a block and you can also select multiple ones so we kind of like have some selection mapping going on and yeah you can just delete this for instance you can undo redo stuff and what is also new is like we wanted to have really a a chromeless experience so we didn't want put a lot of... sorry, I have to do not disturb on, forward and back, focus, for one hour, great. Okay, so we didn't want to clutter the interface like the canvas as we call it with a lot of UX elements because we want it to be really simple to just write a component and don't have... like the component shouldn't know about the selection rendering like here like this this rectangle here so like maybe to show you like how the story block looks like it just you know basically a bit of svelte code and it just delegates to these text things which make the text magic going on This is just a regular image and what is important is just like this is kind of the protocol These few options you need to provide so that the svelte component can pick up on it on it and can kind of use it to map selections and so on so yeah from a usage perspective it's very easy um yeah already nine minutes oh my god time runs so fast so yeah what is special here is like you have a cursor which is basically a container cursor it just works like a like a text cursor but instead of characters you have blocks and so you can do backspace and you can do under redo and you can also do up and down arrow and so on delete so just make that feel very natural and not have like some ui elements then cluttering the interface that you need to think about and so on and yeah just to give you a little overview here basically this is just evolved around basically taking a DOM selection and mapping it to an internal selection like our data model and then the other way around like you you set a selection because after some like you hit the enter you need to set the selection in the model and then you need to render it to the DOM and the way we do this here is just you know using a effect render selection and here is some you know DOM mapping code you also get first we take the text and container selection out compare it if it has changed so we don't end up in an in an endless loop basically and yeah so this render selection is one key piece and then you have the selection change. This is really like the magic. There's still some bugs in it and so on but most things are working and yeah we're gonna release this in the next couple of days and we hope that people can use it like as a template you know just to copy and paste the whole thing and really edit everything it's not a library it's really just a template that kind of demonstrates you can build a rich text editor with like yourself in thousand maybe in the end it will be two thousand lines of codes once we support cut and paste and these kind of things but we really want to keep it minimal and want to encourage people to do this kind of stuff with 12.5 all right that's from my side thank you very much