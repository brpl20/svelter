 This week's episode is sponsored by Extrastatic. Extrastatic is a hosting service for Sveckelblogs. Sveckelblogs combine the simple conventions of Jekyll with the incredible power of Svelte. Check it out at Extrastatic.com. Welcome to Svelte Radio. Hey, it's another episode of Svelte Radio. We meet once again, everyone. This time we have another guest. It's none other than the creator of Svelte, Rich Harris. Hello. Hi. I like how you wave on the podcast. And of course we have Sean and Anthony. Hello, hello. so i think this is like the is this the fourth time we're on uh i've lost track that sounds about right yeah yeah i guess we're we're privileged to have you on a lot of times the privileges are mine oh thank you all right so uh what have you guys been up to lately i know anthony you told me you uh you've had a couple of days off yeah okay so i can start i had a yeah well i had these to break so we had four days off and two more days on top because i am now the wonderful age of 40 it's my birthday yesterday oh happy birthday congratulations your life has finally begun yeah yeah um but yeah so you know uh i spent my holiday and extra days yak shaving but yak shaving in the kitchen rather than yak shaving computer which is good i am i bought a new fridge there's actually a weird twitter thread about it where ken wheeler starts off by talking about american fridges and i'm like hey i just got one but i got this fridge and it doesn't fit in our kitchen so i started remanufacturing the kitchen uh chopping apart the units trying to rebuild it so i can get this fridge in there which is great looks wonderful then redid the wiring because the wiring and it was annoying because i spotted that whilst doing the fridge so i started reading the wiring and rewired all that and then as i was reading the wiring i looked at the the lights under the counter like i don't like these lights under the counter so I took the lights out and then I started rebuilding my own lights and I like led strips I got led strips under there and started soldiering them on my birthday which is the worst possible you do on your birthday because it absolutely depressing i hate soldiering so much and i burned myself three or four times and now i have no under counter lighting because it's all kind of half done and it's really hard because i like to have things with no wires no visible wires no visible attachments just completely flush and that's a lot harder than it looks and probably not it's not gonna look as good as the effort i've put into it why didn't you just get a fridge that fits in your kitchen yeah well because apparently he needs an american did you did you not know until you got the fridge no no we had an integrated fridge and it's a bit old anyway so i want to get rid of efficiency reasons but i wanted american fridge because we need a bit more storage in our fridge and freezer anyway and i wanted an ice machine built in a water filter built in because i don't like having british jugs and ice ice makers which i have anyway so there's a few reasons to get a fridge i had this plan to just chop the end of the kitchen and shove it in the gap which is easier than said than done and it worked in the end it's all ill looks good and it looks like it's part and parcel but it took a lot of time to actually get that you know that furniture right that kitchen cabinet cut down correctly that it would fit so that's the reason sounds like you had a great time off but now you've got an american fridge it's true now i'm gonna make a fridge it's actually i've got the worst of both worlds i live in america but i have a terrible fridge do you have a price of renting why oh yeah that's true that makes sense you can't replace it yeah so sean what are you what are you up to where are you today last time you were in new york yes i am in miami now very good very nice city and very good experience good weather good food good people uh my kind of dress code which is shorts and flip-flops like people just did not dressed up for the conference uh sorry so i am cheating on svelte i am at reacts miami i'm in the belly of the beast but you're a spy it is i'm a spy uh no it is it is very good to see people in person again and then uh people are very um inquisitive about svelte you can always see at the edges people always wondering like how come you know we're uh how come i moved over how come a lot of people are talking more and more about it every year uh so it's a very interesting mix and it's i think it's just the first in-person conference i've had since um guest felt summit so summit wasn't quite fully in person and this one definitely was and uh covet is over here nobody wearing any masks whatsoever yeah that not even checking yeah not even checking your vaccination status yeah yeah that's a it's the same here i think i think we're all done with it in a way it might not be done with us no i know but like psychologically i guess yeah all right and then I think there's a lot of movement on the, on the meta framework side. So SvelteKit was brought up a few times, but also with Remix and other, what's the other one? Blitz.js that was, that was brought up. I would say that the thing about web standards, I have a thing in the pics for how SvelteKit docs actually reintroduced like a web standards section because people don't know where fetch comes from. I think, I think that's something that Remix is also trying to do. is trying to encourage people to understand the web platform APIs and sort of use them or monkey patch them in some interesting ways. And the other thing that I noticed, there's this sort of love, again, for web standards. They're just better because they're built in into some kind of platforms. So Netlify Edge functions launched, and they used Deno. And Deno has a very obvious lean to the web platform APIs as well. and apparently that was a reason for choosing them. I just think it's an interesting marketing angle. The web, I mean, you know, request response may not be the easiest things to work with actually, but they seem to be trending. Would you look at that? That sounds good. So Rich, what have you been up to since last time, whenever that was? COVID definitely isn't over here because I just had it for the second time. Second round. Oh, wow. And it was much worse than the first time. I flew to the UK for Christmas and got stranded there because I then couldn't fly back. I flew to see my family and then had to sit in a room by myself. But I was actually fine. I was just testing positive. But this time around, I felt dreadful. I think my experience is probably a bit like yours, Anthony. You had it a short while ago and had a bit of a rough time. So I've been doing very little, honestly. um i binge watched a lot of tv while i was convalescing um watched the entirety of severance great show um halfway through season five of better call soul which is now on netflix um and apart from that i just been plugging away on svelte kit cool i think you just stole my my pick i was going to pick severance such a good show discuss it at the end as yeah yeah spoiler spoiler section at the end i also watched i guess all right all right cool all right let's uh so what have i been up to i guess i should uh i should do some kind of status update i've been uh plugging away and working on the uh conferences so this the spring one as well as the the fall one which is i'm realizing by the day it's getting more and more scary to organize one. I realize I've probably taken on a bit too much, but it's going to be fine probably. We'll see. So there's a lot of going around, like figuring out stuff that I need for the conference, stuff that happens on the back end that you don't realize when you actually go to a conference yourself. so um that's that's been a lot of fun but also uh scary so yeah that that's me all right so rich you're here uh let's talk about your new job or i guess it's not so new anymore what's the deal how's versell yeah it's actually not that new i joined in november and it's what getting towards the end of april now so almost six months which is absolutely flown by it's good i'm very happy still with the with the choice that i made it's been a definite positive development for spelt and you know for me personally i i really like working there i'm working with good people and i i feel like the company has a good mission so i'm very happy all around cool so what's uh what does like a typical work day look for you when you wake up so i'm working like pretty much exclusively on spelt and speltkit and at the moment that's really just speltkit i don't have like i don't have the cell specific responsibilities as it were occasionally i'll i'll be asked to help review some new for sale platform api that this is going to launch because that's going to affect us and they want feedback from the people who are going to be using it the people who are developing that so i'll do that sort of thing and yesterday i'd be

 put together a little demo of SvelteKit running on the Vasell Edge network, which we'll probably put out today because we can, using the new build output API on Vasell, we can toggle between building your app for lambdas and building it for Edge functions, which are currently implemented with Cloudflare workers. And so as long as you're rendering something that doesn't require data that lives in a data center far away from you, that allows you to do server-side rendering extremely quickly. And so that's a pretty cool development. The next thing, of course, will be to have some parts of your app rendering on the edge and some parts of your app rendering in a data center. But that's future stuff that we haven't yet figured out. So apart from that, I'm just logging into GitHub and looking at what new pull requests and issues there are and trying to, I don't know, stand before the tide like King Canute and command the waters to recede. We have about 375 open issues at the moment, which is the least number of issues we've had in a while, but it's still way too many um for comfort so i'm just trying to get that number down i can imagine it's a it's a lot of uh it's a it's it sounds like it's a bit overwhelming having that many issues like i've only ever like released super tiny tiny tiny libraries with like one function and i i get stressed out when i get like two pull requests or one issue so yeah you have to get comfortable with knowing that some people are going to raise like perfectly valid issues in some cases they're they're significant bugs in some cases they're really useful feature requests and you just got to say i'm like we're not going to be able to get to this this week and it's frustrating for for people who have taken the time to to raise issues and especially pull requests but it's just the reality of maintaining one of these things is is that you've got to aggressively triage we're getting there yeah cool so i also wanted to ask like since you're working at versell i guess you have some kind of easy access to the next JS people. I suppose. Do you find yourself talking to them about concepts that you eventually want to implement in SvelteKit? Definitely, yeah. I mean, it's no secret that SvelteKit is very largely inspired by Next. Next kind of pioneered the whole meta framework thing and SvelteKit is our version of a meta framework and it takes a lot of the same ideas and runs with them. and the next team are often coming up with new ideas that uh that I think we should should steal So on incremental static regeneration for example is a feature that I think SvelteKit should definitely have And being able to have access to their Slack channel and being able to talk to people like Tim definitely helps kind of sharpen up some of those ideas and lets us sort of learn a little bit from their development process. But it's not like I'm in there every day. We're not sharing roadmaps and stuff like that. It's just one less layer of friction than if we had to just read the public RFCs and do stuff through Twitter DMs and whatever. Yeah, I had someone at the Stockholm meetup yesterday asking me what the future of Svelte is now that Vercel bought Svelte. And I was like, what? That's not what happened. I wonder if people think that, because you just got hired by them? I mean, it's a very natural assumption. There is a lot of open source these days, which is directly funded by venture capital. And in a lot of cases, there's very little clear blue water between the open source and some eventual theoretical payout for the people putting money into it. And so you have companies like Remix and Astro, which are bench capital funded and they're growing very quickly. And it's like, it's a very promising model for the development of open source software. But like, there is this part of me that is like, you know, at some point the VCs are going to, are going to want to pay out. And what is that going to mean for the business model for these companies? And the arrangement that Svelte has with the cell is not like that at all. It's, it's really more kind of an alignment of interests than anything. Vassell isn't making money directly from Svelte, never will. But having me in the company means that Vassell gets to have input from the Svelte community on new things that it's developing. And it means that people who are using Svelte on Vassell get the best possible experience and all those things. So there like a harmonious relationship but it definitely not like what the word I looking for It not in any way kind of transactional And so I get it People are like there money involved now Surely there are vested interests afoot here But that hasn really been how it shaken out and i seen no reason to to imagine that that will change and besides you know i am i am just one person i'm the only full-time person working on svelte but there is a core team that has people working in all different environments and like it just would not be possible for the cell to capture the project because the rest of the core team would be like hang on a minute that's that's not going to happen um so yeah i'm not concerned i think also an important differentiator is that these other frameworks uh that were mentioned have kind of got investment to cause traction versus felt which had traction already and the seller have essentially invested in something which was being for a large part deployed to their platform that already has traction and they kind of like you know that's kind of helping them as well the notion of putting money into something with the hope that it will grow enough to get the money out again is is quite different and i think that's kind of scary yeah especially for open source you know because there's lots of options out there yeah i just don't understand like most of the business ideas like how are they going to make make back that that money well i guess i guess we'll see being purchased you know i think for a lot of it's right it's about selling out somebody else right i also think in a lot of cases like they just don't have a clue venture capitalists very often just don't really have a business model in mind they just want to they've just got all this money floating around that has to be invested like in many cases that the money that they have like there is a mandate to invest it within a certain time frame and so like any technology that looks promising gets money thrown at it and it's like we'll figure out the business model later but then you know later comes along and maybe the business model turns out to to rely on a moat that you didn't develop because that's antithetical to the open source nature of the project so i don't know i the whole thing makes me a little queasy yeah i think that i mean obviously vcs get bad rep and good rep and stuff not to diminish them entirely but i think that one thing that we did when we started out looking for funding was we determined who might buy us in the future when we first started out and reverse engineered our product so that we are building something that we know someone wants versus building something and hoping for the best or building something and getting to a point where we go let's find a buyer or something like that we're almost building a product with a view to who might acquire it, you know, and how it would complement their product. And I think it not just like one thing in one basket It multiple different companies but I think it important because it helps you build something that potentially you know will have this this audience you know up and ready to go and it also helps you fill that gap because you building it to fill that gap so so i'll try to help make a case uh maybe because i'm a bit more venture capital friendly or or in infused in those ways you know versile has has been very closely tied to Next.js in people's minds. And if they ever want to grow to the next tier in valuation, they have to be perceived as a broader general purpose web platform to build the SDK for the web, as they say. And part of that is investing in a lot more tooling than Next.js. And so far, in the past five years, has just been Next.js. So this is a very major step in that broadening direction. I guess in a sense, you could probably see this as marketing, right? It's a combination. Yeah, right? Because every time you're named... Probably marketing, but also they get richest input on APIs. Absolutely, absolutely. It's just like, I'm just thinking. But yes, definitely, Versailles is now the deployment platform of choice for Svelkit. and that definitely helps the bottom line somehow. I have no idea how much, but it's a bet, like a lot of things. I also wanted to shout out that, you know, Steph is also investing a lot of time building a SvelteKit course and through that, that is a personal investment as well. All right, cool. So before we get into the weeds of Svelte and SvelteKit, let's talk a bit about Svelte Summit. So on Saturday, so this is recorded the week before, but when you listen to this, it's going to be on Saturday. Svelte Summit Spring 2022 is happening, and you should all watch it. There will be a lot of fun talks. I think, Rich, you'll have some kind of talk. Have you figured out yet? No. No, I need to cobble something together for that. So I'm going away next weekend. I'm going to be in Mexico City on the weekend of the conference. And so I need to come up with an idea for a talk and record it and edit it and get it to you before I fly out, which is going to be interesting. A lot of fun. If anyone has any ideas for a talk that I should give, then I'm all is. Otherwise, I'm just going to talk about...

 like SvelteKit 1.0. I think people will be interested in hearing about it. Yes, pretty good topic. Not that we're releasing SvelteKit 1.0 at the conference, just to dampen people's enthusiasm. We'll get back to this question in a bit. So, yeah, so there are a lot of fun talks. We'll bring back the, I think I mentioned this last week, but we'll bring back the meatball sessions. so you can meet people from all around the world and talk one-on-one for a couple of minutes about Svelte and the talks which is super fun I did it when when we did that last time and I got to talk to some guy in Alabama someone in Australia someone in India so it's it's a lot of fun to to just get to talk about Svelte with random people from around the world because you're kind of But in the Svelte community, you're kind of just talking to the same people oftentimes. So getting to talk to other attendees is nice. But yeah, so the conference on Saturday, go watch it, join, attend. And before that, on April 28th, the Svelte London team is running a meetup pre-party thing. maybe you can share some information about that Anthony and the London meetup uh yeah so yeah happening on the 20 28th we're trying to do a regular slot now around the sort of late 20s each month we've got three talks lined up uh I believe two of them in person there was going to be a third one in person which I think is now remote but um we've got a big screen there and everything else same venue as last time but we are looking at sort of alternating venues a bit so that it's a bit more inclusive because uh not everyone wants to go to pubs speaking definitely not myself but not everyone wants to go to pubs um yeah that's about it if you're in london come along or we'll also be streaming uh this one online i believe um we had a bit of av issues previously but uh we've think we resolve those now great that's that sounds awesome and that will be on the svelte society youtube channel i suppose uh yes yep cool cool all right and then of course course there the Svelte Summit Fall event I know sorry there a lot of Svelte Summit talk today but I need to do this So yeah Svelte Summit Fall on the 8th and 9th of September this fall It's going to be fun. It's the first in-person Svelte Summit real conference, I guess. But yeah, you can buy tickets. We have two confirmed speakers. Rich, you're going to be there. I don't know what you're going to talk about. You probably don't either. Not a clue. And then we also have Penguin doing a talk as well. So that's going to be a lot of fun. Maybe I'll talk about SvelteKit 2. Ooh. Is this an exclusive you're revealing here? SvelteKit 2.0 in the fall? Excellent. I'm going to take your silence as a yes. All right. So the website for the fall event goes up a couple of days after the spring event has been done. So you could read more about that a week from now, probably. All right. So Svelte and SvelteKit, what we're all here to hear about. What's the status? What can you tell us? Well, like I said, there's 375 open issues, but a lot of those are questions like, how do I do X? Some of them are feature requests for features that have since been implemented because sometimes multiple people will ask for the same thing and they don't get correctly marked as dupes and then as you're going through them you suddenly notice oh we can close this so um it's definitely not quite as bad as it sounds and also some of these things are things that we're going to tackle after we've hit SvelteKit 1.0 so right now my main focus is closing all of the issues that things that we want to have locked down before 1.0 because changing them after that would be breaking and we don't want to immediately do SvelteKit 2 after SvelteKit 1. We want people to have a little bit of stability in their lives after bearing with us for the last 18 months of rollercoaster breaking changes. But there's some good stuff in there. Like we recently made some changes that I talked about at the Svelte MYC meetup last week. We have page endpoints, which are a very convenient method of data fetching. We have route matches, which allow you to very quickly reject a path name as being an invalid root if for example you have an integer as one of your dynamic parameters and someone has a non in the path name you don need to execute any code in order to reject that in 404 And that has simplified the internals quite a bit And there's a few other things that we've going on at the moment. Some of the biggest questions remaining around how we handle different deployment environments at development time. Because if you're deploying to a non-node environment, then you probably shouldn't be able to use node features during development. And at the moment you can because it's just using Vite and Vite is a node framework. And so we need to have a bit of a think about how we solve that problem. And there's a few other things like that that are going to be a little bit tricky to figure out. And so getting that right is why we haven't yet managed to do a 1.0 release. That plus the documentation, which is going to be a huge undertaking because we've got some big plans about how we want to do that. There's been some development in Svelte itself lately. we just shipped a new thing called Svelte element, which allows you to pick an HTML element dynamically based on some data. Previously, you would have like a bunch of if statements and now you can have Svelte colon element, this equals, and then the name of the element. And that makes some tasks, like if you have some data that comes from a content management system or something like that, and you want to render that as HTML, that makes all that sort of thing much easier. Uh, what else? I think that basically covers all of the, all of the major recent developments, but there's, there's a lot of stuff to come. And we're also starting to think in very broad high level terms about Svelte 4. Oh, so maybe Svelte 4 for, for the fall event. Who knows? Maybe. it kind of it kind of depends what happens when we get svelte kit 1.0 out the door it may be the things settle down on that repo for a bit because you know we're in a stable place and we can shift our attention back to svelte itself but it might be that because we hit a 1.0 release we get a ton of new users and they start finding new issues and new feature requests and and and We just have to spend the next few months working through that stuff. It really is an unknown at this point. And how do you polish the silver bullet? I mean it hard Cool cool So yeah we put the link to the full talk that Rich did on YouTube because I think you demoed more features than that, but those are the key features. And also, if anyone has questions about roadmap, they're also answered in that talk. So we don't have to cover it. I like that you triaged the major issues into must-have before 1.0 and then what we're going to punt until after 1.0, because then it solves a lot of like, when is this going to happen? And I like that. I like that sort of high level decision-making because that really sets the right expectations. And the distinction isn't whether or not a feature is important. It really is more about whether we can add it after 1.0. So for example, internationalization is like, this is one of the first issues in the repo. and it's this hugely important topic and it's something that we never figured out with Sveltegit's predecessor but there are so many moving parts to that that getting it right before 1.0 would would just delay it by probably months whereas we think that we can solve all of the internationalization problems that we want to solve in the framework as non-breaking changes so that's you know a 1.1 or a 1.2 but the fact that it's not 1.0 in no way uh lessens the importance of it in our minds and there's a few different features like that so as someone who's like not done that much i know anthony you do you do quite a bit as well in internationalization there's always user land libraries and also cms solutions like builder or whatever that offer internationalization what what can you do at the framework level that you cannot do in userland? I mean, it's just a general discussion. I don't know the answer. I was looking for the answer there, Sean. I'm disappointed. I mean, I think the answer is there's nothing that you can't do in userland. Ideally, the system is flexible enough that you can build in whatever solution works for you. The question is, like, how much work is it going to be? The framework, yeah. Well, so the framework has the opportunity to do a lot of things more easily because things can be more tightly integrated. But it's also the case that if something is a common requirement to many apps, then it's beneficial to have a blessed official

 way to do it and this is like this may be a philosophical statement that some camps would not agree with like i know the the react world for example is very much in favor of like the universe of possible solutions go out and pick one um which is like is good it encourages the development of lots of different solutions but it also means that if you're familiar with one react code base and you're dropped in another react code base like you're not gonna feel at home whereas the intention is that if you're familiar with svelte kit then you can move between svelte kit code bases and you'll immediately feel at home and you will know how to solve these problems that we all face when we're building applications and internationalization falls into that category i just like styling and server-side rendering and all of these other things like you don't want to have to solve those problems by yourself if we can agree as a community that this way of doing things meets all our requirements is this is this something that we might see incorporated into svelte itself like internationalization or would that maybe that doesn't even make sense in any way or is it a SvelteKit level kind of thing? It's hard to say at this point. Ideally, like one as much as possible to be done in SvelteKit and not Svelte because the more that you have to put in the core framework, the more complex that piece becomes. But, you know, it may be the case that we want to have some kind of statically analyzable identifier for referencing translated strings. And if you have that as part of the framework, then when you compile a component you can get a list of all of the strings that are referenced for example and like maybe you can use that to populate the dictionary that is going to get sent to the browser so that you don't need to include all of your translations for all of your languages or anything like that and you know you can sort of do that without it being part of Svelte but but maybe you don't get some of the same guarantees that you would if it was actually part of the language that you use when you're writing svelte components but i'm not weighing in one way or another here these are just the kinds of decisions that we're eventually going to have to to take and the kind of explorations that we're going to have to undertake before we can figure out the best way of doing it yeah cool so you mentioned uh dev environment what did you say again dev environment deployment what was the thing right so the svelte gets whole deal is that it sort of right once run anywhere right so your your application can be turned into a node server if it doesn't have anything dynamic then it can be outputted as purely static html you can deploy it to the cell you can deploy it to netify you can deploy it to cloudfare pages or aws or dino or you know whatever else right and each of these environments has subtle differences in how they work how the runtime behaves and what we want to do is abstract over that to the greatest degree possible while also giving you the ability to take advantage of platform features where necessary so for example in the cloudflare case we give you access to your kv bindings but there's a couple of limitations number one you can't access that that platform object during development you don't get access to your KB mining in development, which is a bit limiting, frankly. Number two, you can do things like read files from the file system in development because it's just Node, right? You can import the file system module and read files from disk. And it'll work just fine. You can build a page from some markdown that you have lying around, or you can open a SQLite database. And you can use that until you deploy your app at which point you suddenly discover that it just doesn't work. And it was never going to work because the FS module doesn't exist in a Cloudflare worker. And so what we need to do, and Sean has been on top of this issue. He actually raised it in issue form for the first time, even though we'd kind of been guiltily thinking about it. What we need to do is make sure that the development environment mimics your production environment as closely as possible. So we detect what your deployment platform is going to be based on the adapter that you've chosen. We need to figure out how that works with the adapter auto situation, but that's a problem for another time. And then we somehow need to restrict the runtime environment such that if you do try and access the file system module, then it either going to fail or it going to tell you what you need to change in order to make that work when you deploy your app at the moment it it a bit of a fuck around and find out situation which is an idea right does this put us in a position where we spending our lives trying to find out weird esoteric edge cases for different deployment platforms and uh add those restrictions into each adapter because it sounds like like the cell for example has a very different file system than a lot of other environments and knowing that file system is almost internal to the cell it's now being documented and stuff but how would we make sure that this is a good level of accuracy to make it useful i suppose uh so i i think the the run times are actually fairly similar um in most cases like there has been this convergence that sean alluded to earlier a lot of these platforms are like they've embraced web standards and so you know if you're using dno or cloudflow workers or the cell edge functions or whatever it is like you get a w3c standard request object and your job is to return a w3 standard response object and that happens to be exactly what svelte kit does so in like in in those cases um the fact that the fetch api is globally available and the response and the request api is globally available like there's there's kind of nothing we need to do there except polyfill them in development because you're in node it's it's more about restricting the things that you're not supposed to be able to do uh as for accessing files on the file system we were having a conversation about this yesterday in the discord it would be ideal if there was a way to do that in the framework that translated to different environments so if you do deploy it as a node server a we've statically analyzed your code and we've figured out what content files you need so we figured out that we need to include your database.sqlite or your documentation slash glob.nd and we just include that in the deployment and then if you deploy to somewhere that doesn't give you access to the file system you know a cloudflare worker then somehow we put that in a kv store and give you a way of reading that directly from the kv store that translates across between all the different environments we haven't figured out any of the details that but those are the sorts of conversations that we're having there is of course a school of thought that is like this is wasted effort you should just be upfront about the fact that that different platforms are different and if you want to read a file from a kv storing in an app that's going to be deployed to cloudflare then you should just do that from the start but i personally think that these platforms have more in common than they have differences And it makes sense to to try and do the right once run anywhere thing as far as possible because at the moment I would argue switching platforms is, is too costly. Well, the platforms are very incentivized to make it costly. So it's no surprise. Right. That moat, right? Yeah. So I have a couple of thoughts on this. I really appreciate your perspective on this. And you know I've been thinking about this for a while. Should it be SvelteKit's job? Because this problem is not isolated to Svelte. React also has this. Anyone doing any meta framework with multiple deploy targets is going to run into this. And I feel like there's an opportunity here to do what Vue did with Vite, which is like, hey, there's a common problem here, but it's not super view-specific. Let's kind of extract that out. Maybe it should be part of VEAT, because why not? That's one angle that I'm thinking about. The second angle is that every single platform has some kind of sandbox local emulation thingy. So Vercel has VC, Netlify has the Netlify CLI, and Netlify Dev. and are you duplicating efforts that maybe should be done by each platform? So to the first point, absolutely, yes, it would be great if some of this stuff could be shared between frameworks. But I think the first step is to figure out what the requirements are. And so a framework like SvelteKit kind of has to take the plunge and say, okay, these are the features that we want to have in our framework. And then if the broader web community says, actually, yes, we would like to have that in these other frameworks too, then at that point it becomes a shared solution you know a good example of this would be uh the veet ssr load module is was originally based on an implementation the svelte kit built on top of snowpack and snowpack and veet both eventually kind of took that and merged it into their code bases so that we then didn't need to have it and so yes i think cow paths should be paved but like for that to happen you need some cows and we're the cows to the second point yeah so vcdev wrangler or minifrog

 or whatever that thing is um netfly dev like all of these things exist and they provide that sandbox for you right now they uh i'm not super familiar with them but my impression has been that they generally don't give you a huge amount of programmatic control which we need right we need to intercept the the ssr load module step and run that code instead of running it through well essentially you need to bypass ssr low module you need to do the transformation through veet and then need to hand that code to this this runtime and my impression has been that that is a tiny bit that's not that's not how they're designed today but right so you know this this might be another case where where we sort of say if if one of these clis does allow us to do that then we're going to embrace it and we're going to use that and you're going to get a really high fidelity experience using that platform cli and the others like should sit up and take notice this is what's possible if if you architect it in in in a particular way but you know i i don't yet know which of them is closest to that ideal and i have no idea like what an integration with svelte kit would would look like but that is something that i i think is probably a pre 1.0 concern maybe i'll tinker with it a bit today and see what i can find out yeah i know i know that the cloudflare one specifically was not designed that way and it made it very hard for us to actually figure out because it it does something like it adds it adds things to the global namespace for the kv store or something but that's what you want you want to develop you want to develop with cloudflare's version of it because they're going to maintain it not you that that's what oh yeah no absolutely but i mean we couldn't fuse that with veep because there wasn't a hook in the right place to get that stuff in there and i don't think it was architecturally possible we're talking through it with luke and stuff about how to how we would do this and it was it was just not designed to be used like that it's almost designed you run that that runner and then it runs your stuff and does this augmentation and actually in dev mode you want you kind of somewhere in the middle of those two processes yeah it was it was difficult anyway trying to do this myself sounds like you had a lot of fun i know i know i uh i run into the issue where i wanted to use uh cloud rkv and and I just not bothered because I couldn make it work easily right Because I wanted to call them from my endpoints, right? Yeah. That's the issue, I guess. It's very difficult. It's because it's a global variable, that variable needs to be present in your dev environment. And because it's global, you can't just mock it, define it, whatever else. you've got to do something slightly more lower level. Gotcha. Interesting. All right. So you also mentioned some kind of documentation for SvelteKit. Is that something you want to elaborate on or is it secret? I mean, it's a little bit secret in the sense that, like there hasn't been any work in public yet. There's really just been conversations. I think Penguin has started working on this. and uh i'm not yet sure like how much progress he's made um essentially what we want to do is have an equivalent of the svelte repl for svelte kit because a lot of people they come into svelte through the repl and through the interactive tutorials um and because it's like you don't need to install anything there's no overhead whatsoever you can just like go to the website and immediately start playing and and that's a very effective way for people to learn right meta frameworks don't have anything like that um you have like all of these steps like oh you need to install a package manager and then you need to do npm in it blah and then you need to be able to cd around your file system and like that's all well and good like we all know how to do that but if you're a less experienced web developer or if your curiosity about the framework doesn't exceed uh the the pain of okay i gotta open my terminal create a new directory and blah blah blah then you're just not going to do it um and so we have this we have this interesting challenge which is how do you get a meta framework to run in a browser environment um in a way that allows this sort of editorially curated experience um and so you know without wanting to uh like give anything away or make any promises there are ways nowadays that you can do that you can run svelte kit in the browser and we want to try and use that technology in uh the svelte kit tutorial and maybe we would even combine the svelte tutorial and the svelte kit tutorial so that it feels like a cohesive thing like you start out in a svelte kit app and you learn svelte inside a SvelteKit app. And then when it's time to learn about having multiple routes, like, oh, you just add this other file and because you're using SvelteKit, the rest is taken care of for you. So that's where we are. Exciting. Just yesterday, I got a comment about how the Svelte tutorial was amazing. Like someone just wanting to see how it all works and they just like go to the website and play around with it for a bit. It's great. All right. Yeah. So I think that's it, unless you guys want to talk about something else in regards to Svelte or SvelteKit. No. No? All right. Cool. All right. So we're going to talk a bit about the meetups here, but I think we've already talked about them. So let's move on to the most popular sections, the unpopular opinions and the picks. so do you guys have have any unpopular opinions go on anthony uh yeah so i only have one unpopular opinion and the reason it's unpopular and it's it's almost it's um unpopular at different levels essentially the opinion is that nested code blocks make hard and make code hard to read so essentially if you've got uh the diamond pattern in your code you have an if statement which contains the riff statement which contains maybe another riff statement and you're going down the chain here if this, if that, if that at that point and for me that point is one level of nesting, I don't have any code that goes more than one level deep so a single if you can either exit early to do something else if you have everything wrapped in an if or you can call out to a method if the condition is true or false, whatever there's a bunch of options you can use that will help you avoid having loads and loads of levels of nesting even if you were to have a series of different methods that have in within them their own single if statement it means those single methods are easy to read um and there people of different sort of levels uh of of tolerance for nesting but i find once you get down to two it already becoming a bit confusing you're looking at code halfway down the page and you don't know which if statement you read which branch of the the logic you're in so um yeah my opinion is that one level of nesting should be enough for anyone you would not like my code bases i usually go 10 deep yeah i mean i do realize that i'm almost an outlier in this um but uh it's definitely served me well being so i love a bit of nesting i think code should flow like a river i know well actually what the spelt code base was one of the places i saw this nesting i was like diamond pattern i was like right so i'm in an element and it's got this attribute and it's got this and oh my god i'm lost all right that's a that's an unpopular opinion i think sean just uh you just added one here yeah well i um it's hard to follow anthony as usual but i i had a i guess epiphany on this edge function thing so just to give my context about edge i was at nullify in 2018 when they first announced that they were looking at the edge stuff and i was like that's very cool. Your functions are closer to your user, so they're going to respond quicker. But then I found out all the limitations that edge functions have, which is that you have to render or respond within double-digit milliseconds. And there's memory limitations as well, file system limitations, bundle size limitations. So I got significantly less excited about them after getting very, very, like way too excited. I was like, oh, this is the feature. That was 2018. And then went to AWS where I looked at Lambda at Edge and it's basically a slight optimization of Lambda itself and three times more expensive. So Lambda is something like 0.20 cents per million requests and Lambda at Edge is 60 cents per million requests. I was like, okay, you know, and people use it for what it is, but it's not in any way game-changing. When Elify launched their edge functions this week, they actually released pricing as well. And this is the first time I've seen it the other way, where edge functions are clearly at least one order of magnitude cheaper than normal regular serverless functions. And for those people who aren't well caught up on this, regular serverless functions are essentially located in the end.

 one region. So it's basically like having a server that you rent for a very short amount of time. So in other words, if you're in Asia and your serverless function happens to be in the US, you're calling all across the world just for that one serverless function. Edge functions would not do that. They would call to a data center near you and actually run that serverless function there. So that's kind of the major difference. And the pricing was something like 15 to 20 times cheaper, the edge would be cheaper than the regular functions. And I think that that actually changes things materially. So now we're not like, it used to be economical for people to render static content and then try to do the dynamic stuff instead of service functions as sparingly as possible. But I do think that this does change the game because of the cheapness, because of the inversion in cost. And that inversion in cost usually tends to drive software. So you see patterns with this when costs change. Every time storage gets cheaper, compute gets cheaper, that actually changes all the layers above them. I think that that might actually start to drive some decisions that we make in front-end architecture and front-end frameworks. The one caveat I'll make before I finish this rant is that you don't only need compute, you also need storage. And so therefore Cloudflare is the only one in the game right now with co-located compute and storage. But I think there are serverless databases that are trying to be good complements to these services. But I don't know. I think that price is something that people should pay attention to because it's a leading caterer of where things should go. That all made total sense to me. Which bit is the unpopular opinion? unpopular opinion is nobody's talking about this yet because it just happened okay like i think i think people have been uh over promised on edge for so long that they're kind of immune to it just like i was in 2018 and now it's happening in 2022 and people are kind of like yeah so what everyone's launching edge stuff not a big deal and they're not paying attention to like no this is an order of magnitude cheaper yeah i mean that's a great thing anything that that puts a dent in the whole jamstack worldview i think it's for kit anti-jamstack is that is that the hot take i i just think i just think jamstack is such a useless concept like it been so watered down because like people realize that oh actually it kind of useful to have i don know cookies and dynamic data that it's been all augmented with all of these these like these extra barnacles to allow you to to do the things that you could do before anyway and i think if we if we're entering a world where you can do dynamic at the speed of static which is one of gashamo's uh beloved phrases then like you the whole point of of jamstack and the whole point like static site generators it's just like there's no benefit to doing that anymore yes so this is why i'm paying attention to this edge thing yeah yeah so i'm excited about that i mean of course you do have this so fly.io recently did a little test where they where your data lives in in one part of the world and you have uh the rendering happening close to the user and in some cases that can actually make your response times much worse because instead of like going to the data center where the compute and the storage are co-located, you go to the edge, which requests data from a data center, there's a round trip, and then, oh, it needs some more data based on the initial response. And so it has to do another round trip. And so you actually get double the response time. And that is, I think, the thing that people are most wary of. We need to figure out ways to get the data to the edge as well. and that I think is probably the next frontier. And there are ways like you can do it with a variety of techniques, but that's going to be the next big churny debate. So specifically storage or what's the churny debate? Like how do you get your data to the same place where the rendering is happening if your rendering is happening everywhere? Yes. You use Cloudflare. No, I'm just kidding. You said it was hard to use. I mean, look, KV is wonderful, but there's a lot of stuff that it simply cannot do. Like we moved away from using KV on the Svelte website for various things because like you end up as soon as you have anything that like you need a relational relational database for you start having to reimplement that relational logic yourself with side tables, and it gets really ugly really quickly. It turns out relational databases are really good, and you can't just use a KV store to model them. So KV is wonderful for documentation and blobs of static assets like that, but it's not a substitute for a database in any way. What about chucking an SQLite database into KV? Oh, it's mad science, maybe. Don't call Farrell yet. So I know that they're working on more stuff. So they're not- Oh yeah, I mean, everyone is working to solve this problem. I'm just saying that having tried to use KV is a solution to this problem in the past like you do start to hit the limitations pretty quickly if you rely on it for things that it is not good at and it's good at a lot of things but it's not good at everything so yeah that makes sense should i have an unpopular opinion i i didn't prepare one but okay so my unpopular opinion is that hydration is not pure overhead i don't know if anyone's seen this oh god we have to recap this yes yeah um all right i'll find it so i i so uh mishko every the the angular creator who is now working on quick at builder io um he wrote a blog post this week called hydration is pure overhead um and it was it was kind enough to to let me see a a pre released version of this and an awesome feedback essentially i i think that like a lot of blog posts about frameworks it doesn't spend enough time talking about trade-offs and i i think that I mean, I guess we're going to have to recap what the blog post is saying. Essentially, so what meta frameworks do nowadays is like you server-side render your application and then as soon as it gets to the browser, it loads some JavaScript and then JavaScript replays the application inside the browser and recreates the state of the page and then starts letting you interact with the framework. And this essentially means that you have like two versions of your app being sent to the browser. You have the HTML version and then you have the JavaScript version. And when the JavaScript version takes over from the HTML version, there is like a period during which the main thread is blocked. And at the end of it your application is interactive Before that it kind of looks interactive but it not And that process can be costly especially if you're using a slow framework or especially if you have a very, very complex page, generally to the point of being somewhat contrived, but that's a separate issue. Quick attempts to skip that whole step. instead it only loads the code or only executes the code for the interactivity once the interaction has actually happened and so in theory you only need one kilobyte of javascript to to load an application of arbitrary complexity but if every interaction is dependent on you loading some code over the network and then executing it, then the interactions themselves become laggy. So you might instead pre-fetch all the code, but then you're loading just as much data or just as much JavaScript as you were before, but you're loading smaller chunks of JavaScript instead of one big optimized core screen bundle. And so the only part that you're saving on is the blocking of the hydration and the memory allocation of the event handlers. But blocking hydration is an implementation detail of some frameworks and other frameworks have non-blocking hydration, some have partial hydration. So that is a problem that is gonna get solved at some point across the board. And then finally, there's all of these things that you simply can't do if you're responding to event handlers lazily. Like you can't do event.preventDefault or event.stopPropagation or certain APIs can only work inside of a gesture handler unless you treat those differently when you're authoring the application to say actually these do need to be fetched and set up aggressively and that leaks into the programming model so um that was a little bit of a of a waffle but um my unpopular opinion is that um hydration is actually a pretty good model and it is going to be what the next crop of frameworks continue to be based on because it has advantages that you can't really get any other way so hydration good hydration good yes yeah i i suspect we're going to see a lot of people who are very focused on these sorts of problems start to treat hydration

 as something of a dirty word. And I don't think it is a dirty word. I think it's actually a very successful strategy. And Sebastian Markwagay, the React genius who joined the cell recently, had a good Twitter thread about this yesterday where he also defended hydration, React's approach to hydration specifically, which does, it hydrates like the, from the top down, it does top down hydration, but of a subset of your application. React has a pretty sophisticated hydration model that maybe we'll steal at some point. But yeah, this is something that front-end framework nerds are going to be talking about, I think, for the foreseeable future. The next big battle. Nah, it'll last for a week. It's not too technical. People need to clash over Tailwind being not CSS again or something. No, so I think out there, interesting variations, partial hydration and selective hydration. I don't know if you have any opinions on those, but there are ways to also cut down the weight of that. But, yeah. I think it's fascinating how, you know, I guess React has been thinking about this for a long time. And there's still this fundamental trade-off of are you making an app or a site? And I know, Rich, you're not too much of a fan of the distinction, but, you know, time on site does matter. And maybe if you're just having an article, then maybe don't hydrate it. And that's kind of the blunt force trauma approach that we do in SvelteKit, where it's just a Boolean toggle of hydrate, don't hydrate. But maybe there's more nuanced approaches that ElderJS, for example, might have approaches where you hydrate partial parts of the site only. But the whole site is written in JavaScript. It's just that only parts of it selectively you can hydrate. I'm interested in that. i guess we'll see what happens next week when yeah all right so uh i don't have a an unpopular opinion uh well i have many but i don't want to talk about them so let's go to picks so my pick this week has already been mentioned uh severance it's a tv show it's so good it's one of the best shows i've seen in many years, probably. And we, me and the girlfriend just finished the last episode a couple of days ago So we a bit sad We want season two now Not in like a year. I don't know. Have you guys seen this? Yeah. So I think we can go ahead and make this a spoiler section. There's been enough time that people can watch it. Has Anthony seen it? I've only seen one episode. Oh. I don't think we can spoil them. All right. Well, my hot take is actually I did not enjoy it, but mostly because, no, no, it's not like a surprising thing. It's just that there's so much anxiety. There's just latent background anxiety. It's a creepy show in a very unnatural environment that just makes me feel uncomfortable. But I know you're supposed to feel that way, but I didn't, you know, I wanted to watch shows to de-stress, not to end stress. Yeah, that makes sense. but my takeaway is that i i would love to have this to work on open source if i could if i could sever myself and have have my innie just working on svelte kit all day then it's not so much that i then get to i is the outie that get to not care about it it's more that at the end of the day i get in the elevator and i immediately come back out of the elevator and i've still got like all of the mental context in order to carry on but i'm refreshed i've had like a good night's sleep because like part of the issue of working on complex projects is like you're constantly losing mental context because you have to have a break for meals and sleep and like maybe even a social life i don't know so like you spend a you spend a lot of time just like kind of re-ramping back up but imagine that you could just spend uh like weeks solidly just plugging away on a problem without interruptions it'd be fantastic is this uh is this an ad for lumen the corporation in the show yeah um well actually it's funny because uh this ties in two of the topics that we talked about in this episode which is you know uh isolation between environments and then the second topic is uh hydration which is sort of hydrating your state from from the previous thing right so sure i pulled it back in yeah so so that's my that's my pick if you haven't watched it you should definitely go watch it because it very good it sort of in the in the same vein as a series called counterpart which is also pretty good and i haven i haven seen counterpart but i compared it for a friend you know who was like what what is this thing about i compared it to get out uh which is also i guess some kind of out of body experience quite literally yeah well counterpart is also a good show anyway that's my pick i'm not going to take up more time so who's next uh yeah so my pick is one of these one is once it's kind of niche it's sort of specific to the uk right now but it might grow into a bigger more international company so if you ever bought a house you'll know that you have to do conveyancing in the uk at least you have to get somebody to go and check it's not going to fall down and the bank is willing to pay the money and the mortgage etc um and it's usually i wouldn't say it's a scam per se but you don't get a lot out of it they offer you three levels you can have the highest level where they do a really detailed check or the lowest level which is not that much cheaper where they basically do nothing they wander in and go yep looks good and then that's that um i was looking online for options because you always get referred somebody by the estate agent they usually are expensive because they're on commission they're getting sort of backhanded from that um this site called house check um it's one of those ones where you submit quote and they kind of get back to you and I assumed it was one of those ones where they have a bunch of freelancers around the UK. But it seems like the conveyances they have are actually employees of this company called House Check, which is interesting. And I've bought a few houses and the conveyancing people generally, you hear nothing from them. You pay some money and then you get a report back and it's very basic and has a traffic light system. With this one, I was surprised because it was a lot cheaper than anything else I'd used. And the conveyance have actually called me, a really nice guy, introduced himself. And he's like, look, is there anything you want me to look at in this house? Is there anything specific? Do you want me to prod anything? Do you want me to like, you know, all the kind of stuff that I would expect from a level three survey, the most expensive survey, I would have the basic survey because really you don't need the more expensive one. And he was very, very detailed. He really wanted to understand why I wanted the house, what I was looking for, had he got any plans, did I know much about it? And he told me the checks he'd already done before he even visited the house. I thought it was really good. I thought it was a really, really nice site. so I figured well you know what of the last couple of weeks that was something that stuck out to me as a genuinely good service, web service and well done to them so wanted to mention it really Cool my pick is the oculus quest 2 which is actually i think it i think it called meta quest 2 now because it's made by meta which which immediately gets a lot of people uh turning their nose up but this this thing um is is 300 plus like more for the charging dock or whatever and it's shockingly good like considering that it's a it's a fairly cheap device in the grand scheme of things the hardware inside this thing is is just miraculous the like there's no latency compared to other vr helmets that that i've tried before um and it knows where you are in your room so that you don't like walk into walls and knock the tv over and stuff um and it's got a ton of stuff for it my only regret is that um vr as a medium has already been taken over by the capitalist machine and there's there isn't really a sort of tinker friendly like linuxy version of this but um as someone who just wants to put a headset on and like do a little workout or play some beat saber this thing is absolutely fantastic and if anyone has any curiosity about this and you have like a six by six foot area where you can stand and flail your arms about i thoroughly recommend getting one yeah is it is it nice as as like exercise as well i'm thinking like that that's what i mostly use it for um there's an app called supernatural which is it's a subscription thing like you pay 180 a year um which i i did the free trial thinking i was going to cancel but i actually kept it because it's so good um and they have these they have these coaches that like talk you through um different workouts and there's a mode that is kind of like beat saber like you're you're using your arms to hit these targets that are coming at you and there's a boxing mode and there's all of these other things um and it's it's genuinely really good fun and a proper workout um so yeah i've i've got i've got very into it i use it like multiple times a week which i imagined it would be a fad and i would stop using it after a couple of weeks but i haven't it's actually become like a part of my routine and i i just think that the next generations of these things are going to be incredible like we're already we've already got these devices that are 300 and give you this really good high fidelity experience it's going to be it's going to be incredible a few years from now if yeah if you if you tried other

 VR systems and you kind of think you might know what it's like it's nothing like them this is like actually a working one it's actually really really good did you upgrade the strap head strap any chance no no I have the the built-in head strap I do have a silicon um mask foam thing oh yeah because I was getting a I was getting a terrible rash with the with the foam one yeah um actually that's a weird bug it causes people to rush it's bizarre yeah so there's one sorry there's one there's one game on it called something of the something of the fight the joy of the fight thrill of the fight or something that's a boxing one apparently that's really good yeah i bought it but i haven't played it yet because i don't have room i don't have enough room to play it because you like you need to have like there's the space of a boxing ring to move about and like right and weave and i live in this tiny brooklyn apartment where that's not possible have you plugged it into a pc yet no so we haven't either yeah you can also i don't have a pc yeah so you need to do gaming pc for it really i think but um my friend's got one and the graphics go like next level his pc is actually a different room i don't know how he connects them but he plays like half-life or something on there and the graphics are like a million times what you get on the on the unit itself and the unit itself is really good but it's crazy crazy crazy yeah i need to i need to get get myself one of these yeah so i also i wanted to mention that uh at svelte summit next week or on this this saturday there's actually going to be a talk about augmented reality built using Svelte. So that might be interesting. Yeah. Is there a thing called Svelte Enriched? That's a library? Oh I not sure I going to come across that Yeah so it WebXR and a Svelte web app Yes, some combination of A-frame. I have no idea what that is, but all right. It's going to be a fun talk probably. Cool. All right, Sean. My picks are just Svelte ecosystem picks. I feel like we haven't shouted out the work that people are doing in Svelte in a while. So I wanted to do a little bit of that. I put a whole bunch of links in the docs just for, sorry, in the show notes for people to catch up on. I guess one of the special features is Kit Docs, which is, I guess, the view press of Svelte. If that means anything to anyone, it's a custom skin of SvelteKit for docs. So I think that's pretty interesting. And then Super Comments is maybe the other one I'll highlight here, which is a super-based hackathon project that actually did pretty well on Product Hunt. So that's also raising the user usage or profile of Svelte in general, which I really like. There are a couple of courses out from Brittany and from Mike, and I kind of put them down below there. And some interesting open source academic research from Real Data. Hamilton, I think it's a, I don't know what he does, but he's one of those sort of research developers that shares in public. So I think they all do very interesting projects. So I just wanted to feature them. This is kind of my little showcase. I picked the Svelte community. That's a good pick. All right. I think that's us. This was a long one, but a great one. so uh thanks rich for coming on once again and uh thanks having me thank you all for uh listening uh and we'll uh see you all at svelte summit bye bye svelte summit.com