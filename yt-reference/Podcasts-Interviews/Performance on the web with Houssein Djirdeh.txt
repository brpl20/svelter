 Hello, everyone. Welcome to another episode of Svelte Radio. As always, we'll start with introductions. I'm Kevin, and I run a site called Svelte School, where I teach people about Svelte, as well as other fun stuff around the web. Hey, everyone. I'm Sean. I work on, I guess, a bunch of things, but currently I'm a senior developer advocate at AWS. Hey, everyone. I'm Anthony. Yeah, I also work at a bunch of things, but I currently run my own startup called Bianc, which I'm the CTO, and I'm also a Svelte maintainer. Awesome. So today we have an awesome guest on the show. Can you introduce yourself? Yeah, absolutely. My name is Hussain. I'm a web developer advocate on Google and the Google team. So I work with Chrome, but I also work in the focus of web as a whole. That's awesome. It's kind of my idea to bring in Hussain on the podcast because I thought he'd be a good guess. Hussein has basically dabbled in every framework ever. I didn't know you started out in Angular, actually, but I dug through your blog and I was like, this guy did Angular? I first met you at Boston, React Boston, where you gave a really good talk that turned into this kind of semi-viral blog post on React performance. And now you're dabbling in Svelte. And then between you and your twin, you cover all the frameworks. I think that's a strategy somewhere. So yeah, I mean, I figured you'd be a really good guest because you have a cross framework perspective that most people don't. Yeah, no, thanks for having me. And I'm glad you mentioned that because I was like, I've never actually properly used Vue, but my twin brother, Hasan, has been really involved in that space. So you started out with Angular. So can you talk us through the history of the frameworks you used? Yeah, for sure. Absolutely. So I only got into web development about four, five-ish years ago. And that happened right after I graduated from university. I was in my first job and I was just trying to get my footing in my first sort of role. And then I sort of joined the web development team and we were building a pretty large insurance platform. And we were using AngularJS. And this was pre-component AngularJS. So we're talking model view controllers. We're talking root scope and bindings and dependency injection and services. So that was kind of my first foray into the frameworks world which is interesting because I think we see a lot of discussion on Twitter and the like about how a lot of people think it better to just first understand JavaScript the basics of JavaScript before you jump into a framework. There's a lot of other people who think it doesn't really matter. Learning is learning. I think that for me was a forcing function for me to just learn JavaScript because I had no idea what was going on in the beginning. so i felt really lost for at least a few months funny story it was me and my twin brother at the same job sitting side by side working on the same project for a year i can really relate to getting forced to learn javascript by doing frameworks right same thing for me right exactly but i think after a few months when i started actually also spending some time learning javascript my own but also trying to understand how angler.js worked like things started clicking and i was like okay, wow, now I can see why it makes sense to use a framework. And then from then on, it just kept growing where I tried dabbling in Angular 2 when it was brand new. And I started learning how to use Angular 2 Plus. And then about a year after that, I started using React. I actually started using React Native before React because I was like, it might be cool to just build a mobile app. And I had an idea for a mobile app. So whatever time that I had on the side, like I would still do my day job, I'll go home. And I was like, let me try to build a mobile app. took a long time. I did it and I only did a super cool. And then I only used React for the web after I used React Native, which is, I think, an interesting direction. But I think it was also cool too, because it actually showed me how the framework worked. Yeah. Yeah. Most people usually do it the other way around, right? They start with React and then React Native. Exactly. Yeah. Exactly. Well, you wrote the book on React Native too. That's fun. Yeah. Yeah. Yeah. So I worked with Devin, who at the time was at Airbnb, but now he does freelancing a lot of contracting work and then i worked for full stack io they're a publishing company but i i wrote an angular book with them first so like a modern angular js book yeah and it was an interesting idea at the time because angular 2 plus was already out and nate one of the main organizers in the publishing company was like maybe we should actually talk about actually building angular js apps using all the new tooling in the angular js ecosystem like how do you build build component AngularJS apps? How do you migrate to Angular 2 plus? So it's a very interesting idea. And I actually saw the merit behind it because I've seen large AngularJS apps and a lot of companies I've worked with and they just trying to figure out what to do with it right So I did that first And then when I actually started dabbling React Native for a bit we talked a bit more and we like hey maybe it might be good to have a React Native book And then I was introduced to Devin And then there was Sophia and Anthony, a few other co-authors, which was nice because I wasn't the only person writing that book. It's always good to have some extra hands. But yeah, that was a great experience too. I obviously remember using Angular 1 as well. Is migrating Angular 1 to 2 pretty much just rewrite everything or is there a better way? Yeah, I think that's a great question. And I I think it honestly depends on what state the AngularJS app is in. If we're talking about Angular 1.3, where it's all model view controllers, then yeah, it's going to be a very hard shift. But if you're using one of the later Angular 1 versions, which are already using components, I think that transition is going to be a lot easier. It's still going to take a lot of work, but I think it's just having that. And I think the book that I wrote kind of also tried to describe that. It really depends on what state and what version of Angular 1 you're using. Sure. And it depends, I guess, on having good architecture in the first place, making the right decisions, I suppose. Exactly. So after React, where did you move? Or are you still stuck in React line? So yeah, I was working on React. And at that time, I was working at a company called Wrangle, which is based out of Toronto. And they're sort of a dev agency, dev consultancy. So I worked on many different projects that use React, a few projects that use Angular. So it was nice to actually shift around and just play around with different frameworks, depending on my project. I've always wanted to just try Vue. I guess I never got the chance to. And then, so I kept doing that. And then I joined Google about a year after in that company. And the role at Google that I had that I mentioned was I'm a developer advocate, which is not your typical software engineer. And for anyone listening who doesn't really know what a developer advocate is, every company I think has a slightly different definition of developer advocate, but they're essentially engineers, but they act as the bridge between the core engineering team that are building a product, building a tool, and the community, right? Like, so there's new APIs coming out, new features coming out. How do you make sure those are being assessed properly? How do you make sure that developers that use those features know how to use them? What if they have feedback? How do you bring them back and so forth? I also think it's very different to say you're a developer advocate for something like the web, right? Because we're not pushing a product. I don't go around trying to push Chrome. No one on my team does it, which is good. So I think that's what's different. So my focus now has been primarily just speed and performance. How do you make sure the web as a whole improves in terms of speed and performance And the nice thing that I think I have is I joined the team from the Angular frameworks So it more so like how do we make sure we have performant React apps How do you make sure we have performant Angular apps and Vue apps? And something that I've been doing for the past while now is, you know, I've been trying to measure and just see the usage of all sites that use frameworks, right? How expansive is framework usage in the wild? and if we can prove that, you know, let's say billions of page loads every week are on sites to use frameworks, I think it's a very clear cut evidence that we improve these frameworks. We end up improving the web as a whole, right? Yeah. To me, this is kind of like a very notable shift. And honestly, that time that I met you in React Boston was the first that I even knew that there was this sort of new direction. I don't know if it's actually a new direction, but as far as I understood. Basically, Chrome hired Nicole Sullivan to lead and embrace the frameworks because previously Chrome was very much like use the platform and all of you framework people are just wrong. And it seems like Chrome is a lot friendlier. I don't know if it's Chrome or I don't know if it's Google. Google as a whole is a lot friendlier to frameworks than maybe three years ago, which has been very awesome to watch. And it enables people like Hussein to actually work on cross-framework initiatives that improve the overall performance of things. we're going to talk about one of those projects that you've been working on the perf track i don't know would you would you call it a website or a project both web app i guess yeah website all right we're uh just gonna take a small break for a sponsor spot and then we'll be back with more on that are you looking to get better at building websites in svelte well you're in luck level up tutorials has tutorials on how to get started. Scott is an excellent teacher and has courses on a broad range of web development topics. So if you want to support the show and learn Svelte at the same time, check out the Svelte for Beginners and Sapper for Beginners courses at svelteradio.com slash level up. So performance track, what is it? Maybe a little background before I talk about that exact app. Actually, at the time of React Boston, that was when I kind of wanted to just to get some data on how many sites that use React and how well were they performing. And I thought it would just be a good slide. It would be a good data point. And Sean, I don't know if you remember, I think I had one slide in my presentation that just talked about, I think, the number of React sites that have a certain JavaScript byte percentage or percentile. I don't remember exact numbers,

 And I just thought it would be a good thing to just sort of talk about how, oh, you know, X percent of React sites are doing this in terms of performance. There's room for us to improve and grow. So I was just looking for ways to actually do that. I was looking for where can I get this kind of information from. And then there's this project called HTTP Archive that initially was built by, I think, a few Googlers working on it. And I think Steve Souders was one of the original authors. And now it's a pretty large initiative. of many Googlers and even external community members are working on it. And the idea behind H2B Archive is it's an open source attempt to track how the web is built. And what it does is it actually has a massive pipeline where it tests and crawls millions of URLs every month. Now, I think we're looking at five to six million URLs. And then it will store data on them, all kinds of data. And it does that by running different tools on them. So WebPageTest is one of them. It runs Lighthouse on these pages as well. And the nice thing is it just has this massive data set where anybody, it's completely public, it's completely free to use, and anybody can download and just look into the data sets themselves. There's different ways to do that. One way that I've been trying to do that is by using BigQuery. It allows you to run pretty simple queries to just run complex operations. And I was doing that, and that's when I started getting some data on React, right? Like how many React sites exist in this five, six million data set how well are they performing, how many JavaScript bytes are they shipping. And I just wrote this super simple Google Doc that had this information for React and a few other frameworks. And I just shared it with a few Googlers internally. And then a massive sort of thread started where people were super interested in seeing this information. And they were like, wow, this is really interesting. We had no idea about the scope of sites to use frameworks. We don't even know how well they're performing. And then I realized, okay, this is a bit bigger than just a one-page Google Doc. So now I was just thinking of ways of now how can I visualize the data? So I had a lot of data in my mind. I was using them in talks like React Boston. And I just didn't know exactly what was the easiest way for people, for anybody, to sort of see this information, right? So I've had this idea of maybe I can build this dashboard type of site. I spent a while coming up with a name, ended up with Perftrack. Probably is not the best name, but at this point it's too late. And I just had an idea of like, what if I can just visualize this data in some way? Also make it possible for people to just pick different months because hw archive crawls happen every month and then what if they can just start seeing trends in this information right what if for example Angular Vue Svelte so forth the authors and developers of these frameworks what if they can actually start seeing how you know sites that use these frameworks are performing And what if they can also see patterns You know let say they notice X percent of their sites are performing poorly in one aspect Maybe that for a specific reason And maybe there something that they can do about that So that was the idea of CurbTrack. I built the initial version about a year ago, also with Svelte. Didn't look like anything it did right now. It was really, it was like a weekend project. And I just wanted to get something up and running. So it had a significant amount of issues, but I just had something up and running. And then I kind of shelved it for a bit. And then I came back and I was, okay, I think now's a good time to just, you know, clean it up and make it public. And I did that. And I think the one thing that I was really hesitant about was even though all the data is coming from public data sources, which is HTTP Archive and Chrome User Experience Report, I think I was just super hesitant to have it out in the world because I knew once I did that, people were going to immediately start looking into it and start seeing things like, oh, framework X is performing a lot better than framework Y on this aspect. I think framework X is a better framework. This is the framework to use. And I think that's just a very unfair judgment to make, right? Like looking at a certain number doesn't mean that the framework is at fault, right? People who use a framework are using a million other things. And so I wrote an about page. I tried to emphasize that significantly enough. I still get that sentiment time to time. And I think it's natural, right? As humans, when you see numbers and you can just start comparing, you're bound to do so. But it's something I've been stressing quite often. And yeah, so like it's up and running. There's been a few contributors already actually adding and helping out. And right now what it does is there's, I think, about six or seven frameworks at the moment. and it shows some core information from hdp archive like you know what are the javascript byte percentiles you know like for example at the 50th percentile how many bytes are react sites shipping and it does it for total bytes and image bytes and then i'm also using chrome user experience report which is another data source and this comes from chrome's internal metrics pipeline and that actually tells you real user information like real user metrics like how are users is experiencing first contentful pain in your site. Like how long does it take them to see the largest element in your site? Are they seeing any layout shifts? And that's all real information. We're like, we're not just looking at lab data. We're looking at how real users experience it. So there's a section of the site that does that too. There's like six or seven metrics where I show that information. But yeah so there this initiative called Web Vitals and Core Vitals which actually only happened about I think we had announced it about six months ago And the idea is we have all these metrics we been telling developers to look at and authors to look at for a while now right Like a lot of people in Chrome are very heavy on these important metrics, not just Chrome, other browsers as well. But we sort of had this initiative to group these key metrics into one thing. And for example, when we say Core of Vitals, we mean three metrics, largest contentful paint, first input delay, and cumulative layout shift and i and the reason why we have that is we think that that's a very good characteristic of performance you're not only looking at just paint times you're looking at other things like layout shift and how long it takes for the user to interact with your page and even though that that might change in the future the metrics might change in the future the initiative is here to stay so there's a section on per track that actually shows these vital metrics and i think that's all super useful for people to see um is maybe this is i don't know if it's a thing you know or not but there's a notion that the service worker now doesn't really contribute to the lighthouse score anymore i was someone was telling this morning that it's become less important yeah actually i'm not super clear i don't know if there's if there's a specific audit that looks for a service worker so maybe i think he was he or she was alluding to that where maybe previously they were talking about a certain audit that suggested using a service worker and now that specific audit is not doing that anymore and i think that might be the case i'm not 100% so i'll double check yeah in terms of performance like looking at the performance scores i think using a service worker or not there's no specific flag that will show up you know it might improve your performance numbers and if it does the number will just be better cool makes sense so i'm on the site right now you can toggle between the frameworks but then in the category section you have the overall framework and then there's the meta frameworks on top of the frameworks and if you toggle between most of them you'll see that basically adding like a static or a server rendering layer improves all of the metrics across the board just just like shifts all the web vitals to the right yeah exactly and i think that was one nice thing to sort of see right like we we always have these discussions a lot of people do about you know does server rendering help does having meta frameworks with all this additional tooling by default like automatic code splitting static rendering um does all that help by default so i think it's just nice to see some data again there's i think a lot of caveats to mention like the you know the sample size is different, right? When you kind of filter like React and Next.js. So I think there's always a lot of those things to keep in mind, but still looking at the overall data, it's still interesting to see how that number actually shifts when you pick a meta framework over just using all of a certain framework like React i have a question about i guess the metrics so to you it might be it might feel like you been advocating for this for a while but i feel like the the messaging especially on uh the new the new metrics like uh i guess first input delay and cumulative layout shifts are like the the newer ones that really only picked up like in the past year or so but i think nicole in some of her talks in in that she i think she did like a tour of conferences last year So one of the issues that we have in framework land is that we definitely take a hit in terms of load time to load more data so we can do client-side routing, right? Nicole was basically saying we don't have a metric to do the trade-off between like, okay, we'll load more stuff in on the first load to make the subsequent loads much faster. Or is the idea that everything should be async anyway, so we'll just chop that off? What's the thinking behind that? Yeah, no, I'm glad you brought that up. Even like in Perftrack, right? Like it's great to see things like, you know, paint times. But just like you said, Sean, when you're talking about something like, you know, using a client-side framework that has client-side routing, we miss a really important aspect, right? Like the fact that when you have your JavaScript bundles hydrated at the beginning, just navigating between pages doesn't need a new document, right? It doesn't need a new server interaction. I think that's just really important if we're talking about frameworks in general, right? Like that's a trade-off you get from having a large JavaScript bundle to begin with. So that's a really missing blind spot right now, you know, in web vitals and core vitals and metrics in general. And Nicole is super invested into that, which is awesome. She's been doing a great job. It's been so nice to have someone like her and other people on the team that are just thinking of that from the lens of frameworks as well as just, you know, sites that client side route in general. So that's a really missing blind spot right now. The good news is Nicole and a lot of other people as well on the Chrome Speed Metrics team are looking into it like actively. I think it's one of the higher priorities right now. And it might take some time, but it will be hopefully, you know, in the near term, not in the very long term, we might start seeing things we can use to actually measure, right? And then it would be nice to now actually look at that and just compare and be like, oh, you're using a framework. Yes, your first pain times might be slow, but you're getting a lot better, you know, in terms of clients and navigations. One thing that we've also been doing in the Chrome team, like we have a small sub team that have been working on improving frameworks itself. And we've been working a lot with the Next.js team, trying to see if we can have that framework improve significantly. So one thing that I did was I actually added some

 performance marks and measures into next.js's routing framework. I just had like sort of a custom identifier so people can actually now measure. And if any next.js developer could extract that information themselves for every route change they make, but it's just next.js specific, right? Like how do we scale that now? Do we do that for every other framework, every other router, right? Like do I jump into React router, add marks and measures? We could, but we're also thinking of ways to just have it at a high level instead of trying to do it for every single routing library and framework that exists, right? Makes sense. Yeah, that'd be awesome. Yeah, I think image, especially for cumulative layout shift, the image placeholder, whatever you call it, every framework is going to have to have an image component. So Gatsby has had this for a while. Some of your colleagues opened some PR to Next.js. It seems like it's a really good thing to have. I think we need some primitives at some higher level. I don't know what that looks like. For sure. No, that's a great point. Yeah, I think it was Alex, Alex Castle, who I think opened up the RFC on Next.js for an image component. but yeah like it's super nice to to see some core framework doing this but i agree this might also just mean right like if every framework is using a component like that maybe we can have something at the web level that can do this right but we have image lazy loading right i i haven't actually used it but but doesn't that do that yeah does that already like why do we need a separate component yeah yeah so we do have yes we do have an api now to natively lazy load images so instead of you know using third-party libraries or or running apis like intersection observer you can just have a loading attribute in any image loading equals lazy and that's it so that's super it was super like when we announced it on launch it was great i think the feedback was super useful a lot of people had you know some interesting feedback about what are the thresholds can we control how like you know as a developer right and i think that now find grain control is not available yet but at least the functionality is there so i think the image component is it does take lazy loading but it also looks into a lot of other things. It looks into image sizing and responsive images. It looks into having an appropriate placeholder. So I think there's a lot of things that an image component in a framework like Next.js could do. And the idea I think behind Alex's proposal is as a developer, I wouldn't need to worry about any of this, right? I just want to have my image, define my image, and then let the framework take care of all of it. So lazy loading is one thing, but there's just a lot of other aspects on top too. Yeah. Yeah. Lots of features. makes me compare it to react suspense as well They intentionally released it sort of without any knobs And like it was just it was just like a suspense component only for loading components but you actually like a lot of people actually want more features It's just that we don't want to release that yet because we don't know what it looks like. So, so I kind of compare it that similar API design. I don't know. I like, I like API design. Yeah, no, that's a good way to think of it too, for sure. So going back to the data on the, on the site, what kind of conclusions can you draw about frameworks and specifically why is svelte the best yes and preact to be honest right it's also doing very well i have to make an observation here because before we start like this svelte has the split is really weird on svelte so most of the applications like two-fifths are really small and then one-fifth is really big and everything else is in between and it's weird and it makes me think that maybe there's a bunch of people using svelte because it's just like super you know super compact and small and there's a bunch of people are using it just because it's really nice to use and they get a good dx but what made when i was thinking about this through i think that one of the things that thought i thought was maybe it's just because there isn't as many huge sites like massive like the airbnbs using svelte yet that maybe the results are a little bit swayed in terms of there's a lot of hobby projects out there which are quite minimalistic and maybe it's not quite the split that i think it is i also wonder about double counts like what if a site is using two frameworks like in mid-transition 100 yeah yeah no anthony like also that's a great point right like i think if you just think of it as from you know the perspective of a typical developer working in a in a large scale medium-sized company or whatever and they have to build i don't know an application that's going to last two or three years right and i'm sure they're having those discussions they're probably like should we use something like Svelte? And then when they look at examples, they're probably like, I don't know if it's worthwhile. Maybe it should do something React. So I 100% agree. I feel like we definitely need to keep thinking about that too, right? Like that skew matters. If you're comparing small hobby projects from tech savvy developers who want to try something new versus these large scale massive apps, right? So that definitely matters. Also, if you look at Svelte and PerpTrack, the sample size is tiny for I think a number of reasons. One of them being, I don't think it's a very easy way to detect Svelte, right? So all these tools here, they rely on some detection methods. Unless I know for certain that detection methods are super pool proof, I'm hesitant to add. How is it detecting Svelte by the way So right now it actually looking for I think Svelte identifiers I was thinking that probably good That pretty good That pretty good I sure it good but I sure probably maybe I don't know if there's going to be a false negative. I'm sure there has to be at least. But I think that's probably the best way now, right? That we have now. Yeah, I reckon right now, yeah. Yeah, I mean, if there was a feature request to change that, to be able to change that prefix, we haven't implemented it yet. Oh, really? I didn't know that. Okay. I don't know, then it might do something else to results. That might definitely change things. i'm looking at the like the data sets that are available so you currently have two two data sets per framework right if that makes sense april may so are there are there any plans for adding future months or past months at this point i guess yeah yeah absolutely so yeah hd archive and in and chrome user experience report they generate new data sets every month i'm just meaning to get the chance and the time to do so but i will be adding all the newer data sets and the idea what i'm hoping is after a year or however long anybody can use the site and just sort of see if things have changed right month to month to month i think that is just a super useful thing to see right as a framework author or developer just to see if there's actual changes in in the ecosystem um but yeah no i definitely plan on adding new ones i think the one thing i do want to mention this too is like these crawls happen in the first of the month but the data becomes available i think around the third week of the month so it's going to be staggered a bit but eventually i'm hoping to always just have you know every month there and we can always just look back and uses it as some sort of canonical resource of how well framework sites are doing or if they need improving is there room for folding this project into http archive because i mean it's kind of like http archive also has some other metrics and then also tracks them over time. Googlers kind of own it. Like, is there a path there or are they just like completely separate? Yeah. So when I built PerfectTrack, I was kind of just building it from the standpoint of, oh, this is HTTP Archive, but kind of like my visualization take on it, right? Like I just wanted to have some certainty points. And you're right, because if you look at HTTP Archive's website, right? Like there's a bunch of different reports. There's like a state of JavaScript report, a state of images report and they just show some nice high-level graphs on some data points so that's kind of doing what perf track is trying to do on on a lot of other things which is super cool and actually shows trends so i did have the idea of maybe eventually maybe it could be cool to have i don know a state of the frameworks report right and perf track doesn have to be its own thing And it could be something that just lives in the HTTP archive website And I been talking a lot with Rick Viscomi He actually helped a lot, helped me build Perftrack because he's built a lot of similar tooling. I don't know if he's made public yet, but looking at CMS platforms, right? Like how well are sites using WordPress doing? How well are sites using Shopify doing? And so forth. Oh, that's important. And it's super important. Wix. Wix, yeah, Squarespace. And the list goes on. magento drupal but i think we're both now talking about it's cool that we have two separate things but maybe we should combine them right like combine efforts i think people would love to see all that information for sure probably reduce the the individual lift for you as well especially like manually syncing over another similar sort of initiative that i kind of compare this to is tooling.report which was also cross i guess cross tooling like a little bit potentially political, but they put a single number under every logo, you know? And it kind of makes it like a little bit of a contest. And I know you want it to be, you know, very sort of like, yes, there's many dimensions on which like a framework can be evaluated. But like, weren't you tempted to, you know, reduce everything down to a single number? I really would. I can't lie and say I'm not tempted to do that. I personally would love to see like a high level number, right? At least it gives you some sort of indication on how well they perform with all the caveats, right? But I'm just so scared to do that because I know if I do, we're going to start seeing threads and hacker news, right? With like, oh, take a look. We have Angular or React or Vue performing at this number. Can you believe it? And I'm like, I don't know if I want, I'm ready for that. I think it was Jason and a bunch of other people. But yeah, what they did was they just got the maintainers involved. So everyone had buy-in. And then everyone's like, okay, well, you know, these are some things that we think are valuable. And then we'll try to be better on those. I think it's more about buy-in than about not ever doing it. Great point. You're right. And maybe it's just more so like how we can surface that information. And I'm glad you said that too, because I've been talking to the Angular team for a while. And they've been giving me some great feedback. You know, they're like, our total sample size looks interesting. They're like, we're pretty certain it's way larger than that. There's something going on in the detection method. So like, they've been helping me try to figure out if there's something wrong. And I don't blame them for thinking that, right? Yeah, they're at 0.4, and it could be like maybe it's just Angular 1. Yeah, exactly. The way I've done it now is just specifically just Angular 2+, so it's not including Angular 1. But even then, maybe there's something missing. Maybe there's something I'm not doing that's missing a lot of Angular sites.

 So you're right. I think getting buy-in is so important, especially also if we end up trying to show like numbers or high-level indicators that just tries to sum everything up. Yeah, I like that. That's a good way to put it instead of just saying no. Just another question actually around the data that HP Archive uses. Where does it get its list of URLs from? Like, how does it pick them? Yeah. So there's some certain criteria. I generally don't know if the specifics can be made public, but it literally just finds. So it curates a top list in some sense of popularity. And I think when it started, it was much less URLs. I think it was only about a million. And only about a year or two ago, they kind of moved it up to about five or six million. And it gets the URLs from Chrome User Experience Report. So even though, and this might, it's kind of confusing me at first, but Chrome User Experience Report is a separate data source, but it's sort of also the source of all the URLs. And it's kind of like just a public mini version of all of Chrome's internal metrics pipeline. like we have our own internal metric pipeline this is just a small public lens to it and there's some specific criteria one of them that i know definitely is true is i think usage statistic reporting has to be enabled in the browser so like there's there's definitely some certain things like that and then that is all given to hd archive hd already gets that list of top urls and it does what it needs to do and that's also something to keep in mind because yes it's a lot of urls but we're also not taking into account the millions of other urls that are not included into the dataset. Sure. I guess we'll talk about TechStack. That's the big one. That's the last question. What did you use to build this? I used Svelte to build it. Yeah. So I did spend a little time trying to figure out what I wanted to use. The nice thing about just building projects for me now and then, I can dabble and pick something else. But I've never used Svelte before. And I've always wanted to. And I thought this would be the perfect way to just get familiar with it. It's not a small app, but it's not very massive either, right? Like it's got some of your basic components. Like I got to worry about how components work together. I got to figure out routing and all that. So I thought this would be a good exercise to just start thinking about and how Svelte works. And yeah, so I picked Svelte. I was also really considering using Sapper. Didn't. And now I kind of regret it. So I've been meaning trying to figure out how I can add server rendering somehow with Sapper, which I hope wouldn't be too bad. But yeah, and it's been a great experience. Like I, yeah, I definitely enjoyed using Svelte a lot. And I feel like the one thing that I really sort of enjoyed was I trying to think of it as like if I wanted to learn a framework as a brand new developer i felt like it was just so intuitive to just create svelte files add a script tag add a style tag add your markup and that's it like i didn't have to worry about jsx and have to worry about dependency injection i was just like if i was to learn a framework from the very beginning four years ago and if i just saw svelte the way it was i'm like this would have been perfect for me but yeah that was kind of my like my first thought using spelled that's that's good good to hear that's kind of that that's the kind of the goal i guess so that's really good i think the phrase the phrase that appealed to me from from rich was js like html is the fundamental sort of language that of the web uh that everyone learns to speak first before basically everything else and every svelte file is basically you know a tiny superset of of html so it seems like a very natural progression like i i almost want to yeah i like i don't know if it's like appropriate but But beginners, if they want to start with Svelte first, I think that's a really good idea, actually. Yeah, 100%. I feel like now if somebody asked me and said, hey, I want to use a framework, I just want to learn how component scoping works, what do I use? I think immediately I'd be like, just try Svelte. Instead of suggesting, hey, use this other tool, but you've got to worry about this and that too, I've got to learn that. I think Svelte would be a very nice thing to just try out at first. So no, I agree. I agree for sure. So I personally went from React to Svelte. And I was so amazed by the developer experience. Right. So it's really nice. I went from Angular 1 to Svelte. Oh, wow. That's interesting. Yeah. This is back in the day. Well, I mean, I was traditionally a backender and I sort of had to do frontend because I was running a startup based by myself. So I sort of learned frontend. I learned Angular because I kind of knew a bit of it anyway. And I have to say it's like night and day going from all the injector patterns and stuff and services. And we'd actually componentized the Angular app, the Angular 1.0. I have no idea what it even was, 1.6 maybe, I don't remember. But it was componentized, but it was just a lot of wiring. And we were trying to do the same things that when I looked at Svelte, I was like, well, it's already there. It's already done. So it was an easy sell. For sure. When was it? Was this like a number of years ago? This was when Svelte 1 was the thing. So double braces, lots of handlebar type stuff and lots of nice bugs to play with. Yeah, but it was great. It worked you know and I started using it for like widgets to put in other sites because it was perfect No runtime that kind of thing And then when I had to go work on the main app I was like oh how do I move this How do I move this stuff now That's when it gets kind of when you start dreading it. But once you start, I feel like it's not as bad as anticipation. Yeah, yeah, absolutely. Anthony, I got bad news for you. Hussein uses a router, but it's not Routify. It's this thing, Svelte routing. It is. Svelte routing, wow. I mean, to be honest, there's so many routers for Svelte. It's unreal. None of them are official, but there's so, so many. I think Rootify is brilliant. Rootify, Routify, I think it's fantastic. But I only use it in one project as well. Okay. I use PageJS a lot. PageJS? I've gone with the sort of traditional. Yeah, just like a general one, right? Yeah. It's just a vanilla router, yeah. Just kind of works. That's pretty nice that it works out of the box, sort of. But the fun thing, I guess, about Svelte is, again, because it's quite simple writing your own route is not that difficult and so a lot of things i've done and a lot of things my friends have done actually we've just used the svelte component with this and you just change the variable past in and it's done like your routing's finished and it's it's that easy and it's like well do i need a router maybe not yeah yeah like to be honest i i just wanted to find something and i found svelte routing and i was like okay i think this might work uh i think it does what i need to do but no like i just i think that was the one thing i i kind of always had to get used to just know first in class router i don't know if rich or anyone involved right yeah i can imagine yeah there's a plan we haven't we haven't really picked which one it'll be yet or whether it's a ground up rewrite but it's definitely and it was it was definitely an opinion of the you know the maintainers that we weren't going to have a router let people bring their own let's not be opinionated about it and it's just the amount of pushback from the community and and demand has been right we we probably need a router a lot of people come from view and expect a router got it that's usually what i hear at least absolutely or anything else actually because everything else has a router right everything else yeah yep yeah so i was going to ask you like some more general questions about where you think the web is heading in the future. Do you think we're getting heavier or lighter sites in terms of JavaScript payload? Yeah, I think we're definitely getting heavier and the trends are showing that it's getting heavier. And with that being said, browsers are improving the JavaScript engines, right? Like parsing compiling even executing are improving So for example if you look at let say Chrome 41 versus the current version of Chrome and try to load the same bundle of JavaScript you'll notice how significant the change has been. So I think that's also progressing and improving, which is great. But with that being said, I do think sites are getting heavier and heavier and I don't generally know if they're happening proportionally. So I think that's something we, yeah, and that's pretty much my job and a lot of other people that I work with, right? Like how can we course correct that? It's not going to be easy, but it's going to take some time. Yeah. What are people putting on their websites that's so heavy? I'm glad you say that because, you know, coming in from a frameworks angle, you hear a lot of people that are very, you know, very, I wouldn't say anti-framework, but that's essentially the first thought. They would be like, oh, you're using a heavy framework. It's immediately costing X jobbites on your site. Consider you something else. And that's not wrong, right? Like if you're using anything that has an initial cost, it's going to really affect your initial performance. But I think when you start looking at also like data as a whole, you realize that that's usually a very small percentage of the total. And you look at, for example, third party dependencies and third party bloat. I've seen so many statistics, some of them being 70 or 80 percent of most sites are coming from third party scripts. Right. And then you start seeing things like that and you're like, wow, OK, I spend so much time telling people what to do with their first party code. but that's going to pay on comparison if they're fetching you know a thousand scripts right that are doing a million different things bro i think that's a very costly thing that hasn't improved in so long it's only getting worse and like i know a lot of things are happening now in chrome as well as other browsers but that's something that definitely needs to improve how can we improve the dependency bloat that we have today i think i think it's interesting because when i started bionk again i wasn't i wasn't particularly a strong front ender and i sort of was learning you know i was sticking dependencies in because i didn't want to run my own low dash or anything like that and the moment you put low dash in there even with the tree shaking it's not that small and and i saw it in there and i thought this is i don't need this i'm using like three utilities out of it and i pulled it out and i went my bundle went from six megs to about two megs and i thought well hang on a minute how can i i can do better than this so i started looking at all the dependencies i started looking at moment for example moment's huge dayjs is basically a drop replacement and it's two kilobytes. And so I started on this path and I found Angus sees a collection of libraries called just where it has a bunch of stuff, just one thing that replaces, that replaces low dash. There's moment. There's like a, there's a whole load of like alternatives.

 but they're not very visible, I find. People always come to Axios, for example. Axios fetch is in the browser. That's zero kilobytes, right? All the stuff is kind of built in. Why isn't there a bigger kind of visibility? And I think that would be a good thing to prove. Is this just IE11 or is there a bigger story? Like why are people still using this stuff? Well, I think it's just browsers, isn't it really? It's browsers and string prototypes, things like that. They don't, and they probably shouldn't have every single utility in the world on top of them. it's getting less and less important. Yeah, when it comes to, when we talk about IE11 or other browsers, polyfilling is also a huge issue. I think a lot of people, when they build their websites and they need to support legacy browsers, they end up including so many polyfills that the vast majority of their users who are using a lot of newer browsers don't need. And that's a huge one. So there's been a lot of things that we've been advocating for, a lot of patterns, like module, no module. I don't know if you guys heard of that, but it's the idea of adding a module attribute to a script that doesn't have any particles that's using newer syntax than having a no module script so browsers can now selectively pick the right one which makes perfect sense but a few folks me jason gary and other field people are actually looking at ways we can make that even better because although that's super useful a lot of third-party dependencies in general are being published using legacy code right like as if somebody who pushes something to NPM, they're not trying most, I think most package authors aren't trying and thinking of ways of using the most newest syntax, right? So they're just trying to make it as widely as usable for everybody, for every browser, right? And they just want to make sure that anybody can use a package. So I think that is also an angle we need to be looking into a lot better. But yeah, so I think that browser support is huge. And I also think part of it too is just knowledge, right? Like, Anthony, like you might be super savvy enough to actually spend some time looking into your bundles be like why axios is here but if you think of the millions of sites out there and the millions developers using millions of like legacy applications they probably don't even know what's actually happening within these beneath the seams right so i think just developer knowledge is a huge factor yeah i think i think actually one of the one of the hardest parts about that process was and i think it was using webpack at the time was actually installing the plugin that gives you the report of what you're sending a bundle that was probably the hardest bit of the whole process. And I think that's almost, it feels like it should be built in almost now, like a flag you know because it really important It really important 100 You probably using Webpack Bundle Analyzer or something similar like that Something like that yeah Rings a bell Exactly And I agree. This talk about dependencies really makes me want to build a small website that just shows you alternatives to all these heavy, widely used packages. That would be really nice to have. You may not need, and then just fill in your dependency. Yeah, that's a great idea for it, actually. there is a guy who's done this it's very unknown small project right now but it's the groundwork is there well can you name it like it's gonna stay unknown if you don't i wish i could i have to search my github stars or maybe edit my pics yeah it sounds sounds like something we could promote at some point you know i have a couple thoughts on this uh you know there's there's there's a few things so one is i think there's a culture that I really like in Svelte, where Svelte is most people's second or third framework. Most people don't come to Svelte straight away. So they're a little bit more thoughtful about dependencies when they come to Svelte, partially because they come to Svelte for the bundle size reason. And then I just see all the tools in the Svelte ecosystem tend to be a little bit more conscious about the weight that they add. And I think it's something that comes from Rich Harris himself. He wrote a blog post, which I really like. I think he called, he said, I think it's called something like small modules, maybe not, like, where it kind of questions like this whole culture that we have of like, okay, well, we'll import this one thing that imports this other thing. And it's like, it's like, yeah, it's a Unix philosophy, but there's a whole bunch of defensive coding in there. And we don't really audit what we bring in. But it does tend to have this, like, weird upside, like, you know, like stranger things, like, there's the normal world that everyone else lives in. And then there's the upside down world, where like, it's just like the duplicate versions of every, every, every, every every library that people use most of them are done by luke jackson for some reason to me that's not the world i want to live in as well because like i want everyone to kind of use like a best-in-class tool but maybe maybe it's just too difficult at this stage the other thing the other thing that comes to mind uh i've i've sort of mentioned it on this podcast before but i think since since you know he's your co-worker uh ilia gregorik who wrote high performance browsing networking but he also he also talks a little bit about how we're never going to reach the whatever, like 50% of developers who will just continue to build big sites the way they always have Then they just always it just always has worked that way So they just keep doing that And if you really want it to work you have to kind of build it into the platform and i don know what the conclusion is but like maybe this is a problem that reaches beyond frameworks and and goes right into browsers for sure yeah yeah my frameworks i think plays a part but there's definitely a lot more to it 100 percent um so it seems like uh anthony found the I did. I went and looked it up for my stars. Yes. It's really hard to read out verbally. We'll tweet it as well from the account, right? But it's, it's pioneer Pat with a zero after the PI, uh, smaller dash NPM dash packages. Yeah. Have a look. It's very, a very short list right now, but it's, if a few people contribute to it, it'd be amazing. I kind of call this bending the curve because it's very 2020 to, to bend curves. And, but like, I thought we were having some impact. I thought things were leveling off in terms of, I think one of the other discussions that is coming up is this separation between people who build sites and people who build apps. Because people who build apps, you're trying to compete with native apps, right, which are hundreds of megabytes. And they don't care because they just do the initial download. And it's kind of unfair to hold all these sites on the same benchmark and give them the same tools to express what they need. So I think there's this discussion about like, what if we had a new document type that was like document type app or something? i don't know i don't know if you've seen that but there's something that rich harris has also gotten into yeah i did see some discussion around there yeah i think a few other folks also kind of like wrote some articles exploring that mindset yeah i remember seeing that which is super interesting like i like yeah i'm just i'm super interested in that kind of information like it make it makes sense to think about things in those lens but it's also like how do we make sure things like that could be sustainable in the future but yeah if you're thinking about predictions i feel like that's one thing that i feel like i don't know we might start seeing in i don't know five years time if that's not too conservative yeah all right i think that's it do you guys have any picks i have one we didn't warn you we never warn our guests i need to start doing that i'll go i'll go first then it doesn't have to be tech related it can just be anything that is It could be anything. It could be anything. Yeah. Okay, nice. So I've picked the computer mouse today. It's called a MX Vertical. It looks kind of funny. So think of it like a regular mouse, but you turn it 90 degrees. So you kind of hold it in like a natural way It really nice Nice for underarms and nice for your underarms what does that mean well i mean where are you putting your mouse man like what oh it it's it's like the it's like the the angle you have your arm in gets better if you turn your hand up 90 degrees yeah sort of hard to just to explain but it seems to be working for me at least i'm enjoying it nice yeah no i think i definitely need to do that something like that for sure so uh my pick is going to be it's actually weird it's another weird one i always like it's a tradition now that i have a weird pick that doesn't make any sense but it's it's a laptop i don't yet own i have used one before and i have seen a couple of friends who've got them and it's the system 76 their new laptop the name has slipped me by right now i've completely lost the name but it's it's their kind of alternative to the dell xbs and the hbmb it's a very thin ultra book but the nice thing about it is actually the components inside aren't soldered to the motherboard so it can you can configure the amount of ram you want but i'm going to get one with 40 gigs of ram because i've been stuck with this dell xps which has got eight gigs of soldered ram for so long and it it really struggles it's struggling with this it struggles with a lot of things it's time to upgrade and i think that soldered rammers should now be a thing of the past so i'm looking forward to being able to slot some new sticks in there and stuff and it's got a really nice spec it's very lightweight it's lighter than the xps and fact it's i think it's naught point it's 100 grams lighter so it's just over a kilogram which is not bad for a sort of very modern i7 laptop with 40 gigs of ram and you can configure up to a four terabyte ssd which no one in the world ever needs let's face it i'm afraid to ask this but how do you know do you guys know how many hours a day you spend on youtube too many way too many you can actually draw it up on your on your on your own stats like i i have to you just go to you just go to youtube app and then you just hit to time watched and it uh and it shows you the hours a day so i spend roughly three hours a day which is which kind of makes it my second most used app after uh my podcast player and so i'm gonna i'm just gonna pick youtube premium just because like it lets you skip ads it lets you download stuff and i actually got the family plan so my dad works in aviation which side side note is not doing well uh so so he's just been spending all day watching youtube and i was like i saw him and i was like he he's just like sitting through a lot of ads and i was just i just got the family plan and it's it's super cheap it gets a lot of entertainment and there's a lot of quality stuff on youtube and i i like it a lot so figured i'd pick a google product here

 Nice. Yeah. I think I have one. It's going to be really random, but I don't know if you all use certain weather apps on your phone to just track the weather. If you just use like the default weather app that your phone comes with. But somebody recently just told me about this app called Dark Sky. They got bought, right? I think so. Yeah, they did. Yeah. I didn't think I would need that kind of information, but I was like, you know what? Let me just chip it a couple of dollars. I think it was the first mobile app I've ever bought, but I like ever. That just goes to So like how I never try to buy anything on my phone. Yeah. But I was like, oh, it's pretty cool. Cause it kind of shows like some super hyper local information. I think it goes down to the minute of like, whether it's going to rain, whether it's going to snow. So I've been having fun just playing around the app. But yeah. Dark sky. Random flag. Does it, does it work? It does work. Like the predictions? Yeah. But yeah, I thought you meant the app. I was like, yeah. The app definitely works. Predictions do actually. for like ever since I've gotten in the past few weeks like when it says it going to rain at 7pm it rains at 7pm so it definitely not 100 accurate but it definitely like surprising me that for sure I have used Dark Sky in the past actually and I found it very very accurate It was almost on the minute, which is quite amazing. It's a great app, yes. It's sort of scary at the same time. Yeah. Well, I thought it was gone because when Apple bought it, they seemed to sort of make it disappear. So it's good that it's good to still around, I guess. Yeah. Could be only Android, maybe? No, I have Android too, but I have an iPhone now. I have it. So Apple did something good. I have to get it, then I get it again. They actually have a bunch of really cool open source libraries as well, such as the time zone converter, which is really useful. So it's worth checking out their GitHub too. That's super cool. I did not know that. Wow. Okay. So I think that's it. Thank you, Sam, for coming on and talking to us about... Studio audience. The studio audience is very excited. Very excited. Thank you for coming on and talking to us about Perftrack, the web, and any and all topics we spoke about today. For sure. No, thank you guys. This was great. This was a good chat for sure. Thank you. Awesome. All right. See you next time, listeners. Bye. Bye. Bye.