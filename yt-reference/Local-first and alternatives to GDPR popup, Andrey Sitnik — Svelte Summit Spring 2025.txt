 Hello everyone. Yeah, the Spanish sun could be dangerous. So my name is Andrey Sittnik, and today I want to talk about why and how we as a developer should care about user privacy. And, you know, many people from United States often start to think at that moment, like, oh, please, can we not talk about the politics? It's a tech conference, can we speak about the tech? And this is a great topic to discuss. The relationship between software industry and politics. How many people here use open source? Definitely everyone, yes, we are in the Svelte Conference. And the funny part is that open source is not about free software. It's not about having GitHub. The core idea of open source is to be able to control your machine. To be able to know what exactly is happening on your machine. To own your machine. And can we answer truly that we today own our MacBook? And this is a good question. Do we understand the real idea of open source today? But open source was completely politics. Hacking is politics. Hacking is also not only about stealing money, but also it's mistrust the authorities. And this is a very political motto. But my favorite quote from the golden age of computer science is a quote from the people who created TLS. Like, you know, every time when you go to HTTPS website, this is their job. And they have a very good quote. the decision we make about communication security today will determine the kind of society we will live tomorrow. And this is a very cool idea to understand that we are not just closing tasks in our JIRA, but we are shaping the society where our children will live. So software industry was always about politics. It was always about principles. And it's only a current generation of Silicon Valley start to think a little different. This is a very interesting movie called Hackers from 90s, and this is how society saw software developers in the 90s. And this is how they see us today. And it could be a problem of society but let be clear like definitely not only a society problem We definitely similar to that one So why you should care about politics principles etc First, because you're creating your world for yourself. If you're helping a company to create, you know, a screen tracking software, to, like, be sure what people are doing, then the software will be used against you. Second, working just for money, make a big hole inside your soul. You know, working for fun, for some principles, it's really easy reasons to have friends, to have a community, and also it's good to have some fun. I think that many Svelte developers understand it because we are doing Svelte not because people pay for that, but because it's cool. But there is a lot of revolutions to make. The privacy is not the only revolution. Svelte is also a very good revolution to follow. And there is no way to compare one politics idea, one revolution to another. Everyone is good. But I will try. So, why you should care about privacy as a developer? You know, there is a lot of misconception about privacy. For instance, that I should not care about privacy because it's the problem only with advertisement. That if I will, like, you know, stop these trackers, I will have worse advertisement in the internet. And this is the only problem. Unfortunately, this is a big lie, because the main problem of privacy, of tracking, is not Google and Google Advertisement Network. The main problem is data brokers. It's a company which buys data from many small applications. Then it aggregates it to one data, tries to find some correlation between this data, and then sells it to very shady clients. There is a very good example of that. It was a data broker called Xmode, and in 2020, the journalists found out that this data broker bought data from many small applications, like Koran application, Muslim dating app application, cracklist application, pretty big one. And then they aggregated and sell to U.S. military contractors. What could be more shady than selling Muslim data to the U.S. militaries? Okay, but you know, my company doesn't work with data brokers. I okay because we don sell the data Unfortunately this is not how it works in reality as well The main not only a problem of selling data If you store anything inside database it will be leaked Because right now, there is more and more data bridges, data leaks every year. You will push your database password to GitHub. Or people will find out a way to go to your servers. So, unfortunately, data leaks is reality. If you save anything to your database, it will be in the Internet at some point. There is a very good example. There is a company in Russia called Yandex Food Delivery, and they had a data breach in 2022 when all food deliveries were leaked to the Internet. People even create a very nice website where people could put your name or address and see where did you deliver a food. So, for instance, if you were somewhere with someone and ask a delivery, they will track it. Imagine if your grandmother, babushka, gave you some nice food and you told her that you're not hungry. But then she can go to this website and find out that then you order a Chinese food. It could be pretty dangerous. us okay but you know like in our company we don't like care because we don't uh save private private private data because like we have saved on the email or etc something small yes again this is not not save you from the problem because there is such thing called big data when we aggregate data from multiple sources and can make a very painful conclusion from it imagine if you have a application and to show the direction to mecca it means your location that's all it's only know that you're muslim and location it doesn't know your name nothing but then there's another application working with the same data broker which uh have your email and location to put your on the map or like to put you on like instagram to put it inside the images and we can combine these two data and understand your email and then use some data leak to find your real number your real name. So even if you have, you know, only not private data, but if it's like something which could be trackable, then it could be combined together and for making very dangerous conclusions. How many people use Google Analytics today on the website? It's okay, we are not ashamed. Like, the main problem with Google Analytics is that it tracks not users on only your website It uses global user ID and tracks users between different websites And it's about 50% of websites using Google Analytics. And also Google Analytics can use referrer and clicks to connect, to go to the next step or a previous step. And I believe that Google knows about 70% of your path through the whole internet. not a website the path the uh where you was and where you go and it's pretty creepy to be honest okay another myth if you have nothing to hide you first you have nothing to fear yeah like i'm completely open like i don't care about privacy the main problem that there is other people who have problem with privacy for instance uh twitter employee was bought by the Saudi government and sells the data of Saudi dissidents in the Twitter to the government. Again, if Twitter would not save this data, it would be nothing to sell. Yes, but they put it to the database. And as a result of this data leaks, one woman was sent to prison and another man was killed. So unfortunately, the privacy is not, you know, advertisement etc people could be killed because of how you manage your database how you design your database what data do you decide to put and it's not only you know saudi arabia case in netherlands europe there is a company who built fashion recognition system in russia so when you go to protest they'll do recognize your face put your two database and policy will not grab you on the street in during the protests there will go to your home a week later but there is even a more creepy case in spain where we are inside right right now the proton mail and apple disclosure user data and this this data this user was put to the jail because of his connection with peaceful protest during the california independence movements and if apple would not save this data, again, this person would be free. And even if you don't work with politics, politics could work with you in the Soviet Union. LLMs could change your mind on important politics topics twice more effective if they have your private data. And it's, again, very dangerous.

 So what we can do as developers? Another topic. You know, in the 90s, the internet was a good place. Today, the internet is a shitty place. It's full of pop-ups. It's very hard to go to the website. Yeah? Like, somebody made the internet a shitty place. But am I on the developer conference? If we made the internet a shitty place, we created all the pop-ups. so what you can do to improve privacy first step remove gdpr pop-up from your website at next monday it will be a nice time timing but again maybe of many of you could say but you know the european bureaucrats with this shitty law they forced me to to put these pop-ups i did not want but this gdpr law shitty Lloyd forced me to do it in reality there is no pop-up world word in the gdpr law gdpr is technic is technology abstraction law it also doesn't mention cookies by the way the idea of gdpr is very simple that private data is belong to user and you can save it only if you have a right to do it for instance if somebody will give you permissions. So the idea is very simple. Don't track users. But what silicon value made from it? Why we have GPR popups? Because we prefer to punish our users until they will agree to give us private data. So to be honest, GPR popups is a dark design pattern. it's a punishment for user who try to be care about their privacy and like it's designed in the way to interrupt user uh goals the ur is completely unclear and you know all this like cases when you need to click more to cancel it to make it to say no by the way it's completely illegal gtpr laws say that it should be the same amount of action to approve and disapprove so if you have even that that type of pop-up you double shit. Anyway, so, and it's very easy to make websites without GDPR pop-ups. Just use GDPR compatible analytics remove the pop and ask about user permission when they do some meaningful actions for instance sign up during the sign up they must to provide user data to you and at that moment you can describe how you will save it who will have access to it and they ask permission for optional uh protesters and there is a lot of analytics without pop-ups and they are pretty capable they could track sources they could track events they could track campaigns they could even connect the different events so you can like and understand how that exact campaign leads to the actual sales so it's very easy to do it with good analytics they cannot do only two things they could not track exact user id they could not save to not to the cookie anywhere the unique user id because it will be tracking, because we will have a history of the user actions. And they could not do remarketing. How many people know what remarketing is? So it's a creepy practice when you connect a special JavaScript from Facebook, and they will understand your Facebook user ID when you visit website. And so then when you go to Facebook, you will see advertisement connected to your visits. For instance, like if you try to buy socks, then you will see advertisement about socks in the Facebook. all that stuff it's called for marketing there is a lot of very good gpr compatible analytics i personally use plausible but post hoc matomoto unami it's only the things which i know it's also a big list of other alternatives there is a very interesting website called european alternatives it's full of the like you know privacy first tools anyway there is a qr code if you want but i understand that managers could force you to use google analytics because you know they want to use it first there is a lot of managers who don't need this data in silicon value we have irrational data collection obsession we want more and more data without any good reasons there is a very good simple test is it obsession or not ask your manager what decision have you made in the last year based on this personal data from google analytics and if there is no decision it means they don't need it and it's just irrational but the most important part if your manager says that we need ggpr pop because we need google analytics because we need a lot of private data to you know make marketing Don trust them because there is a very big problem with that If you collect statistics how people you know buy on your website some of users will press yes, some of users press no on your GDPR popup. It's about 30 or 60% press no. So as a result, you will have data only about small fraction of your users. And this fraction is not random. it's subset of users with specific features and as it means this data which you will have about the private data is not statistically representative the full data so the fact that they are saying that we need to do some marketing research it means this because this you cannot trust this data it's only half of the users it's much better to do analytics based on the full data because it will be statistically correlated with the real users. And it's not only European users, European Union. Very soon we will have the same law everywhere, for instance, in California right now. And I personally believe that we as a software industry should change the society, to change the problem. I understand that it's hard to convince your company, it's hard to convince your managers, but it will be good. and we already did some revolution how many people make a website for internet explorer for internet explorer like i remember when the first when it was a problem that swell doesn't support internet explorer because somebody asked for it and what we did as a community back days we create a conspiracy which forced people to stop using that explorer this is what's our you know passion that days where is our passion nowadays to stop the gtpr pop-up okay second step remove number of data processors you know a lot of these pop-ups we care about privacy and then like thousands of people who have access to your data it's what i'm talking about uh a lot of companies have the same access to the same private data as you for instance any cdns any web hostings All mail support, all these intercom widgets, any widgets which you put on the website, they all have access to the same private data. And if more companies will have access you will have more problems more probability of leaks more probability of selling the data So try to reduce the number of companies who use For instance don use CDN for JavaScript libraries It also very bad for performance Don't use Google Font. Just download the WoV2 file, put it into your public directory and serve it. It's also much better for the performance. Then try to pre-flow self-hosted solutions. Even if you're starting as a cloud solution, it's better to have an option to go self-hosted. When you have money, then you will go to self-hosted. And my favorite one, try to combine CDN and cloud. I mean, don't use Cloudflare and AWS because they both will have access to the private data. Try to use CDN from the Cloudflare or try to use hosting from Cloudflare. Try to use CDN from AWS and try to use or try to use hosting from Cloudflare. So it will be the only one company. It will reduce risk. Okay, step number three. Try local first architecture. I will only like describe in general because the last talk will be amazing talk about the local first in depth. So I highly recommend that one. But the main problem is that that step is only for the new projects. You cannot use it in existing projects. It will be very hard. local first do you remember vnamp maybe i'm too old like others you know when we have music on our machine and could listen it during the blackout time in spain so it was a time but then iphone came and what is the problem we start to have two devices we have a phone and a laptop and to solve this problem we start to put all data to the cloud and each device start to be becoming a thin client to solve the problem of you know multiple devices so i want to suggest you third way let's continue keeping two devices but we will save all data here we still will have cloud but only to synchronize this data so your music will be here but every time when you add a music you will use cloud to send it to your phone this is the way there is a very good uh the term was created by Inca Switch. There is a whole manifesto. I highly recommend to read it. It's very pretty nice. But I will describe it in different manner. How many people use Notion here? Pretty popular. Notion is a cloud service. So all your

 Nodes is public, it's openly on their cloud and they can read it and they can train artificial intelligence etc. There is a different tool called Obsidian. It's not the only tool, Local First Nodes, but it's a good example. They keep all nodes locally on your machine, like a markdown files in a folder. And you can use any way to synchronize this folder with all your other machines, but you can use obsidian sync and pay five bucks per month as like monetization schema this is a very good example of you know true high-end local first I don't say that this is only local first because local first is not on and off switch it's a spectrum and like on the that side of spectrum it could be syncing giant with just a partial database replica like replication for instance remote remote framework but on the other side it could be peer-to-peer front-end and end-to-end encryption no server etc you don't need to go there find what is better for your businesses but even that way partial database replica is much better than nothing okay how to make local first application first we will put all data locally so we will have a lot of data and as a result we need a good database with good performance and rich query language. How to achieve it inside our Svelte application? With real databases. With WebAssembly, we can run SQLite and PGLite is Postgres, embedded Postgres, inside our Svelte application. It's pretty solid. It's very nice. Right now, there is a lot of businesses using this type of solutions. By the way, good part that you can use PGLite not only on the front end, because it's an embedded system, you can use it inside your server when you develop it locally. So instead of running two different Docker images, you can run only one because your Postgres will be inside your server. Anyway, then we need some persistent database storage. SQLite or Postgres need somewhere to put the data. There is a way. First, there is original private file system. It's a way for browser to give for the website a folder where the website could create any files. And another way is an index database Funny part that Firefox use SQLite for index database yeah opfs so if you will put sqlite inside that you will have sqlite inside sqlite but it still will be faster the funny part that it will be still a lot faster than just using indexed database never used indexed database it's just very bad database step two we don't like we should not write directly to database from our svelte code instead we will have a list of actions we call it log and when we try to change something in our state we will create a action and put it to the log then database is reading this log and when it's a new action it will apply to database and then it will go to the reactive store to your interface why do we need this log because not only our user could change the data it could be changed by another browser tab it could be changed by another user in the cloud and with this log we will have only one single source of changes as a result it doesn't matter who changed the data because the way will be completely similar and your code will be simpler second third you need crdt it sounds like some magical mathematical thing but to be honest it's pretty simple just use the library like after merge or ygs it's a tool to automatically resolve conflict if two people work with the same data they could create a conflict this system will automatically resolve it and the last step you will need two different passwords first password will open cloud but second one we will not send it to the cloud instead this password will be used to encrypt all actions which will send to the cloud as a result as we as a cloud provider will be not able to read these actions anymore so we need to we need these two passwords okay we made this architecture because we are patient because we are revolutionaries because we want to change society but the funny part we just open a few cool features for our business a few features which really makes money how first with local first we can use very simple server because all our clients is local it only inside the svelte so if you making a svelte uh startup you can hire two svelte developers and only one backend developers or even do it like on your own second you can not you you can have prototype without any server it offline first solution so it will work without server it will work offline and so you can present it to your investors make deals without server and it means that you will go to market early and it's better for the business more important part that it's very easy to scale because all your um logic happens locally as the result more users means you will have more hardware to run your application and so you don't need to pay more for your servers when you have more users and as a result you don't need on all the silicon value vc backed startups because it's much easier to have less money and start to scale without making uh taking a lot of money from vc no data no prayer and no problem there is nothing to steal from your database because you have you don't know anything about your users everything is encrypted but it's a funny part people tell that it's much easier to write a software when it's local why because right now we do a lot of imperative code in our components working with a network we do all this fetch manually and we need to think about all the edge cases etc but with local first we will put all this logic to the special service and as a result we will have declarative code in our svelte component as a result our svelte component will be much simpler and we can run we can write this service only once or like use some open source solutions and you know spend less on the networking and it's a very good it increases time of the feature delivering a lot at least what's what linear told and local first means the data locally and it means your application will be very fast you don't need to load the data you don't need to weight the data and performance is a very good selling point there is a very good example it's a linear how many many people use linear. It's a Jira-like tool. But the funniest part, that they think that local first is their business reasons why people start to use them. Because, like, you know, task manager is a very competitive market. It very hard to be there But they have faster application And this is why they could compete on this high competitive market another example is a pitch it a slideshow editor it has about 2 million users monthly users or like good notes they have 25 million monthly users and their local first and it means that local first it's a really was tested on production it's not new idea we have a multiple frameworks right now mine called lagax but i personally prefer electric sql it's a pg light and zero from replication you will be uh scott will talk about it on the last uh talk but also there is a very good guide called local first uh web.dev there will find all links to the all frameworks etc guides all important information that's all with local first but there is last step to do with the privacy you know there is a privacy in united states and there is a privacy in another world uh the main problem that you know like of course this is only for the big companies but we have a lot of privacy risks risks it's not only a government it's not only you know data brokers, clouds. It's also local community. You know, local church, which want to know is it you are good Christian or not, or could be your family member, you know, trying to unlock your phone while you're sleeping. It's also a privacy problem. And the main problem of our modern society that we only, like, we have, we speak a lot about diversity, but we are technically in neocolonism, well, all communication is about the United States. And we take care of only about privacy, which is related to the United States, which is important for the people from the United States. But if you start to care about the privacy around the whole world, sometimes you need to do completely opposite decisions. Imagine if I make news reader, which is privacy first. I try to sell it to the US market and people in the US don't trust cloud, so they prefer local first reader, when application will go directly to the website and download the news from there but what if i'm making the same reader for russian market in russia people trust american cloud they don't trust local internet provider and if i will do local first the internet provider

 will tell that this user go to the navalny.com and this user will be ended in jail so in russia people prefer to use clouds to hide where they are going from the government internet provider or imagine completely different case local police check in russian bill russia there is a it's reality like you can be checked by the police in metro on the street and they can ask you to unlock your phone and to check your subscriptions you can of course say that i have rights and they will break your legs or you can unlock your phone they will finally navalny channel and you go into jail so both options are pretty bad what we can do about it and to be honest we can if we start to think about it people ask solution from telegram team but they refuse to do anything this is why belorussian cyber partisans they created fork of telegram where you can define two different pin numbers and if you will enter a second pin number it automatically delete all dangerous channels and so you will save your freedom at least maybe it's like not work like this in russian belorussia anyway summary first next working date please remove gpr pop-up we don't need it it's just punishment for users second reduce number of services which have access to the private data Third, think about the local first. And last one, think about other privacy risks if you are making a big application. And again, very important quote, the decision we make about the privacy of our application today will determine the kind of society we live in tomorrow. That's all. This is my social media. This is the slides. Thank you.