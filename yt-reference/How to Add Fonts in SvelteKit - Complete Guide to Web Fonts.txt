 Hello and welcome to the video. Today's video is all about fonts in SvelteKit. I'm going to show you the two best ways that you can add fonts to your SvelteKit project. One way by using a project called FontSource and the second way by using any font that you can download. I'm also going to show you how you can optimize these fonts in a similar way to other frameworks like Next.js for example by adding preload tags to your HTML so that the fonts load extra quickly and finally I'm going to show you a common way that people add fonts but it actually has a bunch of problems and why you probably shouldn't be using it. Let's get on with the video. So I'm starting out here with a project that I just created. I literally just ran the new SV CLI and I got this new project set up. It is just the minimal template that we're going to be starting from and we're gonna customize this by adding some fonts and now the first way that I really like to add fonts is to use this package called font source and font source basically mirrors I think all Google fonts maybe also other fonts and they basically have little npm packages for all the different kinds of fonts so let's pick a font where we can like clearly see that it works and that's gonna be very different from this sort of default font let's maybe pick this one here this one called permanent marker. So what you can do here once you are on the website for FontSource you can click install here and it's going to tell you how to install this as a npm package. Let's go ahead and do that and see how we can make this work with SvelteKit. So I'll start by installing it. I will add the d flag, the development flag, because in SvelteKit, long story short, all of your dependencies get bundled so you actually can install most of your dependencies as dev dependencies but we're not going to go into that today. I got the font installed and you might ask like oh how do I use it now? Well it's so so simple. Let's start by creating a layout and since we're using Svelte 5 the way you add the slot in the layout is a little bit different so let me go ahead and just borrow this example layout from the docs instead of doing slot you do render children and then you have children that passed as a prop. So I'm just gonna do this and this is actually perfect because we're gonna create a couple of different routes. We're gonna have one route that we're gonna call font source and then we're gonna have another route which is gonna call local fonts that I'm gonna show you right after this. So I can go ahead and do that. Save the layout. Let's see that it still works. Here we go we have our little menu and let's now actually use FontSource and it couldn't be simpler it's literally just what it says here you just import the package that you just installed so let me go ahead and do that there we go now the fonts are loaded but we still of course need to specify the font family which we're gonna do here so I'm gonna go ahead and add a style tag here because we use the layout to load the fonts they going to be available to all of the routes inside the layout including this page route And let just go ahead and change the font of the welcome to SvelteKit text and see how that turns out There we go, beautiful. That's literally all we needed to do to get any Google font working and the best thing about the solution is that it's all local so you install the font locally and you never contact Google service and you never contact any external service at all. It's all hosted with your project. So that's perfect. So that's if you have a font that you want to use that is available on Google Fonts, but what if you want to use any font? Right, so let's tackle that. Let's go to this local fonts page. Let's create the route. I'm gonna go ahead and create a route called local here. Plus page.svelte. I'm gonna copy it from the other route and just create a different route. So we have one route here which is called FontSource and one called LocalFont where we haven't applied anything yet. So now let's see how we can use LocalFonts and first of all we need to download some LocalFonts and luckily you can actually download some LocalFonts from here. So I'm going to use FontSource fonts just for the demo but you can use any font you want in any format, true type, woof, whatever. I'm going to pick a different font, this indie flower one, and instead of installing it I'm just going to press the download button which is going to provide it to me as a zip file and might be a tiny bit small here but once I open it I will have both the true type format and the web fonts format. Let's me for this demo just use the true type version. I should go into my project and somewhere in the lib folder I can simply place the font. Let me go ahead and just place it in this lib font fonts folder. So when we used font source, you know, font source was setting up everything. It was setting up the font family for us, the definition of the font name, but since we're now using a local font we have to provide that ourselves. Luckily, FontSource does have some examples that we can use for this. I believe it's here in the Advanced column. We can sort of get a kind of like an example font face to use, which is very convenient because we can use that to set up our font face. So let me go ahead and copy the font face definition here. Now, we could do this really anywhere. We could do this in the layout as well. in fact let's move it to the layout just to keep the consistency. I will go to the layout here and I will create a style tag, paste this in. We're not gonna bother with the Unicode ranges and stuff here, there we go, and we're only gonna handle the true type format. So let me go ahead and delete this. and so what we can do here which is so so cool is that in this URL field we can literally just point it to an import path within our project and we can use the Vita aliases that SvelteKit set up So we can simply do lib fonts and then the name of the font. Here we go. So now we've registered the font. Obviously we have to keep track of the stuff like the font style and the weight ourselves but that seems to match now with the default settings. And now in the page I can go ahead and do this and I believe this is the correct font family. Yes. And when I save this now and check how it looks locally, there we go. Now we can switch between these two different versions. We got one font coming from the font source package and we have the second font coming from a local font file that we just added to our project without any packages or anything. There is one thing more that I told you that I was going to show you and that is how to optimize these fonts by adding a preload tag. Some frameworks do this by default to help you with this SvelteKit doesn't do it yet but it is fairly easy to add and I'm going to show you how you can do that. And what we need to do is to customize the handle hook that SvelteKit provides and I'm gonna just go ahead and I'm gonna borrow the example code here that they have in the handle and I'm gonna create this file called hooks.server.ts under the source folder paste the example in we don't need this custom route that they show as an example here and we need to add one thing which is we need to add a parameter to this resolve function so if we look in the docs there is this parameter called preload now it is not fantastically well documented or rather there's no like example that shows you how to use it. I will add a link in this video to a repo that shows you exactly how you should use this, how you should add this hook so that you can just copy paste it into your project and be done with it. But the way it works is that you pass a second parameter to the result function here and it's called preload and this one, this parameter takes a function that basically tells, I think it tells Vite, which types of resources to preload and it has some sort of default but you need to add the type font to it. So what we need to do here is we need to say type font or type JS or type CSS. And that's it. That's all you need to do. And if you have like already a custom hooks set up, it's very easy to add just this thing using this really handy function called sequence. And sequence basically it allows you to chain multiple of these kind of like handle hook middlewares together. So you just type, you just put sequence and then maybe you have like some course handling and some login handling and then maybe this fonts stuff Now when you add this and we take a look at the output it actually not going to change because I think this is some sort of magic that happens in the sort of build step. So what we're gonna do instead is we're gonna build the project and preview it so we can see how it would look in production with all of these changes. Let's go ahead and do that. Alright, so I'm running the preview server now. I'm gonna go to the port 4173, which is the preview port, and just verifying here that everything still works. The font still loads, both the font source one and the local one. And now let's look at the page source, and what we will find here is that we have these tags here link rel preload and then it's going to include both of the two fonts we added so because we have them in the same layout they both get added and I think it doesn't matter where at which depth you add the the fonts they should all be added here to the head to be preloaded and here we have the first font we added from font source this one called permanent marker and then we have the second font that we added manually ourselves called indie flower and that's it that's really all you need to know about fonts. Now I did say I was going to show you one way that maybe isn't so good to use fonts and that is to use the static folder. So theoretically you can just do the same thing as we kind of did here with lib where we would like to paste this font in in here into the static folder and then instead of doing like this nice lib stuff we would just go you know slash like this and I think this works and maybe even maybe this is even the the primary way or the initial way that some people might try this yeah so you see that works fine as well we did get that little flash of unstyled content which is might be one of the downsides of this approach but the the big downside with this approach is that one you have no versioning control of this font so when you import it with Vite, Vite kind of keeps track of the file if it changes it will change the file's name to kind of make sure that it gets cache busted for you and the second problem with this approach of using the static folder is that we no longer have access to this nice automatic preloading ability that we implemented using the handle hook. So for those two reasons I really don't recommend to use this approach. Instead use the font source approach or if you have any font that is outside of the font source library use the local font approach where you just place the fonts into the lib folder. Alright that wraps it up for today's video. I really hope you liked it. If you have some thoughts about this, if you have any other ways to add fonts that I don't know about, please let me know in the comments. If you have ideas for future videos, I would love to hear them. And finally, if you like the video, press the like button and subscribe and I'll see you in the next video.